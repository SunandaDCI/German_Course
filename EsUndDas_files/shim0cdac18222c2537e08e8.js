/*! For license information please see shim0cdac18222c2537e08e8.js.LICENSE.txt */
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="150d8a73-ed82-4e11-a383-5217e018e3b8",e._sentryDebugIdIdentifier="sentry-dbid-150d8a73-ed82-4e11-a383-5217e018e3b8")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"prod:2024-03-14T09:25:04.332Z"},(()=>{var e={7:(e,t,n)=>{"use strict";n.d(t,{_M:()=>f,s$:()=>p});var r=n(6356),i=n(2084),o=n(1096),s=n(1736);const a=("text",e=>()=>{const t=l(e);return fetch(...t).then((e=>{return n=void 0,r=void 0,o=function*(){if(!e.ok)return s.left(c(new Error(`Request responded with status code ${e.status}`),e,t));const n=yield e.text(),r={response:e,data:n,input:t};return s.right(r)},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{u(o.next(e))}catch(e){t(e)}}function a(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}u((o=o.apply(n,r||[])).next())}));var n,r,i,o})).catch((e=>s.left(u(s.toError(e),t))))});const u=(e,t)=>({type:"RequestError",error:e,input:t}),c=(e,t,n)=>({type:"ResponseError",response:t,error:e,input:n}),l=e=>Array.isArray(e)?e:[e,{}],d=e=>i.local((t=>(0,r.pipe)(l(t),o.mapSnd((t=>Object.assign({method:e},t)))))),f=(0,r.pipe)(a,d("GET")),p=(0,r.pipe)(a,d("POST"));(0,r.pipe)(a,d("PUT")),(0,r.pipe)(a,d("PATCH")),(0,r.pipe)(a,d("DELETE"))},2920:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.withBody=void 0;var s=o(n(1736)),a=n(9320),u=o(n(2084)),c=o(n(1096)),l=n(6356),d=n(5732);t.withBody=function(e){return function(t){return(0,l.pipe)(p(e),u.chain(f(t)))}};var f=function(e){return function(t){return(0,l.pipe)(e,u.local((function(e){return(0,l.pipe)((0,d.normalizeReqInput)(e),c.mapSnd((function(e){return Object.assign({},{body:t},e)})))})))}},p=function(e){return(0,l.pipe)(u.ask(),u.chain((function(t){return u.fromEither((0,l.pipe)(h(e),s.mapLeft((function(e){return(0,d.toRequestError)(e,(0,d.normalizeReqInput)(t))}))))})))},h=function(e){return"Object"!==Object.getPrototypeOf(e).constructor.name?s.right(e):(0,l.pipe)((0,a.stringify)(e),s.mapLeft(s.toError))}},7056:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.toDecoder=t.withDecoder=void 0;var a=s(n(1736)),u=n(9320),c=n(6992),l=s(n(2084)),d=n(6356),f=n(5732),p=n(7552),h=n(2224);t.withDecoder=function(e){return function(t){return(0,d.pipe)(t,(0,h.withHeaders)({Accept:"application/json"}),l.chain((function(t){return l.fromEither((0,d.pipe)(g(t),a.chain(e),a.bimap((function(e){return(0,f.toResponseError)(e,(0,p.cloneResponse)(t.response,t.data),t.input)}),(function(e){return r(r({},t),{data:e})}))))})))}},t.toDecoder=function(e,t){return(0,d.pipe)(e,(0,c.mapLeft)(t))};var g=function(e){var t=e.data;if("object"==typeof t)return a.right(t);var n=String(t),r=0===n.length?"{}":n;return(0,d.pipe)((0,u.parse)(r),a.mapLeft(a.toError))}},2224:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.withHeaders=void 0;var a=s(n(2084)),u=n(2312),c=n(2176),l=s(n(1096)),d=n(6356),f=n(5732),p=(0,u.getMonoid)((0,c.last)());t.withHeaders=function(e){return a.local((function(t){return(0,d.pipe)((0,f.normalizeReqInput)(t),l.mapSnd((function(t){return h(t,e)})))}))};var h=function(e,t){var n=void 0===e.headers?m(t):g(t,e.headers);return r(r({},e),{headers:n})},g=function(e,t){return p.concat(m(e),m(t))},m=function(e){if(Array.isArray(e))return e.reduce((function(e,t){var n,i=t[0],o=t[1];return r(r({},e),((n={})[i]=o,n))}),{});if(e instanceof Headers){var t={};return e.forEach((function(e,n){return t[n]=e})),t}return e}},2988:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.withUrlParams=void 0;var s=o(n(1736)),a=o(n(2084)),u=n(6356),c=n(5732);t.withUrlParams=function(e){return function(t){return(0,u.pipe)(d(e),a.chain(l(t)))}};var l=function(e){return function(t){return(0,u.pipe)(e,a.local((function(){return t})))}},d=function(e){return(0,u.pipe)(a.ask(),a.chain(f(e)))},f=function(e){return function(t){return(0,u.pipe)((0,c.normalizeReqInput)(t),(function(t){var n=t[0],r=t[1];return(0,u.pipe)(p(n),s.chain((function(t){return h(g(new URLSearchParams(e),t.searchParams),t)})),s.bimap((function(e){return(0,c.toRequestError)(e,[n,r])}),(function(e){return[e.toString(),r]})))}),a.fromEither)}},p=function(e){return s.tryCatch((function(){return new URL(new Request(e).url)}),s.toError)},h=function(e,t){return s.tryCatch((function(){var n=new URL(t.toString());return n.search=e.toString(),n}),s.toError)},g=function(e,t){var n=new URLSearchParams(e.toString());return t.forEach((function(e,t){n.set(t,e)})),n}},5732:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(e){o(e)}}function a(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeReqInput=t.toResponseError=t.toRequestError=t.request=t.requestAs=void 0;var u=o(n(1736));t.requestAs=function(e){return function(n){return function(){var r=(0,t.normalizeReqInput)(n);return fetch.apply(void 0,r).then((function(n){return s(void 0,void 0,void 0,(function(){var i,o;return a(this,(function(s){switch(s.label){case 0:return n.ok?[4,n[e]()]:[2,u.left((0,t.toResponseError)(new Error("Request responded with status code ".concat(n.status)),n,r))];case 1:return i=s.sent(),o={response:n,data:i,input:r},[2,u.right(o)]}}))}))})).catch((function(e){return u.left((0,t.toRequestError)(u.toError(e),r))}))}}},t.request=(0,t.requestAs)("text"),t.toRequestError=function(e,t){return{type:"RequestError",error:e,input:t}},t.toResponseError=function(e,t,n){return{type:"ResponseError",response:t,error:e,input:n}},t.normalizeReqInput=function(e){return Array.isArray(e)?e:[e,{}]}},7552:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneResponse=void 0,t.cloneResponse=function(e,t){var n;try{n="object"==typeof t?JSON.stringify(t):String(t)}catch(e){n=null}return new Response(n,{headers:e.headers,status:e.status,statusText:e.statusText})}},6372:(e,t,n)=>{"use strict";n.d(t,{_N:()=>$,ae:()=>Bt,gT:()=>gt,s1:()=>_t,Qf:()=>Qt,G6:()=>yt,Su:()=>E,Ud:()=>W,Sq:()=>ht,Yn:()=>r});var r={};n.r(r),n.d(r,{accountServiceBuilder:()=>Hn,articlesServiceBuilder:()=>zn,categoriesServiceBuilder:()=>Dn,operations:()=>Bn,requestFunctionsBuilder:()=>Fn,schemaServiceBuilder:()=>Kn});var i=n(7176),o=i.s$({type:i.uA("anonymous")}),s=i.s$({type:i.uA("claim"),name:i.Qb,email:i.Qb}),a=i.s$({type:i.uA("external"),id:i.Qb}),u=i.s$({type:i.uA("verified-jwe"),token:i.Qb}),c=i.SQ([o,s,a,u]),l=function(e){return i.s$({id:i.Qb,type:i.uA(e)})},d=l("command-execution-failed"),f=function(e){return i.s$({payload:e})},p=i.s$({conversation_id:i.Qb}),h=i.s$({message_id:i.Qb}),g=i.s$({timestamp:i.Qb}),m=i.s$({reply_to_message_id:i.Qb}),v=function(e){return i.s$({command_id:i.Qb,error_code:i.uA(e)})},y=function(e){return i.WR([p,e])},b=function(e){return i.WR([h,e])},_=function(e){return i.WR([g,e])},w=function(e){return i.WR([m,e])},S=i.WR([l("identify-me"),f(c)]),R=l("echo-my-auth-level"),I=i.WR([l("auth-level-echoed"),f(g),f(i.s$({authLevel:i.SQ([o.props.type,s.props.type,u.props.type,a.props.type])}))]),x=i.WR([l("identity-verified"),f(g)]),E=i.WR([d,f(_(v("identity-verification-failed")))]),C=i.WR([d,f(_(v("identity-not-verified")))]),O=i.SQ([i.uA("ANONYMOUS"),i.uA("CLAIMED"),i.uA("VERIFIED")]),T=i.s$({kind:O}),A=i.WR([d,f(i.WR([_(v("identification-required")),T]))]),W=i.WR([d,f(_(v("invalid-email-address"))),f(i.s$({email:i.Qb}))]),Q=i.s$({id:i.Qb,name:i.Qb,avatar_url:i.SQ([i.Qb,i.M1])}),M=function(e){return i.s$({sender:e})},k=function(e,t){return i.s$({type:i.uA(e),content:t})},$=i.s$({url:i.Qb,name:i.Qb,content_type:i.Qb,size:i.CQ,checksum:i.Qb}),P=k("attachment",$),U=i.SQ([i.uA("emojis"),i.uA("stars"),i.uA("numbers")]),j=k("csat-request",i.WR([i.s$({rating_type:U}),i.IB({rating_question:i.Qb,followup_question:i.Qb,followup_question_placeholder_text:i.Qb,thank_you_message:i.Qb})])),L=i.SQ([i.uA(1),i.uA(2),i.uA(3),i.uA(4),i.uA(5)]),N=k("csat-response",w(i.WR([i.s$({score:L}),i.IB({comment:i.Qb})]))),q=i.s$({type:i.uA("elevio"),url:i.Qb,title:i.Qb,articleId:i.Qb,companyId:i.Qb}),B=k("text",i.WR([i.s$({text:i.Qb}),i.IB({contentType:i.Qb,title:i.Qb,sources:i.M$(q),subText:i.Qb})])),F=i.s$({type:i.uA("contact-form-request")}),D=k("contact-form-response",w(i.WR([i.s$({message:i.Qb}),i.IB({email:i.Qb,name:i.Qb})]))),z=i.s$({id:i.Qb,label:i.Qb}),H=k("chat-menu-request",i.WR([i.s$({message:i.Qb,options:i.M$(z)}),i.IB({title:i.Qb,horizontalAlignment:i.cT})])),K=k("chat-menu-option-chosen",w(i.s$({chosen_option_id:i.Qb}))),G=k("chat-input-request",i.WR([i.s$({message:i.Qb,label:i.Qb}),i.IB({placeholder:i.Qb})])),J=k("chat-input-response",w(i.s$({answer:i.Qb}))),V=i.SQ([i.uA("submit"),i.uA("cancel")]),Y=i.s$({type:i.uA("required"),errorMessage:i.Qb}),Z=i.s$({type:i.uA("regex"),value:i.Qb,errorMessage:i.Qb}),X=i.s$({type:i.uA("max-single-file-size"),limit:i.q,errorMessage:i.Qb}),ee=i.s$({type:i.uA("max-total-files-size"),limit:i.q,errorMessage:i.Qb}),te=i.s$({type:i.uA("mime-types"),validMimeTypes:i.M$(i.Qb),errorMessage:i.Qb}),ne=i.SQ([Y,Z,X,ee,te]),re=i.WR([i.s$({key:i.Qb,validations:i.M$(ne)}),i.IB({placeholder:i.Qb,label:i.Qb,initialValue:i.Qb})]),ie=i.WR([re,i.s$({type:i.uA("textarea")})]),oe=i.WR([re,i.s$({type:i.uA("textfield")})]),se=i.WR([re,i.s$({type:i.uA("email")})]),ae=i.WR([re,i.s$({type:i.uA("select"),options:i.M$(i.Qb)})]),ue=i.WR([re,i.WR([i.s$({type:i.uA("files"),description:i.Qb,uploadFailedWarning:i.Qb}),i.IB({addFileLabel:i.Qb})])]),ce=i.SQ([oe,ie,se,ae,ue]),le=i.WR([i.s$({id:i.Qb,contentType:i.Qb,labels:i.IB({body:i.Qb,submit:i.Qb,title:i.Qb,submitSuccessMessage:i.Qb}),fields:i.M$(ce)}),i.IB({formVersion:i.CQ,preSubmit:i.s$({confirmation:i.s$({question:i.Qb,buttons:i.M$(i.s$({action:V,label:i.Qb}))})})})]),de=i.s$({value:i.Qb}),fe=i.s$({files:i.M$($),type:i.uA("files")}),pe=i.SQ([de,fe]),he=i.WR([i.s$({id:i.Qb,fields:i.Kw(i.Qb,pe)}),i.IB({formVersion:i.CQ})]),ge=k("form-request",le),me=k("form-response",w(he)),ve=i.s$({from:i.uA("agent"),agent_id:i.Qb}),ye=i.s$({type:i.uA("agent"),agent_id:i.Qb}),be=i.SQ([B,P,H,G,ge]),_e=i.WR([l("deliver-message"),M(ve),f(y(b(_(be))))]),we=i.WR([l("message-sent"),f(i.WR([p,h,g]))]),Se=i.WR([l("message-delivered"),f(i.WR([p,h]))]),Re=i.WR([Se,f(g)]),Ie=i.WR([l("message-seen"),f(i.WR([p,h]))]),xe=i.WR([Ie,f(g)]),Ee=i.WR([l("messaging-allowed"),f(y(g))]),Ce=i.WR([l("messaging-disallowed"),f(y(g))]),Oe=i.WR([l("queue-timed-out"),f(y(g))]),Te=i.s$({from:i.uA("user")}),Ae=i.SQ([B,P,N,D,K,J,me]),We=i.WR([l("deliver-message"),M(Te),f(y(b(Ae)))]),Qe=i.WR([We,f(g)]),Me=i.WR([l("message-typing-started"),M(Te),f(p)]),ke=(i.WR([Me,f(g)]),i.WR([l("echo-message"),f(i.SQ([Qe,xe]))])),$e=i.WR([d,f(y(_(v("failed-to-deliver-message"))))]),Pe=(i.WR([d,f(i.WR([_(v("message-rejected")),i.IB({rejected_deliver_message_id:i.Qb,conversation_id:i.Qb})]))]),i.s$({from:i.uA("system"),subtype:i.uA("chatbot"),id:i.Qb})),Ue=i.s$({type:i.uA("system"),subtype:i.uA("chatbot"),id:i.Qb}),je=i.s$({from:i.uA("system")}),Le=i.s$({type:i.uA("system")}),Ne=i.SQ([Pe,je]),qe=i.SQ([Ue,Le]),Be=i.SQ([j,F,H,G,B,P,ge]),Fe=i.WR([l("deliver-message"),M(Ne),f(y(b(_(Be))))]),De=i.SQ([Ne,ve]),ze=i.WR([l("message-typing-started"),M(De),f(y(g))]),He=i.WR([l("agent-assignment-requested"),f(y(g))]),Ke=i.WR([l("agent-assigned"),f(y(_(Q)))]),Ge=i.WR([l("agent-unassigned"),f(y(_(i.s$({agent_id:i.Qb}))))]),Je=i.WR([i.s$({senderName:i.Qb}),i.IB({avatarUrl:i.Qb}),M(i.SQ([ye,qe]))]),Ve=i.WR([l("sender-joined"),f(y(_(Je)))]),Ye=i.WR([l("banned"),f(g)]),Ze=i.WR([l("unbanned"),f(g)]),Xe=i.WR([i.s$({origin:i.Qb}),i.IB({language:i.Qb})]),et=i.WR([l("start-conversation"),f(Xe)]),tt=i.WR([l("conversation-started"),f(y(_(i.s$({org_name:i.Qb}))))]),nt=i.s$({kind:i.SQ([i.uA("NON_TERMINAL"),i.uA("TERMINAL")])}),rt=i.WR([l("conversation-ended"),f(y(g)),nt]),it=i.WR([l("end-conversation"),f(p)]),ot=(i.WR([d,f(v("too-many-conversations"))]),i.WR([l("confirm-presence"),f(y(g))]),i.s$({conversation_id:i.Qb,language:i.Qb})),st=i.WR([l("conversation-language-updated"),f(_(ot))]),at=i.WR([l("update-conversation-language"),f(ot)]),ut=i.WR([d,f(v("unknown"))]),ct=i.WR([ut,f(g)]),lt=l("ping"),dt=l("pong"),ft=i.SQ([et,it,We,Se,Ie,S,R,I,lt,ut,at,Me]),pt=i.SQ([tt,rt,we,Re,xe,_e,Fe,Ee,Ce,He,Ke,Ge,$e,Oe,st,ze,Ve]),ht=i.SQ([pt,ke,x,A,C,E,W,Ye,Ze,ct,dt]),gt=i.SQ([Qe,pt]),mt=(i.SQ([ft,ht]),i.WR([l("session-ending"),f(g)]),i.s$({message:i.Qb}),i.SQ([i.uA("android"),i.uA("ios"),i.uA("ios_sandbox")])),vt=i.WR([i.s$({deviceToken:i.Qb,platform:mt}),i.IB({locale:i.Qb})]),yt=(i.WR([i.s$({messengerToken:i.Qb}),i.IB({previousSessionToken:i.Qb,pushNotification:vt})]),i.s$({sessionToken:i.Qb})),bt=(i.s$({sessionToken:i.Qb,contentType:i.Qb,fileName:i.Qb}),i.s$({url:i.Qb,name:i.Qb,fields:i.Kw(i.Qb,i.Qb),originalName:i.Qb}),i.WR([i.s$({conversation_id:i.Qb,unseen_messages_count:i.CQ,org_name:i.Qb}),i.IB({agent:Q,last_message:i.SQ([Qe,_e])})])),_t=i.s$({open_conversations:i.M$(bt),closed_conversations:i.M$(bt)}),wt=(i.s$({history:i.M$(gt)}),i.SQ([i.uA("branded-dixa-icon"),i.uA("unbranded-default-icon")])),St=i.SQ([i.s$({type:i.uA("preset"),id:wt}),i.s$({type:i.uA("custom"),url:i.Qb})]),Rt={ar:i.Qb,da:i.Qb,de:i.Qb,es:i.Qb,en:i.Qb,et:i.Qb,fi:i.Qb,fr:i.Qb,hu:i.Qb,is:i.Qb,it:i.Qb,ja:i.Qb,ko:i.Qb,lt:i.Qb,lv:i.Qb,nl:i.Qb,no:i.Qb,pl:i.Qb,pt:i.Qb,ru:i.Qb,sv:i.Qb,th:i.Qb,tr:i.Qb,zh:i.Qb},It=i.ol(Rt),xt=i.IB(Rt),Et=i.SQ([i.Qb,i.M1]),Ct=i.SQ([i.uA("display-related-articles-on-the-home-page"),i.uA("display-button-for-access-to-articles")]),Ot=i.IB({bulletinBoard:i.s$({boardId:i.Qb,enabled:i.cT}),elevio:i.WR([i.s$({companyId:i.Qb,enabled:i.cT}),i.IB({displayType:Ct,searchBarPlaceholder:xt})])}),Tt=i.IB({elevio:i.WR([i.s$({companyId:Et}),i.IB({displayType:Ct,searchBarPlaceholder:xt})])}),At=i.WR([i.s$({title:xt,description:xt,bulletinBoardId:Et,bulletinBoardEnabled:i.cT,availableLocales:i.M$(It),minimumIdentification:O}),i.IB({logo:i.Qb,integrations:Tt,startConversation:xt,findArticles:xt})]),Wt=i.WR([i.s$({theme:i.s$({background:i.Qb})}),i.IB({icon:St})]),Qt=i.s$({version:i.uA(1),style:Wt,general:At,avatars:i.M$(i.Qb)}),Mt=i.s$({title:xt,description:xt,availableLocales:i.M$(It),minimumIdentificationLevel:O}),kt=i.IB({startConversation:xt,findArticles:xt}),$t=i.WR([Mt,kt]),Pt=i.s$({nameDisplay:i.SQ([i.uA("display-name-full"),i.uA("display-name-first-word")])}),Ut=i.WR([$t,i.IB({logo:i.s$({type:i.uA("fixed"),fixed:i.s$({url:i.Qb,fileId:i.Qb})}),agent:Pt})]),jt=i.WR([i.s$({theme:i.s$({background:i.Qb})}),i.IB({icon:St})]),Lt=i.SQ([i.s$({type:i.uA("random"),random:i.s$({url:i.Qb})}),i.s$({type:i.uA("fixed"),fixed:i.s$({url:i.Qb})})]),Nt=(i.s$({version:i.uA(2),style:jt,integrations:Ot,general:i.WR([$t,i.IB({logo:i.SQ([i.M1,i.s$({type:i.uA("fixed"),fixed:i.s$({fileId:i.Qb})})]),agent:Pt})])}),i.s$({version:i.uA(2),general:Ut,style:jt,avatars:i.M$(Lt),integrations:Ot}),i.SQ([i.uA("link"),i.uA("text")])),qt=i.s$({id:i.Qb,title:i.Qb,content:i.Qb,contentType:Nt,order:i.CQ}),Bt=i.s$({data:i.M$(qt)}),Ft={_tag:"FormParameter",explode:!1,in:"path",name:"articleId"},Dt={_tag:"FormParameter",explode:!1,in:"path",name:"categoryId"},zt={_tag:"FormParameter",explode:!0,in:"query",name:"languageId"},Ht={_tag:"FormParameter",explode:!0,in:"query",name:"limit"},Kt={_tag:"FormParameter",explode:!0,in:"query",name:"offset"},Gt={_tag:"FormParameter",explode:!0,in:"query",name:"pageUrl"},Jt=i.WR([i.s$({uid:i.Qb,kbLink:i.Qb,defaultLanguage:i.s$({id:i.Qb,englishName:i.Qb,nativeName:i.Qb})}),i.IB({name:i.SQ([i.Qb,i.M1])})]),Vt=i.s$({data:i.s$({accountSettings:Jt})}),Yt=i.s$({message:i.Qb}),Zt=i.IB({errors:i.M$(Yt)}),Xt=i.WR([i.s$({id:i.Qb,title:i.Qb,lastPublishedAt:i.CQ,slug:i.Qb,pinned:i.cT}),i.IB({tags:i.M$(i.Qb)})]),en=i.WR([Xt,i.IB({summary:i.SQ([i.Qb,i.M1])})]),tn=i.s$({articleTitle:i.Qb,pageUrl:i.Qb}),nn=(i.WR([tn,i.WR([i.s$({text:i.Qb}),i.IB({email:i.Qb})])]),i.s$({status:i.Qb})),rn=i.s$({data:i.s$({articleComment:nn})}),on=(i.WR([tn,i.s$({reaction:i.SQ([i.uA("POSITIVE"),i.uA("NEGATIVE")])})]),i.s$({data:i.s$({articleFeedback:nn})})),sn=i.s$({id:i.Qb,title:i.Qb}),an=i.WR([en,i.WR([i.s$({body:i.Qb,createdAt:i.CQ,lastUpdatedAt:i.CQ,category:sn,author:i.s$({id:i.Qb,name:i.Qb,avatar:i.Qb}),contributors:i.M$(i.Qb),wordCount:i.CQ,keywords:i.M$(i.Qb)}),i.IB({featuredImageUrl:i.SQ([i.Qb,i.M1])})])]),un=i.s$({data:i.s$({article:an})}),cn=i.s$({data:i.s$({articleView:nn})}),ln=i.WR([sn,i.WR([i.s$({slug:i.Qb}),i.IB({featuredImageUrl:i.SQ([i.Qb,i.M1])})])]),dn=i.WR([ln,i.IB({parentCategory:i.SQ([ln,i.M1]),subCategories:i.M$(ln)})]),fn=i.s$({data:i.s$({categories:i.M$(dn)})}),pn=i.s$({totalCount:i.CQ,currentPage:i.CQ,totalPages:i.CQ}),hn=i.s$({id:i.Qb,title:i.Qb,articles:i.s$({pageInfo:pn,results:i.M$(i.s$({id:i.Qb,title:i.Qb,lastPublishedAt:i.CQ}))})}),gn=i.WR([hn,i.s$({subCategories:i.M$(hn)})]),mn=i.s$({data:i.s$({categoriesWithArticles:i.M$(gn)})}),vn=i.s$({data:i.s$({category:dn})}),yn=i.s$({id:i.Qb,articles:i.s$({pageInfo:pn,results:i.M$(en)})}),bn=i.s$({data:i.s$({category:yn})}),_n=(i.WR([i.s$({languageId:i.Qb,pageUrl:i.Qb,text:i.Qb}),i.IB({paging:i.IB({limit:i.CQ,offset:i.CQ}),filters:i.IB({pinState:i.SQ([i.uA("PINNED"),i.uA("UNPINNED")]),tags:i.M$(i.Qb)})})]),i.WR([Xt,i.WR([i.s$({category:sn}),i.IB({highlights:i.SQ([i.s$({title:i.M$(i.Qb),body:i.M$(i.Qb)}),i.M1])})])])),wn=i.s$({pageInfo:pn,results:i.M$(_n)}),Sn=i.s$({data:i.s$({searchArticles:wn})}),Rn=i.s$({data:i.s$({suggestArticles:wn})}),In=i.s$({data:i.s$({suggestArticlesFromContext:wn})}),xn=(i.WR([i.s$({languageId:i.Qb,pageUrl:i.Qb,keywords:i.M$(i.Qb),autosuggest:i.cT}),i.IB({paging:i.IB({limit:i.CQ,offset:i.CQ})})]),n(9760)),En=n(1736),Cn=n(6356),On=Object.defineProperty,Tn=Object.getOwnPropertySymbols,An=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,Qn=(e,t,n)=>t in e?On(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mn=(e,t)=>{for(var n in t||(t={}))An.call(t,n)&&Qn(e,n,t[n]);if(Tn)for(var n of Tn(t))Wn.call(t,n)&&Qn(e,n,t[n]);return e};function kn(e){return{_tag:"RequestError",error:e}}function $n(e){return{_tag:"DecodeError",errors:e}}function Pn(e){return{_tag:"ContentParseError",error:e}}function Un(e,t,n){if(null==n)return[];switch(t._tag){case"JsonParameter":return[[e,JSON.stringify(n)]];case"FormParameter":return function(e,t,n){return Array.isArray(n)?t?n.map((t=>[e,Nn(t)])):[[e,n.map(Nn).join(",")]]:"object"!=typeof n||null==n||n instanceof Date?[[e,Nn(n)]]:jn(e,t,n)}(e,t.explode,n)}}function jn(e,t,n){return t?Object.entries(n).map((([e,t])=>[e,Nn(t)])):[[e,Object.entries(n).flatMap((([e,t])=>[e,Nn(t)])).join(",")]]}function Ln(e,t){return t.filter((t=>t.in===e))}function Nn(e){return e instanceof Date?e.toISOString():String(e)}var qn=(e,t)=>(...n)=>{var r;const[i]=n;return(0,Cn.pipe)(function(e,t,n){return(0,Cn.pipe)(En.Do,En.bind("url",(()=>function(e,t){return(0,Cn.pipe)(En.Do,En.bind("path",(()=>function(e,t,n){let r=e;for(const e of t){const t=Nn(n[e.name]);r=r.replace(`{${e.name}}`,t)}return En.right(r)}(e.path,Ln("path",e.parameters),t))),En.bind("queryString",(()=>function(e,t){const n=new URLSearchParams;for(const r of e){const e=Un(r.name,r,t[r.name]);for(const[t,r]of e)n.append(t,r)}return En.right(n.toString())}(Ln("query",e.parameters),t))),En.map((({path:e,queryString:t})=>`${e}${t?`?${t}`:""}`)))}(e,t))),En.bind("headers",(()=>function(e,t){const n={};for(const r of Ln("header",e.parameters))n[r.name]=Nn(t[r.name]);return En.right(Mn(Mn({},e.requestDefaultHeaders),n))}(e,t))),En.bind("body",(()=>function(e,t){if(null==e)return En.right(null);switch(e._tag){case"TextBody":case"BinaryBody":return En.right(t);case"JsonBody":return En.right(JSON.stringify(t));case"FormBody":return function(e){if("object"==typeof e&&null!=e){const t=new URLSearchParams;for(const[n,r]of jn("",!0,e))t.append(n,r);return En.right(t)}return(0,Cn.pipe)(new Error("requestBody for a form encoded body should be a not null object, received "+typeof e),kn,En.left)}(t);case"MultipartBody":return function(e){if("object"==typeof e&&null!=e){const t=new FormData;for(const[n,r]of Object.entries(e))t.append(n,r);return En.right(t)}return(0,Cn.pipe)(new Error("requestBody for a multipart form body should be a not null object, received "+typeof e),kn,En.left)}(t)}}(e.body,n))),En.map((({url:t,headers:n,body:r})=>({url:t,init:{method:e.method,body:r,headers:n}}))))}(e,null!=(r=null==i?void 0:i.params)?r:{},null==i?void 0:i.body),xn.O1,xn.YH((({url:e,init:n})=>function(e,t,n){return xn.vr((()=>n(e,t)),(e=>kn(En.toError(e))))}(e,n,t))),xn.aA((t=>function(e,t){return e.ok?function(e,t){const n=function(e,t){const n=t[e.toString()];if(null!=n)return n;const r=t[`${e.toString()[0]}XX`];if(null!=r)return r;const i=t.default;return null!=i?i:void 0}(e.status,t);if(null==n)return xn.ec({data:void 0,response:e});switch(n._tag){case"EmptyResponse":return xn.ec({data:void 0,response:e});case"FileResponse":return function(e){return(0,Cn.pipe)(xn.vr((()=>e.blob()),(e=>Pn(En.toError(e)))),xn.kH((t=>({data:t,response:e}))))}(e);case"JsonResponse":return function(e,t){return(0,Cn.pipe)(function(e){return xn.vr((()=>e.json()),(e=>Pn(En.toError(e))))}(e),xn.YH((e=>(0,Cn.pipe)(t.decode(e),xn.O1,xn.rz($n)))),xn.kH((t=>({data:t,response:e}))))}(e,n.decoder)}}(e,t):function(e){return xn.kR(function(e){return{_tag:"HttpError",response:e}}(e))}(e)}(t,e.responses))))},Bn={getCategories:{path:"/categories",method:"get",responses:{200:{_tag:"JsonResponse",decoder:fn},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt}},parameters:[zt,Gt],requestDefaultHeaders:{Accept:"application/json"}},getCategoriesWithArticles:{path:"/categories/articles",method:"get",responses:{200:{_tag:"JsonResponse",decoder:mn},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt}},parameters:[zt,Gt,Kt,Ht],requestDefaultHeaders:{Accept:"application/json"}},getCategory:{path:"/categories/{categoryId}",method:"get",responses:{200:{_tag:"JsonResponse",decoder:vn},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt},404:{_tag:"JsonResponse",decoder:Zt}},parameters:[zt,Gt,Dt],requestDefaultHeaders:{Accept:"application/json"}},getCategoryArticles:{path:"/categories/{categoryId}/articles",method:"get",responses:{200:{_tag:"JsonResponse",decoder:bn},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt},404:{_tag:"JsonResponse",decoder:Zt}},parameters:[zt,Gt,Dt,Kt,Ht],requestDefaultHeaders:{Accept:"application/json"}},getArticle:{path:"/articles/{articleId}",method:"get",responses:{200:{_tag:"JsonResponse",decoder:un},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt},404:{_tag:"JsonResponse",decoder:Zt}},parameters:[zt,Gt,Ft],requestDefaultHeaders:{Accept:"application/json"}},articleFeedback:{path:"/articles/{articleId}/feedback",method:"post",responses:{200:{_tag:"JsonResponse",decoder:on},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt}},parameters:[Ft],requestDefaultHeaders:{"Content-Type":"application/json",Accept:"application/json"},body:{_tag:"JsonBody"}},articleComment:{path:"/articles/{articleId}/comment",method:"post",responses:{200:{_tag:"JsonResponse",decoder:rn},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt}},parameters:[Ft],requestDefaultHeaders:{"Content-Type":"application/json",Accept:"application/json"},body:{_tag:"JsonBody"}},articleView:{path:"/articles/{articleId}/view",method:"post",responses:{200:{_tag:"JsonResponse",decoder:cn},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt}},parameters:[Ft],requestDefaultHeaders:{"Content-Type":"application/json",Accept:"application/json"},body:{_tag:"JsonBody"}},searchArticles:{path:"/articles/search",method:"post",responses:{200:{_tag:"JsonResponse",decoder:Sn},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt}},parameters:[],requestDefaultHeaders:{"Content-Type":"application/json",Accept:"application/json"},body:{_tag:"JsonBody"}},suggestArticles:{path:"/articles/suggest",method:"post",responses:{200:{_tag:"JsonResponse",decoder:Rn},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt}},parameters:[],requestDefaultHeaders:{"Content-Type":"application/json",Accept:"application/json"},body:{_tag:"JsonBody"}},suggestFromContextArticles:{path:"/articles/suggest_contextual",method:"post",responses:{200:{_tag:"JsonResponse",decoder:In},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt}},parameters:[],requestDefaultHeaders:{"Content-Type":"application/json",Accept:"application/json"},body:{_tag:"JsonBody"}},accountSettings:{path:"/account/settings",method:"get",responses:{200:{_tag:"JsonResponse",decoder:Vt},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt},404:{_tag:"JsonResponse",decoder:Zt}},parameters:[],requestDefaultHeaders:{Accept:"application/json"}},verifyAccount:{path:"/account/verify",method:"get",responses:{204:{_tag:"EmptyResponse"},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt}},parameters:[],requestDefaultHeaders:{}},schema:{path:"/schema",method:"get",responses:{200:{_tag:"JsonResponse",decoder:i.Qb},400:{_tag:"JsonResponse",decoder:Zt},401:{_tag:"JsonResponse",decoder:Zt}},parameters:[],requestDefaultHeaders:{Accept:"application/json"}}},Fn=function(e){return{getCategories:qn(Bn.getCategories,e),getCategoriesWithArticles:qn(Bn.getCategoriesWithArticles,e),getCategory:qn(Bn.getCategory,e),getCategoryArticles:qn(Bn.getCategoryArticles,e),getArticle:qn(Bn.getArticle,e),articleFeedback:qn(Bn.articleFeedback,e),articleComment:qn(Bn.articleComment,e),articleView:qn(Bn.articleView,e),searchArticles:qn(Bn.searchArticles,e),suggestArticles:qn(Bn.suggestArticles,e),suggestFromContextArticles:qn(Bn.suggestFromContextArticles,e),accountSettings:qn(Bn.accountSettings,e),verifyAccount:qn(Bn.verifyAccount,e),schema:qn(Bn.schema,e)}},Dn=function(e){return{getCategories:e.getCategories,getCategoriesWithArticles:e.getCategoriesWithArticles,getCategory:e.getCategory,getCategoryArticles:e.getCategoryArticles}},zn=function(e){return{getCategoryArticles:e.getCategoryArticles,getArticle:e.getArticle,articleFeedback:e.articleFeedback,articleComment:e.articleComment,articleView:e.articleView,searchArticles:e.searchArticles,suggestArticles:e.suggestArticles,suggestFromContextArticles:e.suggestFromContextArticles}},Hn=function(e){return{accountSettings:e.accountSettings,verifyAccount:e.verifyAccount}},Kn=function(e){return{schema:e.schema}}},444:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});const r="production"},924:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},5752:(e,t,n)=>{"use strict";n.d(t,{AN:()=>u,Wm:()=>c});var r=n(7808),i=n(7916),o=n(9584),s=n(1464),a=n(924);function u(){return(0,r.a)("globalEventProcessors",(()=>[]))}function c(e,t,n,r=0){return new i.Gg(((i,u)=>{const l=e[r];if(null===t||"function"!=typeof l)i(t);else{const d=l({...t},n);a.Q&&l.id&&null===d&&o.QE.log(`Event processor "${l.id}" dropped event`),(0,s.Oe)(d)?d.then((t=>c(e,t,n,r+1).then(i))).then(null,u):c(e,d,n,r+1).then(i).then(null,u)}}))}},5712:(e,t,n)=>{"use strict";n.d(t,{Qr:()=>i,ao:()=>s,gf:()=>o});var r=n(6264);function i(e,t){(0,r.WS)().setContext(e,t)}function o(){return(0,r.WS)().getClient()}function s(){return(0,r.WS)().getScope()}},6264:(e,t,n)=>{"use strict";n.d(t,{WS:()=>y});var r=n(1464),i=n(4568),o=n(5960),s=n(9584),a=n(7808),u=n(444),c=n(924),l=n(8760),d=n(1376),f=n(6424);const p=parseFloat(f.S),h=100;class g{constructor(e,t,n,r=p){let i,o;this._version=r,t?i=t:(i=new l.kp,i.setClient(e)),n?o=n:(o=new l.kp,o.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=o}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return(0,r.Oe)(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:(0,i.OW)(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:(0,i.OW)(),o=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,i.OW)();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:a=h}=r.getOptions&&r.getOptions()||{};if(a<=0)return;const u={timestamp:(0,o.CG)(),...e},c=i?(0,s.QD)((()=>i(u,t))):u;null!==c&&(r.emit&&r.emit("beforeAddBreadcrumb",c,t),n.addBreadcrumb(c,a))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=v(this);try{e(this)}finally{v(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return c.Q&&s.QE.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);return c.Q&&!n&&(this.getClient()?s.QE.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):s.QE.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&(0,d.yK)(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:i=u.a}=n&&n.getOptions()||{},{userAgent:o}=a.GLOBAL_OBJ.navigator||{},s=(0,d.yG)({release:r,environment:i,user:t.getUser(),...o&&{userAgent:o},...e}),c=t.getSession&&t.getSession();return c&&"ok"===c.status&&(0,d.mM)(c,{status:"exited"}),this.endSession(),t.setSession(s),s}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=m().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);c.Q&&s.QE.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function m(){return a.GLOBAL_OBJ.__SENTRY__=a.GLOBAL_OBJ.__SENTRY__||{extensions:{},hub:void 0},a.GLOBAL_OBJ}function v(e){const t=m(),n=b(t);return _(t,e),n}function y(){const e=m();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=m()){return t=e,!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)&&!b(e).isOlderThan(p)||_(e,new g),b(e);var t}(e)}function b(e){return(0,a.a)("hub",(()=>new g),e)}function _(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}},8760:(e,t,n)=>{"use strict";n.d(t,{kp:()=>l});var r=n(1464),i=n(5960),o=n(4568),s=n(9584),a=n(5752),u=n(1376),c=n(5760);class l{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=d()}static clone(e){return e?e.clone():new l}clone(){const e=new l;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&(0,u.mM)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if("function"==typeof e){const t=e(this);return t instanceof l?t:this}return e instanceof l?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession),e._propagationContext&&(this._propagationContext=e._propagationContext)):(0,r.oF)(e)&&(this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession),e.propagationContext&&(this._propagationContext=e.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=d(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,i.CG)(),...e},o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:i,_user:o,_level:s,_fingerprint:a,_eventProcessors:u,_propagationContext:c,_sdkProcessingMetadata:l,_transactionName:d,_span:f}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:i,user:o,level:s,fingerprint:a||[],eventProcessors:u,propagationContext:c,sdkProcessingMetadata:l,transactionName:d,span:f}}applyToEvent(e,t={},n=[]){(0,c.i0)(e,this.getScopeData());const r=[...n,...(0,a.AN)(),...this._eventProcessors];return(0,a.Wm)(r,e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:(0,o.OW)();if(!this._client)return s.QE.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:(0,o.OW)();if(!this._client)return s.QE.warn("No client configured on scope - will not capture message!"),r;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,o.OW)();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(s.QE.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function d(){return{traceId:(0,o.OW)(),spanId:(0,o.OW)().substring(16)}}},1376:(e,t,n)=>{"use strict";n.d(t,{mM:()=>a,yG:()=>s,yK:()=>u});var r=n(5960),i=n(4568),o=n(804);function s(e){const t=(0,r.Go)(),n={sid:(0,i.OW)(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return(0,o.Sy)({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&a(n,e),n}function a(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||(0,r.Go)(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:(0,i.OW)()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function u(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),a(e,n)}},7360:(e,t,n)=>{"use strict";n.d(t,{w:()=>u});var r=n(804),i=n(444),o=n(5712),s=n(3196),a=n(6988);function u(e){const t=(0,o.gf)();if(!t)return{};const n=function(e,t,n){const o=t.getOptions(),{publicKey:s}=t.getDsn()||{},{segment:a}=n&&n.getUser()||{},u=(0,r.Sy)({environment:o.environment||i.a,release:o.release,user_segment:a,public_key:s,trace_id:e});return t.emit&&t.emit("createDsc",u),u}((0,a.U0)(e).trace_id||"",t,(0,o.ao)()),u=(0,s.U)(e);if(!u)return n;const c=u&&u._frozenDynamicSamplingContext;if(c)return c;const{sampleRate:l,source:d}=u.metadata;null!=l&&(n.sample_rate=`${l}`);const f=(0,a.U0)(u);return d&&"url"!==d&&(n.transaction=f.description),n.sampled=String((0,a._M)(u)),t.emit&&t.emit("createDsc",n),n}},5760:(e,t,n)=>{"use strict";n.d(t,{i0:()=>u});var r=n(804),i=n(4568),o=n(7360),s=n(3196),a=n(6988);function u(e,t){const{fingerprint:n,span:u,breadcrumbs:c,sdkProcessingMetadata:l}=t;!function(e,t){const{extra:n,tags:i,user:o,contexts:s,level:a,transactionName:u}=t,c=(0,r.Sy)(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const l=(0,r.Sy)(i);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});const d=(0,r.Sy)(o);d&&Object.keys(d).length&&(e.user={...d,...e.user});const f=(0,r.Sy)(s);f&&Object.keys(f).length&&(e.contexts={...f,...e.contexts}),a&&(e.level=a),u&&(e.transaction=u)}(e,t),u&&function(e,t){e.contexts={trace:(0,a.I1)(t),...e.contexts};const n=(0,s.U)(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:(0,o.w)(t),...e.sdkProcessingMetadata};const r=(0,a.U0)(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,u),function(e,t){e.fingerprint=e.fingerprint?(0,i.gV)(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,c),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,l)}},3196:(e,t,n)=>{"use strict";function r(e){return e.transaction}n.d(t,{U:()=>r})},6988:(e,t,n)=>{"use strict";n.d(t,{I1:()=>o,U0:()=>s,_M:()=>a});var r=n(804);const i=1;function o(e){const{spanId:t,traceId:n}=e.spanContext(),{data:i,op:o,parent_span_id:a,status:u,tags:c,origin:l}=s(e);return(0,r.Sy)({data:i,op:o,parent_span_id:a,span_id:t,status:u,tags:c,trace_id:n,origin:l})}function s(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function a(e){const{traceFlags:t}=e.spanContext();return Boolean(t&i)}},6424:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});const r="7.100.1"},8616:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});const r="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},1464:(e,t,n)=>{"use strict";n.d(t,{Oe:()=>o,oF:()=>i});const r=Object.prototype.toString;function i(e){return function(e,t){return r.call(e)===`[object ${t}]`}(e,"Object")}function o(e){return Boolean(e&&e.then&&"function"==typeof e.then)}},9584:(e,t,n)=>{"use strict";n.d(t,{QD:()=>a,QE:()=>u});var r=n(8616),i=n(7808);const o=["debug","info","warn","error","log","assert","trace"],s={};function a(e){if(!("console"in i.GLOBAL_OBJ))return e();const t=i.GLOBAL_OBJ.console,n={},r=Object.keys(s);r.forEach((e=>{const r=s[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const u=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.Q?o.forEach((n=>{t[n]=(...t)=>{e&&a((()=>{i.GLOBAL_OBJ.console[n](`Sentry Logger [${n}]:`,...t)}))}})):o.forEach((e=>{t[e]=()=>{}})),t}()},4568:(e,t,n)=>{"use strict";n.d(t,{OW:()=>i,gV:()=>o});var r=n(7808);function i(){const e=r.GLOBAL_OBJ,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function o(e){return Array.isArray(e)?e:[e]}},804:(e,t,n)=>{"use strict";n.d(t,{Sy:()=>i});var r=n(1464);function i(e){return o(e,new Map)}function o(e,t){if(function(e){if(!(0,r.oF)(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=o(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(o(e,t))})),r}return e}},7916:(e,t,n)=>{"use strict";n.d(t,{Gg:()=>o});var r,i=n(1464);!function(e){e[e.PENDING=0]="PENDING",e[e.RESOLVED=1]="RESOLVED",e[e.REJECTED=2]="REJECTED"}(r||(r={}));class o{constructor(e){o.prototype.__init.call(this),o.prototype.__init2.call(this),o.prototype.__init3.call(this),o.prototype.__init4.call(this),this._state=r.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new o(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new o(((t,n)=>{let r,i;return this.then((t=>{i=!1,r=t,e&&e()}),(t=>{i=!0,r=t,e&&e()})).then((()=>{i?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(r.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(r.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===r.PENDING&&((0,i.Oe)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===r.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)}))}}}},5960:(e,t,n)=>{"use strict";n.d(t,{CG:()=>o,Go:()=>s});var r=n(7808);const i=1e3;function o(){return Date.now()/i}const s=function(){const{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return o;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/i}();let a;(()=>{const{performance:e}=r.GLOBAL_OBJ;if(!e||!e.now)return void(a="none");const t=36e5,n=e.now(),i=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-i):t,s=o<t,u=e.timing&&e.timing.navigationStart,c="number"==typeof u?Math.abs(u+n-i):t;s||c<t?o<=c?(a="timeOrigin",e.timeOrigin):a="navigationStart":a="dateNow"})()},7808:(e,t,n)=>{"use strict";function r(e){return e&&e.Math==Math?e:void 0}n.d(t,{GLOBAL_OBJ:()=>i,a:()=>o});const i="object"==typeof globalThis&&r(globalThis)||"object"==typeof window&&r(window)||"object"==typeof self&&r(self)||"object"==typeof n.g&&r(n.g)||function(){return this}()||{};function o(e,t,n){const r=n||i,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}},7488:(e,t,n)=>{"use strict";n.d(t,{c:()=>d});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}var s=function(e,t){this.target=t,this.type=e},a=function(e){function t(t,n){var r=e.call(this,"error",n)||this;return r.message=t.message,r.error=t,r}return i(t,e),t}(s),u=function(e){function t(t,n,r){void 0===t&&(t=1e3),void 0===n&&(n="");var i=e.call(this,"close",r)||this;return i.wasClean=!0,i.code=t,i.reason=n,i}return i(t,e),t}(s),c=function(){if("undefined"!=typeof WebSocket)return WebSocket},l={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,retryURL:!1,debug:!1};const d=function(){function e(e,t,n){var r=this;void 0===n&&(n={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(e){r._debug("open event");var t=r._options.minUptime,n=void 0===t?l.minUptime:t;clearTimeout(r._connectTimeout),r._uptimeTimeout=setTimeout((function(){return r._acceptOpen()}),n),r._ws.binaryType=r._binaryType,r._messageQueue.forEach((function(e){var t;return null===(t=r._ws)||void 0===t?void 0:t.send(e)})),r._messageQueue=[],r.onopen&&r.onopen(e),r._listeners.open.forEach((function(t){return r._callEventListener(e,t)}))},this._handleMessage=function(e){r._debug("message event"),r.onmessage&&r.onmessage(e),r._listeners.message.forEach((function(t){return r._callEventListener(e,t)}))},this._handleError=function(e){r._debug("error event",e.message),r._disconnect(void 0,"TIMEOUT"===e.message?"timeout":void 0),r.onerror&&r.onerror(e),r._debug("exec error listeners"),r._listeners.error.forEach((function(t){return r._callEventListener(e,t)})),r._connect()},this._handleClose=function(e){r._debug("close event"),r._clearTimeouts(),r._shouldReconnect&&r._connect(),r.onclose&&r.onclose(e),r._listeners.close.forEach((function(t){return r._callEventListener(e,t)}))},this._url=e,this._protocols=t,this._options=n,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){return this._messageQueue.reduce((function(e,t){return"string"==typeof t?e+=t.length:t instanceof Blob?e+=t.size:e+=t.byteLength,e}),0)+(this._ws?this._ws.bufferedAmount:0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!1,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(e,t):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")},e.prototype.reconnect=function(e,t){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(e,t),this._connect()):this._connect()},e.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{var t=this._options.maxEnqueuedMessages,n=void 0===t?l.maxEnqueuedMessages:t;this._messageQueue.length<n&&(this._debug("enqueue",e),this._messageQueue.push(e))}},e.prototype.addEventListener=function(e,t){this._listeners[e]&&this._listeners[e].push(t)},e.prototype.dispatchEvent=function(e){var t,n,r=this._listeners[e.type];if(r)try{for(var i=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}(r),o=i.next();!o.done;o=i.next()){var s=o.value;this._callEventListener(e,s)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.removeEventListener=function(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((function(e){return e!==t})))},e.prototype._debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._options.debug&&console.log.apply(console,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}(["RWS>"],e))},e.prototype._getNextDelay=function(){var e=this._options,t=e.reconnectionDelayGrowFactor,n=void 0===t?l.reconnectionDelayGrowFactor:t,r=e.minReconnectionDelay,i=void 0===r?l.minReconnectionDelay:r,o=e.maxReconnectionDelay,s=void 0===o?l.maxReconnectionDelay:o,a=0;return this._retryCount>0&&(a=i*Math.pow(n,this._retryCount-1))>s&&(a=s),this._debug("next delay",a),a},e.prototype._wait=function(){var e=this;return new Promise((function(t){setTimeout(t,e._getNextDelay())}))},e.prototype._getNextUrl=function(e){if("string"==typeof e)return Promise.resolve(e);if("function"==typeof e){var t=e();if("string"==typeof t)return Promise.resolve(t);if(t.then)return t}throw Error("Invalid URL")},e.prototype._connect=function(){var e=this;if(!this._connectLock&&this._shouldReconnect){this._connectLock=!0;var t=this._options,n=t.maxRetries,r=void 0===n?l.maxRetries:n,i=t.connectionTimeout,o=void 0===i?l.connectionTimeout:i,s=t.WebSocket,u=void 0===s?c():s,d=t.retryURL,f=void 0===d?l.retryURL:d;if(this._retryCount>=r)this._debug("max retries reached",this._retryCount,">=",r);else{if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),void 0===(p=u)||!p||2!==p.CLOSING)throw Error("No valid WebSocket class provided");var p;this._wait().then((function(){return e._getNextUrl(e._url)})).then((function(t){e._closeCalled||(e._debug("connect",{url:t,protocols:e._protocols}),e._ws=e._protocols?new u(t,e._protocols):new u(t),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout((function(){return e._handleTimeout()}),o))}),(function(t){if(!f)throw t;e._connectLock=!1,e._handleError(new a(t,e))}))}}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new a(Error("TIMEOUT"),this))},e.prototype._disconnect=function(e,t){if(void 0===e&&(e=1e3),this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.close(e,t),this._handleClose(new u(e,t,this))}catch(e){}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(e,t){"handleEvent"in t?t.handleEvent(e):t(e)},e.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e}()},172:(e,t,n)=>{"use strict";n.d(t,{G4:()=>i,Gc:()=>o,gb:()=>r});const r="wss://messenger-edge-ws.dixa.io",i="https://messenger-edge.dixa.io",o="https://api.bulletins.dixa.io"},908:(e,t,n)=>{"use strict";n.d(t,{a2:()=>c,WC:()=>R,e6:()=>y,En:()=>g,Q7:()=>d,Qp:()=>b});var r=n(1751),i=n(7540),o=n(1132),s=n(6464),a=n(1224);function u(e){switch(e.type){case"text":return(0,a.U)(e);case"attachment":return(0,r.c)(e);case"chat-input-request":return(0,i.m)(e);case"chat-menu-request":return(0,o.y)(e);case"form-request":return(0,s.w)(e)}}function c(e){const{sender:t,payload:n}=e,{conversation_id:r,message_id:i,timestamp:o,...s}=n;return{from:"agent",agentId:t.agent_id,conversationId:r,messageId:i,timestamp:o,content:u(s)}}function l(e){switch(e.type){case"text":return(0,a.U)(e);case"attachment":return(0,r.c)(e);case"csat-response":return{type:"csat-response",replyToMessageId:e.content.reply_to_message_id,score:e.content.score,comment:e.content.comment};case"chat-input-response":return{type:"chat-input-response",answer:e.content.answer,replyToMessageId:e.content.reply_to_message_id};case"chat-menu-option-chosen":return{type:"chat-menu-response",chosenOptionId:e.content.chosen_option_id,replyToMessageId:e.content.reply_to_message_id};case"contact-form-response":return{type:"contact-form-response",name:e.content.name,email:e.content.email,message:e.content.message,replyToMessageId:e.content.reply_to_message_id};case"form-response":return{type:"form-response",formId:e.content.id,replyToMessageId:e.content.reply_to_message_id,fields:e.content.fields,formVersion:e.content.formVersion}}}function d({payload:e}){const{conversation_id:t,message_id:n,timestamp:r,...i}=e;return{from:"user",conversationId:t,messageId:n,timestamp:r,content:l(i)}}var f=n(9996);function p(e){return(0,f.QJ)(e)?c(e):d(e)}var h=n(1960);function g(e){return{openConversations:e.open_conversations.map(m),closedConversations:e.closed_conversations.map(m)}}function m(e){return{conversationId:e.conversation_id,agent:e.agent?(0,h.gh)(e.agent):void 0,lastMessage:e.last_message?p(e.last_message):void 0,unseenMessagesCount:e.unseen_messages_count,orgName:e.org_name}}var v=n(5160);function y(e){const t=[];return e.forEach((e=>{const n=(0,v.uS)(e);n&&t.push(n)})),t}function b(e){switch(e.type){case"text":return{type:"text",content:{text:e.text,contentType:e.contentType}};case"attachment":{const{url:t,contentType:n,name:r,size:i,checksum:o}=e;return{type:"attachment",content:{url:t,name:r,content_type:n,size:i,checksum:o}}}case"csat-response":return{type:"csat-response",content:{reply_to_message_id:e.replyToMessageId,score:e.score,comment:e.comment}};case"chat-input-response":return{type:"chat-input-response",content:{answer:e.answer,reply_to_message_id:e.replyToMessageId}};case"chat-menu-response":return{type:"chat-menu-option-chosen",content:{chosen_option_id:e.chosenOptionId,reply_to_message_id:e.replyToMessageId}};case"contact-form-response":return{type:"contact-form-response",content:{name:e.name,email:e.email,message:e.message,reply_to_message_id:e.replyToMessageId}};case"form-response":return{type:"form-response",content:{id:e.formId,reply_to_message_id:e.replyToMessageId,fields:e.fields,formVersion:e.formVersion}}}}var _=n(7784),w=n(7564);function S(e){switch(e.type){case"text":return(0,a.U)(e);case"attachment":return(0,r.c)(e);case"csat-request":return(0,w.C)(e);case"chat-input-request":return(0,i.m)(e);case"chat-menu-request":return(0,o.y)(e);case"contact-form-request":return(0,_.m)(e);case"form-request":return(0,s.w)(e)}}function R(e){const{sender:t,payload:n}=e,{conversation_id:r,message_id:i,timestamp:o,...s}=n,a="system"===t.from&&"subtype"in t&&"chatbot"===t.subtype?t.id:"";return""===a&&console.error("Chatbot id not found"),{from:"chatbot",conversationId:r,messageId:i,timestamp:o,chatbotId:a,content:S(s)}}},1751:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var r=n(2550);function i(e){return{type:"attachment",id:(0,r.c)(),name:e.content.name,size:e.content.size,url:e.content.url,contentType:e.content.content_type,checksum:e.content.checksum}}},7540:(e,t,n)=>{"use strict";function r(e){return{type:"chat-input-request",message:e.content.message,label:e.content.label,placeholder:e.content.placeholder}}n.d(t,{m:()=>r})},1132:(e,t,n)=>{"use strict";function r(e){return{type:"chat-menu-request",message:e.content.message,options:e.content.options,title:e.content.title,horizontalActionButtons:e.content.horizontalAlignment}}n.d(t,{y:()=>r})},7784:(e,t,n)=>{"use strict";function r(e){return{type:"contact-form-request"}}n.d(t,{m:()=>r})},7564:(e,t,n)=>{"use strict";function r(e){const{content:t}=e;return{type:"csat-request",ratingType:t.rating_type,mainQuestion:t.rating_question,thankYouMessage:t.thank_you_message,followupQuestion:t.followup_question,followupQuestionPlaceholder:t.followup_question_placeholder_text}}n.d(t,{C:()=>r})},6464:(e,t,n)=>{"use strict";n.d(t,{w:()=>u});const r=e=>"required"===e.type||"regex"===e.type,i=e=>e.map(a).filter(r),o=e=>({key:e.key,placeholder:e.placeholder,label:e.label,initialValue:e.initialValue}),s=e=>{switch(e.type){case"email":return{type:"email",validations:i(e.validations),...o(e)};case"files":return{type:"file",multiple:void 0,placeholderLabel:e.addFileLabel||"",placeholderDescription:e.description,validations:e.validations.map(a),...o(e)};case"select":return{type:"select",options:e.options,validations:i(e.validations),...o(e)};case"textarea":return{type:"textarea",validations:i(e.validations),...o(e)};case"textfield":return{type:"textfield",validations:i(e.validations),...o(e)}}},a=e=>{switch(e.type){case"max-single-file-size":return{type:"maxFileSize",value:e.limit,errorMessage:e.errorMessage};case"max-total-files-size":return{type:"maxFileSizeTotal",value:e.limit,errorMessage:e.errorMessage};case"mime-types":return{type:"validMimeTypes",value:e.validMimeTypes,errorMessage:e.errorMessage};case"regex":return{type:"regex",value:e.value,errorMessage:e.errorMessage};case"required":return{type:"required",errorMessage:e.errorMessage}}};function u(e){const{content:{fields:t,id:n,labels:r,preSubmit:i,formVersion:o}}=e,a=i?.confirmation?{message:i.confirmation.question,onConfirmLabel:i.confirmation.buttons.find((({action:e})=>"submit"===e))?.label??"confirm",onRejectLabel:i.confirmation.buttons.find((({action:e})=>"cancel"===e))?.label??"cancel"}:void 0;return{type:"form-request",id:n,fields:t.map(s),body:r.body,preSubmitConfirmation:a,submitLabel:r.submit,submitSuccessMessage:r.submitSuccessMessage,title:r.title,formVersion:o}}},1960:(e,t,n)=>{"use strict";function r({senderName:e,avatarUrl:t,sender:n}){switch(n.type){case"agent":return i({id:n.agent_id,name:e,avatarUrl:t});case"system":return"subtype"in n&&"chatbot"===n.subtype?s({id:n.id,name:e,avatarUrl:t}):o({name:e,avatarUrl:t})}}n.d(t,{gh:()=>i,yi:()=>r});const i=e=>({type:"agent",id:e.id,name:e.name,avatarUrl:e.avatarUrl??null}),o=e=>({type:"system",name:e.name,avatarUrl:e.avatarUrl??null}),s=e=>({type:"chatbot",name:e.name,id:e.id,avatarUrl:e.avatarUrl??null})},1224:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(2488);function i(e){return{type:"text",text:e.content.text,contentType:r.pf.is(e.content.contentType)?e.content.contentType:"text/plain",sources:e.content.sources,subText:e.content.subText,title:e.content.title}}},228:(e,t,n)=>{"use strict";n.d(t,{ae:()=>r.ae,h9:()=>o});var r=n(6372),i=n(7176);const o=i.s$({url:i.Qb})},2488:(e,t,n)=>{"use strict";n.d(t,{_c:()=>w,pf:()=>g}),n(228);var r=n(7176);const i=r.s$({type:r.uA("attachment"),id:r.Qb,name:r.Qb,size:r.CQ,checksum:r.Qb,contentType:r.Qb,url:r.Qb}),o=(r.s$({messageId:r.Qb}),r.s$({timestamp:r.Qb}),r.WR([r.s$({type:r.uA("chat-input-request"),message:r.Qb,label:r.Qb}),r.IB({placeholder:r.Qb})]),r.s$({type:r.uA("chat-input-response"),replyToMessageId:r.Qb,answer:r.Qb})),s=r.s$({type:r.uA("chat-menu-response"),chosenOptionId:r.Qb,replyToMessageId:r.Qb}),a=r.WR([r.s$({type:r.uA("contact-form-response"),message:r.Qb,replyToMessageId:r.Qb}),r.IB({email:r.Qb,name:r.Qb})]),u=r.SQ([r.uA(1),r.uA(2),r.uA(3),r.uA(4),r.uA(5)]),c=r.WR([r.s$({type:r.uA("csat-response"),replyToMessageId:r.Qb,score:u}),r.IB({comment:r.Qb})]);var l=n(6372);const d=r.s$({value:r.Qb}),f=r.s$({files:r.M$(l._N),type:r.uA("files")}),p=r.Kw(r.Qb,r.SQ([d,f])),h=r.WR([r.s$({type:r.uA("form-response"),formId:r.Qb,replyToMessageId:r.Qb,fields:p}),r.IB({formVersion:r.CQ})]),g=r.SQ([r.uA("text/plain"),r.uA("text/markdown"),r.uA("text/html")]),m=r.s$({type:r.uA("elevio"),url:r.Qb,title:r.Qb,articleId:r.Qb,companyId:r.Qb}),v=r.WR([r.s$({type:r.uA("text"),text:r.Qb}),r.IB({contentType:g,title:r.Qb,sources:r.M$(m),subText:r.Qb})]),y=(r.s$({type:r.uA("message-typing-started")}),r.SQ([v,i,c,o,s,a,h])),b=r.s$({content:y}),_=(r.s$({agentId:r.Qb}),r.s$({conversationId:r.Qb})),w=r.WR([_,b])},5160:(e,t,n)=>{"use strict";n.d(t,{sf:()=>o,uS:()=>b,MZ:()=>a,sE:()=>s});const r={"message-received":{},"user-message-echoed":{},"message-sent":{},"message-delivered":{},"message-seen":{},"messaging-allowed":{},"messaging-disallowed":{},"agent-assignment-requested":{},"agent-assigned":{},"agent-unassigned":{},"conversation-ended":{},"connection-status-changed":{},"new-session-created":{},"agent-typing-started":{},"chatbot-typing-started":{},"sender-joined":{},"user-banned":{},"user-unbanned":{}};function i(e){if(!function(e){return"object"==typeof r[e]}(e))throw new Error(`The event type '${e}' does not exist`)}const o=({eventEmitter:e})=>(t,...n)=>{i(t),e.addListeners(t,...n)},s=({eventEmitter:e})=>(t,...n)=>{i(t),e.removeListeners(t,...n)},a=({eventEmitter:e})=>()=>{e.removeAllListeners()};var u=n(908),c=n(1960),l=n(1751),d=n(7540),f=n(1132),p=n(7784),h=n(7564),g=n(6464),m=n(1224);function v(e){switch(e.type){case"text":return(0,m.U)(e);case"attachment":return(0,l.c)(e);case"csat-request":return(0,h.C)(e);case"chat-input-request":return(0,d.m)(e);case"chat-menu-request":return(0,f.y)(e);case"contact-form-request":return(0,p.m)(e);case"form-request":return(0,g.w)(e)}}var y=n(9996);function b(e){switch(e.type){case"deliver-message":return(0,y.QJ)(e)?_("message-received",(0,u.a2)(e)):(0,y.i)(e)?w(e):(0,y.kZ)(e)?_("message-received",(0,u.WC)(e)):_("message-received",function(e){const{payload:t}=e,{conversation_id:n,message_id:r,timestamp:i,...o}=t;return{from:"system",conversationId:n,messageId:r,timestamp:i,content:v(o)}}(e));case"message-sent":{const{conversation_id:t,message_id:n,timestamp:r}=e.payload;return _("message-sent",{conversationId:t,messageId:n,timestamp:r})}case"message-delivered":{const{conversation_id:t,message_id:n,timestamp:r}=e.payload;return _("message-delivered",{conversationId:t,messageId:n,timestamp:r})}case"message-seen":return S(e);case"messaging-allowed":return _("messaging-allowed",{conversationId:e.payload.conversation_id});case"messaging-disallowed":return _("messaging-disallowed",{conversationId:e.payload.conversation_id});case"agent-assignment-requested":return _("agent-assignment-requested",{id:e.id,conversationId:e.payload.conversation_id,timestamp:e.payload.timestamp});case"agent-assigned":{const{id:t}=e,{conversation_id:n,timestamp:r,...i}=e.payload;return _("agent-assigned",{conversationId:n,timestamp:r,agent:(0,c.gh)(i),messageId:t})}case"sender-joined":return _("sender-joined",{conversationId:e.payload.conversation_id,timestamp:e.payload.timestamp,messageId:e.id,messageSender:(0,c.yi)(e.payload)});case"message-typing-started":{const{sender:t,payload:n}=e;if("agent"===t.from)return _("agent-typing-started",{conversationId:n.conversation_id,messageId:e.id,timestamp:n.timestamp});if("system"===t.from&&"subtype"in t&&"chatbot"===t.subtype)return _("chatbot-typing-started",{conversationId:n.conversation_id,messageId:e.id,timestamp:n.timestamp});break}case"conversation-ended":{const{kind:t,id:n,payload:{conversation_id:r,timestamp:i}}=e;return _("conversation-ended",{conversationId:r,timestamp:i,kind:t,messageId:n})}case"echo-message":{const t=e.payload;switch(t.type){case"deliver-message":return w(t);case"message-seen":return S(t)}}case"banned":return _("user-banned",e.payload);case"unbanned":return _("user-unbanned",e.payload)}}function _(e,t){return{eventType:e,payload:t}}function w(e){return _("user-message-echoed",(0,u.Q7)(e))}function S(e){const{conversation_id:t,message_id:n,timestamp:r}=e.payload;return _("message-seen",{conversationId:t,messageId:n,timestamp:r})}},6312:(e,t,n)=>{"use strict";n.d(t,{Un:()=>u,YP:()=>c,qe:()=>a});var r=n(1736),i=n(9320),o=n(6356),s=n(4664);function a(e){return e().then((e=>(0,o.pipe)(e,r.fold((e=>Promise.reject(e)),(e=>Promise.resolve(e))))))}function u(e,t){return(0,o.pipe)((0,i.parse)(e),r.mapLeft(r.toError),r.chain((e=>c(e,t))))}function c(e,t){return(0,o.pipe)(t.decode(e),r.mapLeft((e=>new Error(`${(0,s.ey)(e).join("\n")}`))))}},8716:(e,t,n)=>{"use strict";n.d(t,{sH:()=>y});var r=n(5712),i=n(500),o=n(7256),s=n(5160),a=n(9996),u=n(9712);n(2488);const c=new a.SB,l=new a.aw,d=new o.m({loggerName:"Internal SDK event emitter",logToConsole:(0,i.sP)()}),f=new a.gp(d,l),p=new a.k5,h={wsClient:l,httpClient:c,eventEmitter:d,wsMessageProcessor:f,sessionManager:p},g=new u.QJ(l,d,c,p),m=new u.eC(l,c,f,p),v=new u.CM(p),y={bulletinService:new u.Gk(c),wsConnectionService:g,conversationService:m,stateService:new u.aU(c),settingsService:new u.Y7(c),knowledgeBaseService:v};d.addListeners("new-session-created",(e=>{r.Qr("Session token",e)})),(0,s.sf)(h),(0,s.sE)(h),(0,s.MZ)(h)},9996:(e,t,n)=>{"use strict";n.d(t,{SB:()=>d,eg:()=>W,aw:()=>m,k5:()=>k,gp:()=>T,QJ:()=>y,i:()=>b,kZ:()=>_,CY:()=>Q,SM:()=>E,G_:()=>v});var r=n(7),i=n(2920),o=n(7056),s=n(2224),a=n(2988),u=n(6356),c=n(4664);const l=(e,t,n)=>{return(0,u.pipe)(e,(0,o.withDecoder)((r=t,(0,o.toDecoder)(r.decode,(e=>new Error((0,c.ey)(e).join("\n")))))),(0,s.withHeaders)(n?.headers??{}),(0,a.withUrlParams)(n?.queryParams??{}));var r};class d{get(e,t,n){return l(r._M,t,n)(e)}post(e,t,n,o){return(0,u.pipe)(l(r.s$,t,o),(0,i.withBody)(n))(e)}}function f(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends Error{constructor(e){super(e),f(this,"type","UrlProviderNotDefinedError"),f(this,"name","UrlProviderNotDefinedError")}}var h=n(7488);function g(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m{get readyState(){return this.socket.readyState}constructor(){g(this,"socket",void 0),g(this,"urlProvider",void 0),this.socket=new h.c(this.safeUrlProvider.bind(this),void 0,{startClosed:!0,retryURL:!0,maxRetries:15})}initialize(e){this.urlProvider=e,this.socket.reconnect()}close(){this.socket.close(4001,"client closed")}reconnect(){this.socket.reconnect()}send(e){this.socket.send(e)}addEventListener(e,t){this.socket.addEventListener(e,t)}removeEventListener(e,t){this.socket.removeEventListener(e,t)}safeUrlProvider(){return null==this.urlProvider?Promise.reject(new p("urlProvider is not defined in ReconnectingWsClient, it should be provided when calling the initialize method")):this.urlProvider()}}function v(e){return t=>t.type===e}function y(e){return"deliver-message"===e.type&&"agent"===e.sender.from}function b(e){return"deliver-message"===e.type&&"user"===e.sender.from}function _(e){return"deliver-message"===e.type&&"system"===e.sender.from&&"subtype"in e.sender&&"chatbot"===e.sender.subtype}var w=n(6372),S=n(6312),R=n(292),I=n(1736),x=n(2550);function E(e,t,n,r=6e4){let i;const o=new Promise(((r,o)=>{i=e=>{(0,u.pipe)((0,S.Un)(e.data,w.Sq),I.fold((n=>{console.error(`Unexpected message received while waiting for response for message \n\n ${JSON.stringify(t)}`,"\n\n",e.data,"\n\n",n)}),(e=>{n(e)?r(e):"command-execution-failed"===e.type&&e.payload.command_id===t.id&&o(e)})))},e.addEventListener("message",i),e.send(JSON.stringify(t))}));return(0,R.S)(o,r,(s=t,`Timeout during wait for response for message ${JSON.stringify(s)}`)).finally((()=>{i&&e.removeEventListener("message",i)}));var s}function C(e,t,n){const r={id:(0,x.c)(),type:"message-delivered",payload:{conversation_id:e,message_id:t}};n.send(JSON.stringify(r))}var O=n(5160);class T{constructor(e,t){var n,r,i,o;this.eventEmitter=e,this.wsClient=t,n=this,i={},(r="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r="enqueuedMessages"))?o:String(o))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,t.addEventListener("message",this.onMessageReceived.bind(this))}startEnqueuingConversationMessages(e){this.enqueuedMessages[e]=[]}stopEnqueuingConversationMessages(e){const t=this.enqueuedMessages[e];t&&(t.forEach((e=>{this.process(e)})),delete this.enqueuedMessages[e])}onMessageReceived(e){(0,u.pipe)((0,S.Un)(e.data,w.Sq),I.fold((e=>{console.warn("Unexpected message received over WebSocket",e.message)}),(e=>{"payload"in e&&"conversation_id"in e.payload&&e.payload.conversation_id in this.enqueuedMessages?this.enqueuedMessages[e.payload.conversation_id].push(e):this.process(e)})))}process(e){const t=(0,O.uS)(e);if(null!=t){const{eventType:e,payload:n}=t;this.eventEmitter.emit(e,n)}if(y(e)){const{conversation_id:t,message_id:n}=e.payload;C(t,n,this.wsClient)}}}var A=n(7176);const W=A.s$({history:A.M$(A.OI)});function Q(e,t,n){let r=[];const i=[];for(const t of e)(0,u.pipe)((0,S.YP)(t,w.gT),I.fold((e=>{console.warn("Unexpected message received in conversation state",t,e)}),(e=>{i.push(e),y(e)&&(r=r.concat(e.payload.message_id)),"message-delivered"===e.type&&(r=r.filter((t=>t!==e.payload.message_id)))})));for(const e of r)C(t,e,n);return i}function M(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k{constructor(){M(this,"sessionTokenPromise",void 0),M(this,"isSessionTokenAlreadyResolved",!1),M(this,"sessionTokenValueResolver",(()=>{})),this.sessionTokenPromise=new Promise((e=>{this.sessionTokenValueResolver=e}))}resolveSessionToken(e){this.isSessionTokenAlreadyResolved||(this.isSessionTokenAlreadyResolved=!0,this.sessionTokenValueResolver(e))}reset(){this.isSessionTokenAlreadyResolved=!1,this.sessionTokenPromise=new Promise((e=>{this.sessionTokenValueResolver=e}))}}},9712:(e,t,n)=>{"use strict";n.d(t,{Gk:()=>u,eC:()=>g,CM:()=>O,Om:()=>T.O,Qv:()=>T.Q,Y7:()=>b,aU:()=>_,QJ:()=>R});var r=n(172),i=n(228),o=n(6312),s=n(9760),a=n(6356);class u{constructor(e){this.httpClient=e}getBulletinUrl(e){return(0,o.qe)((0,a.pipe)(this.httpClient.get(`${r.Gc}/boards/${e}`,i.h9),s.rz((e=>e.error)),s.kH((e=>e.data))))}getBulletins(e){return(0,o.qe)((0,a.pipe)(this.httpClient.get(e,i.ae),s.rz((e=>e.error)),s.kH((e=>e.data))))}}var c=n(908),l=n(2488),d=n(9996),f=n(1736),p=n(4664),h=n(2550);class g{constructor(e,t,n,r){this.wsClient=e,this.httpClient=t,this.wsMessageProcessor=n,this.sessionManager=r}startConversation(e,t){const n={id:(0,h.c)(),type:"start-conversation",payload:{origin:e,language:t}};return(0,d.SM)(this.wsClient,n,(0,d.G_)("conversation-started"),3e4).then((e=>({conversationId:e.payload.conversation_id,orgName:e.payload.org_name})))}endConversation(e){const t={id:(0,h.c)(),type:"end-conversation",payload:{conversation_id:e}};return(0,d.SM)(this.wsClient,t,(0,d.G_)("conversation-ended"),1e4).then((e=>({conversationId:e.payload.conversation_id,kind:e.kind,messageId:e.id,timestamp:e.payload.timestamp})))}sendMessage(e){const t=this.buildConversationMessage(e);return this.wsClient.send(JSON.stringify(t)),{messageId:t.payload.message_id}}async sendMessageAndWaitForResponse(e){const t=this.buildConversationMessage(e),n=await(0,d.SM)(this.wsClient,t,(n=>"message-sent"===n.type&&n.payload.conversation_id===e.conversationId&&n.payload.message_id===t.payload.message_id));return{messageId:n.payload.message_id,response:n}}reportMessageSeen(e,t){const n={id:(0,h.c)(),type:"message-seen",payload:{conversation_id:t,message_id:e}};this.wsClient.send(JSON.stringify(n))}reportUserIsTyping(e){const t={id:(0,h.c)(),type:"message-typing-started",sender:{from:"user"},payload:{conversation_id:e}};this.wsClient.send(JSON.stringify(t))}buildConversationMessage(e){const t=l._c.decode(e);if(f.isLeft(t))throw new Error(`Invalid message input for sendMessage: ${(0,p.ey)(t.left)}`);const n=(0,h.c)(),r={conversation_id:e.conversationId,message_id:n,...(0,c.Qp)(e.content)};return{id:(0,h.c)(),sender:{from:"user"},type:"deliver-message",payload:r}}async getConversationState(e){this.wsMessageProcessor.startEnqueuingConversationMessages(e);const t=await this.sessionManager.sessionTokenPromise;return(0,o.qe)((0,a.pipe)(this.httpClient.get(`${r.G4}/v1/messenger/conversation-state/${e}?sessionToken=${t}`,d.eg),s.rz((e=>e.error)),s.kH((t=>{const n=(0,d.CY)(t.data.history,e,this.wsClient);return{history:(0,c.e6)(n)}})))).finally((()=>{setTimeout((()=>{this.wsMessageProcessor.stopEnqueuingConversationMessages(e)}))}))}}var m=n(6372);const v=m.Qf;var y=n(7176);class b{constructor(e){this.httpClient=e}getSettings(e){const t=`${r.G4}/v1/messenger/settings?messengerToken=${e}`;return(0,a.pipe)(this.httpClient.get(t,y.IB(v.props)),s.rz((e=>"ResponseError"===e.type&&401===e.response.status?new T.O:new T.Q)),s.kH((e=>e.data)))}}class _{constructor(e){this.httpClient=e}getState(e){return(0,o.qe)((0,a.pipe)(this.httpClient.get(`${r.G4}/v1/messenger/session-state?sessionToken=${e}`,m.s1),s.rz((e=>e.error)),s.kH((e=>(0,c.En)(e.data)))))}}var w=n(5500);function S(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class R{constructor(e,t,n,r){this.wsClient=e,this.eventEmitter=t,this.httpClient=n,this.sessionManager=r,S(this,"messengerToken",void 0),S(this,"pingTimer",void 0),S(this,"pongTimeoutTimer",void 0),this.wsClient.addEventListener("open",this.handleOpen.bind(this)),this.wsClient.addEventListener("close",this.handleClose.bind(this)),this.wsClient.addEventListener("message",this.handleMessage.bind(this))}initializeConnection({messengerToken:e,storedSessionToken:t,discardStoredSessionToken:n}){return new Promise((r=>{this.messengerToken=e,n&&this.sessionManager.reset(),this.wsClient.initialize(this.urlProvider.bind(this,t??void 0,n)),this.eventEmitter.addListeners("connection-status-changed",(({status:e})=>{"connected"===e&&r()}))}))}checkConnectionStatusManually(){this.sendPingMessage()}async identifyUser(e){try{const t=function(e){const t=(0,h.c)(),n="identify-me";switch(e.type){case"anonymous":return{id:t,type:n,payload:{type:"anonymous"}};case"claim":{const{name:r,email:i}=e;return{id:t,type:n,payload:{type:"claim",name:r,email:i}}}case"verified":return{id:t,type:n,payload:{type:"verified-jwe",token:e.payload.token}}}}(e);return await(0,d.SM)(this.wsClient,t,(0,d.G_)("identity-verified")),{wasSuccessful:!0,error:null}}catch(e){return m.Su.is(e)||m.Ud.is(e)?{wasSuccessful:!1,error:e}:(console.error("ConnectionService.identifyUser(): Error while trying to identify the user",e),{wasSuccessful:!1,error:null})}}async urlProvider(e,t=!1){return(0,w.G)(this.messengerToken,{customMessage:"ConnectionService: messengerToken is not set"}),this.eventEmitter.emit("connection-status-changed",{status:"connecting"}),t&&this.sessionManager.reset(),this.sessionManager.isSessionTokenAlreadyResolved&&(e=await this.sessionManager.sessionTokenPromise),t&&(e=void 0),function(e,t,n){const i={messengerToken:e,previousSessionToken:t};return(0,a.pipe)(n.post(`${r.G4}/v1/messenger/session`,m.G6,i),s.kH((e=>e.data.sessionToken)),s.rz((e=>e.error)))}(this.messengerToken,e,this.httpClient)().then(f.fold((e=>(this.eventEmitter.emit("connection-status-changed",{status:"disconnected"}),console.warn("ConnectionService: Cannot retrieve session token",e),Promise.reject(e))),(async t=>(t!==e&&this.eventEmitter.emit("new-session-created",{sessionToken:t}),this.sessionManager.resolveSessionToken(t),this.getWsUrl(t)))))}getWsUrl(e){return`${r.gb}?sessionToken=${e}`}async handleOpen(){if(!this.sessionManager.isSessionTokenAlreadyResolved)return void console.error("ConnectionService.handleOpen(): Session token is not resolved before calling this method");const e=await this.sessionManager.sessionTokenPromise;e?(this.schedulePingMessage(),this.eventEmitter.emit("connection-status-changed",{sessionToken:e,status:"connected"})):console.error("ConnectionService.handleOpen(): Session token promise is resolved to nullish value")}handleClose(){this.clearTimers(),this.eventEmitter.emit("connection-status-changed",{status:"disconnected"})}handleMessage(e){const t=(0,o.Un)(e.data,m.Sq);f.isRight(t)&&"pong"===t.right.type&&this.schedulePingMessage()}schedulePingMessage(){this.clearTimers(),this.pingTimer=setTimeout((()=>{this.pongTimeoutTimer=setTimeout(this.handlePongTimeoutTimer.bind(this),R.PONG_RESPONSE_TIMEOUT),this.sendPingMessage()}),R.PING_INTERVAL)}sendPingMessage(){const e={id:(0,h.c)(),type:"ping"};this.wsClient.send(JSON.stringify(e))}handlePongTimeoutTimer(){console.warn("ConnectionService: Pong response not received within timeout, reconnect"),this.clearTimers(),this.wsClient.reconnect()}clearTimers(){this.pingTimer&&(clearTimeout(this.pingTimer),this.pingTimer=void 0),this.pongTimeoutTimer&&(clearTimeout(this.pongTimeoutTimer),this.pongTimeoutTimer=void 0)}}S(R,"PING_INTERVAL",45e3),S(R,"PONG_RESPONSE_TIMEOUT",3e4);var I=n(8916),x=n(4012);function E(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C=`${r.G4}/v1/messenger/knowledge-base`;class O{constructor(e){this.sessionManager=e,E(this,"companyId",null),E(this,"categories",void 0),E(this,"articles",void 0),E(this,"account",void 0),E(this,"httpRequestAdapter",(async(e,t)=>{const{headers:n,...r}=t;return fetch(await this.buildURL(e),r)}));const t=m.Yn.requestFunctionsBuilder(this.httpRequestAdapter);this.categories=m.Yn.categoriesServiceBuilder(t),this.articles={...m.Yn.articlesServiceBuilder(t),getArticles:this.getArticles.bind(this)},this.account={...m.Yn.accountServiceBuilder(t),getArticleSettings:this.getArticleSettings.bind(this)}}setCompanyId(e){this.companyId=e}getArticles({params:{articleIds:e,languageId:t,pageUrl:n}}){return(0,a.pipe)(e,I.kH((e=>this.articles.getArticle({params:{languageId:t,pageUrl:n,articleId:e}}))),I.iC(x.uU),x.kH((0,a.flow)(I.IF(f.isRight),I.kH((e=>e.right)),I.IF((e=>200===e.response.status)))))()}getArticleSettings({params:{locale:e}}){const t=`https://ipa.elev.io/api/settings/${this.companyId}/${e||"en"}`;return fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>({data:e.settings,response:{...new Response,status:200}})))}withCompanyId(e){const t=new O(this.sessionManager);return t.setCompanyId(e),t}async buildURL(e){(0,w.G)(this.sessionManager.sessionTokenPromise,{customMessage:"KnowledgeBaseService: sessionToken is not set"}),(0,w.G)(this.companyId,{customMessage:"KnowledgeBaseService: companyId is not set"});const t=new URL(`${C}${e}`);return t.searchParams.append("sessionToken",await this.sessionManager.sessionTokenPromise),t.searchParams.append("companyId",this.companyId),t.toString()}}var T=n(6476)},6476:(e,t,n)=>{"use strict";function r(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{O:()=>i,Q:()=>o});class i extends Error{constructor(e="Messenger is either deleted or deactivated"){super(e),r(this,"name","MessengerNotFoundError"),r(this,"type","MessengerNotFoundError")}}class o extends Error{constructor(e="Failed to fetch the messenger due to unknown reasons"){super(e),r(this,"name","MessengerSettingsFetchFailedError"),r(this,"type","MessengerSettingsFetchFailedError")}}},292:(e,t,n)=>{"use strict";function r(e,t,n){let r;return Promise.race([e,new Promise(((e,i)=>{r=window.setTimeout((()=>{i(n)}),t)}))]).finally((()=>{window.clearTimeout(r)}))}n.d(t,{S:()=>r})},500:(e,t,n)=>{"use strict";function r(){return!1}n.d(t,{sP:()=>r})},964:(e,t,n)=>{"use strict";function r(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e){const n=t.customMessage||`${t.variableName} should not be nullish, but it is ${typeof e}`;throw new o(n)}}n.d(t,{G:()=>i});class o extends Error{constructor(e){super(e),r(this,"type","NullishValueError"),r(this,"name","NullishValueError")}}},5500:(e,t,n)=>{"use strict";n.d(t,{G:()=>r.G});var r=n(964)},7256:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});class r{constructor(e={logToConsole:!1}){var t,n,r,i;this.options=e,t=this,r={},(n="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n="listeners"))?i:String(i))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}addListeners(e,...t){const n=this.getListeners(e);null==n?this.listeners[e]=[...t]:n.push(...t)}removeListeners(e,...t){const n=this.getListeners(e);n&&t.forEach((e=>{const t=n.findIndex((t=>t===e));-1!==t&&n.splice(t,1)}))}removeAllListeners(){this.listeners={}}emit(e,t){const n=this.getListeners(e)||[];0!==n.length&&(this.options.logToConsole&&this.logEvent(e,t),n.forEach((n=>{try{n(t)}catch(t){console.error(`An error happened when calling event listener for\n           ${String(e)}.\n           This is caused by the event listener throwing an error`,t)}})))}logEvent(e,t){const n=this.formatLogTimestamp(),r=this.options.loggerName??"Typesafe Emitter";console.groupCollapsed(`%c[${r}] %c${String(e)} %c@ ${n}`,"color: #8b8b8b","","color: #8b8b8b"),console.log("Payload:",t),console.groupEnd()}formatLogTimestamp(){return(new Date).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit",second:"2-digit"})}getListeners(e){return this.listeners[e]}}},3008:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r=n(5828);function i(e){var t=(0,r.ER)(e);return function(n){return{concat:t(n).concat,empty:e.of(n.empty)}}}},5828:(e,t,n)=>{"use strict";function r(e,t){return function(n){return function(r){return e.ap(e.map(r,(function(e){return function(n){return t.ap(e,n)}})),n)}}}function i(e){return function(t){return function(n){return e.ap(e.map(n,(function(e){return function(){return e}})),t)}}}function o(e){return function(t){return function(n){return e.ap(e.map(n,(function(){return function(e){return e}})),t)}}}function s(e){return function(t,n){return function(r){return e.ap(e.map(r,(function(e){return function(n){var r;return Object.assign({},e,((r={})[t]=n,r))}})),n)}}}function a(e){return function(t){return{concat:function(n,r){return e.ap(e.map(n,(function(e){return function(n){return t.concat(e,n)}})),r)}}}}n.d(t,{ER:()=>a,IN:()=>o,Yn:()=>i,ap:()=>r,kl:()=>s})},8916:(e,t,n)=>{"use strict";n.d(t,{uI:()=>y,IF:()=>p,kH:()=>f,iC:()=>v});var r=n(6356),i=n(1112);n(8184),n(2176),i.Mx,i.e6;i.aY;i.Ap,i.my,i._h;var o=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},s=function(e){return function(t){return o(o([],t,!0),[e],!1)}};i.oV;i.my,n(8816),n(1333),n(2552);var a=(r.identity,function(e){return function(t){return function(n){return n.reduce((function(n,r,i){return e.concat(n,t(i,r))}),e.empty)}}}),u=function(e,t){return function(n){for(var r=n.length,i=e,o=0;o<r;o++)i=t(o,i,n[o]);return i}},c=function(e,t){return function(n){return n.reduceRight((function(e,n,r){return t(r,n,e)}),e)}};i.my;var l=s,d=function(e,t,n){return(0,r.pipe)(e,g(t,n))},f=function(e){return function(t){return t.map((function(t){return e(t)}))}},p=(r.identity,function(e){return function(t){return t.filter(e)}}),h=function(e){var t=a(e);return function(e){return t((function(t,n){return e(n)}))}},g=function(e,t){return u(e,(function(e,n,r){return t(n,r)}))},m=function(e,t){return c(e,(function(e,n,r){return t(n,r)}))},v=function(e){return function(t){return d(t,e.of([]),(function(t,n){return e.ap(e.map(t,(function(e){return function(t){return(0,r.pipe)(e,l(t))}})),n)}))}},y={URI:"Array",reduce:d,foldMap:function(e){var t=h(e);return function(e,n){return(0,r.pipe)(e,t(n))}},reduceRight:function(e,t,n){return(0,r.pipe)(e,m(t,n))}};i.my},6556:(e,t,n)=>{"use strict";function r(e){return function(t,n){return e.chain(t,(function(t){return e.map(n(t),(function(){return t}))}))}}function i(e){return function(t,n){return function(r){return e.chain(r,(function(r){return e.map(n(r),(function(e){var n;return Object.assign({},r,((n={})[t]=e,n))}))}))}}}n.d(t,{m6:()=>i,ys:()=>r})},4332:(e,t,n)=>{"use strict";n.d(t,{g3:()=>a,ie:()=>u});var r=n(6356),i=n(3176),o=n(440),s=n(1333);function a(e,t){return function(n){return e.map(n,t.compact)}}function u(e,t,n){var u=a(e,t),c=(0,i.kH)(e,n);return function(e){return s.cZ(u((0,r.pipe)(e,c(o.cR))),u((0,r.pipe)(e,c(o.wH))))}}},1736:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Alt:()=>oe,ApT:()=>at,Applicative:()=>D,Apply:()=>F,Bifunctor:()=>ne,Chain:()=>z,ChainRec:()=>ue,Do:()=>et,Extend:()=>ae,Foldable:()=>V,FromEither:()=>de,Functor:()=>P,Monad:()=>H,MonadThrow:()=>le,Pointed:()=>N,Traversable:()=>X,URI:()=>E,alt:()=>ie,altW:()=>re,ap:()=>B,apFirst:()=>Re,apFirstW:()=>Ie,apS:()=>ot,apSW:()=>st,apSecond:()=>xe,apSecondW:()=>Ee,apW:()=>q,as:()=>U,asUnit:()=>j,bimap:()=>ee,bind:()=>rt,bindTo:()=>tt,bindW:()=>it,chain:()=>ht,chainFirst:()=>gt,chainFirstW:()=>mt,chainNullableK:()=>Je,chainOptionK:()=>Qe,chainOptionKW:()=>Me,chainW:()=>pt,duplicate:()=>Ae,either:()=>bt,elem:()=>Ze,exists:()=>Xe,extend:()=>se,filterOrElse:()=>Ne,filterOrElseW:()=>qe,flap:()=>Se,flatMap:()=>h,flatMapNullable:()=>je,flatMapOption:()=>Le,flatten:()=>Te,flattenW:()=>Oe,fold:()=>be,foldMap:()=>G,foldW:()=>ve,fromNullable:()=>ze,fromNullableK:()=>Ge,fromOption:()=>pe,fromOptionK:()=>We,fromPredicate:()=>fe,getAltValidation:()=>k,getApplicativeValidation:()=>M,getApplyMonoid:()=>wt,getApplySemigroup:()=>_t,getCompactable:()=>A,getEq:()=>O,getFilterable:()=>W,getOrElse:()=>we,getOrElseW:()=>_e,getSemigroup:()=>T,getShow:()=>C,getValidation:()=>It,getValidationMonoid:()=>Rt,getValidationSemigroup:()=>St,getWitherable:()=>Q,isLeft:()=>he,isRight:()=>ge,left:()=>f,let:()=>nt,liftNullable:()=>$e,liftOption:()=>Pe,map:()=>$,mapLeft:()=>te,match:()=>ye,matchW:()=>me,of:()=>L,orElse:()=>De,orElseW:()=>Fe,parseJSON:()=>vt,reduce:()=>K,reduceRight:()=>J,right:()=>p,sequence:()=>Z,sequenceArray:()=>ft,stringifyJSON:()=>yt,swap:()=>Be,tap:()=>Ce,throwError:()=>ce,toError:()=>Ye,toUnion:()=>Ve,traverse:()=>Y,traverseArray:()=>dt,traverseArrayWithIndex:()=>lt,traverseReadonlyArrayWithIndex:()=>ct,traverseReadonlyNonEmptyArrayWithIndex:()=>ut,tryCatch:()=>He,tryCatchK:()=>Ke});var r=n(3008),i=n(5828),o=n(6556),s=n(3316),a=n(6356),u=n(3176),c=n(1112),l=n(1333),d=n(2552),f=c.kR,p=c.wz,h=(0,a.dual)(2,(function(e,t){return he(e)?e:t(e.right)})),g=function(e,t){return(0,a.pipe)(e,$(t))},m=function(e,t){return(0,a.pipe)(e,B(t))},v=function(e,t,n){return(0,a.pipe)(e,K(t,n))},y=function(e){return function(t,n){var r=G(e);return(0,a.pipe)(t,r(n))}},b=function(e,t,n){return(0,a.pipe)(e,J(t,n))},_=function(e){var t=Y(e);return function(e,n){return(0,a.pipe)(e,t(n))}},w=function(e,t,n){return(0,a.pipe)(e,ee(t,n))},S=function(e,t){return(0,a.pipe)(e,te(t))},R=function(e,t){return(0,a.pipe)(e,ie(t))},I=function(e,t){return(0,a.pipe)(e,se(t))},x=function(e,t){return function(e,t){for(var n=t(e);"Left"===n._tag;)n=t(n.left);return n.right}(t(e),(function(e){return he(e)?p(f(e.left)):he(e.right)?f(t(e.right.left)):p(p(e.right.right))}))},E="Either",C=function(e,t){return{show:function(n){return he(n)?"left(".concat(e.show(n.left),")"):"right(".concat(t.show(n.right),")")}}},O=function(e,t){return{equals:function(n,r){return n===r||(he(n)?he(r)&&e.equals(n.left,r.left):ge(r)&&t.equals(n.right,r.right))}}},T=function(e){return{concat:function(t,n){return he(n)?t:he(t)?n:p(e.concat(t.right,n.right))}}},A=function(e){var t=f(e.empty);return{URI:E,_E:void 0,compact:function(e){return he(e)?e:"None"===e.right._tag?t:p(e.right.value)},separate:function(e){return he(e)?(0,l.cZ)(e,e):he(e.right)?(0,l.cZ)(p(e.right.left),t):(0,l.cZ)(t,p(e.right.right))}}},W=function(e){var t=f(e.empty),n=A(e),r=n.compact,i=n.separate;return{URI:E,_E:void 0,map:g,compact:r,separate:i,filter:function(e,n){return he(e)||n(e.right)?e:t},filterMap:function(e,n){if(he(e))return e;var r=n(e.right);return"None"===r._tag?t:p(r.value)},partition:function(e,n){return he(e)?(0,l.cZ)(e,e):n(e.right)?(0,l.cZ)(t,p(e.right)):(0,l.cZ)(p(e.right),t)},partitionMap:function(e,n){if(he(e))return(0,l.cZ)(e,e);var r=n(e.right);return he(r)?(0,l.cZ)(p(r.left),t):(0,l.cZ)(t,p(r.right))}}},Q=function(e){var t=W(e),n=A(e);return{URI:E,_E:void 0,map:g,compact:t.compact,separate:t.separate,filter:t.filter,filterMap:t.filterMap,partition:t.partition,partitionMap:t.partitionMap,traverse:_,sequence:Z,reduce:v,foldMap:y,reduceRight:b,wither:(0,d.eN)(X,n),wilt:(0,d.yu)(X,n)}},M=function(e){return{URI:E,_E:void 0,map:g,ap:function(t,n){return he(t)?he(n)?f(e.concat(t.left,n.left)):t:he(n)?n:p(t.right(n.right))},of:L}},k=function(e){return{URI:E,_E:void 0,map:g,alt:function(t,n){if(ge(t))return t;var r=n();return he(r)?f(e.concat(t.left,r.left)):r}}},$=function(e){return function(t){return he(t)?t:p(e(t.right))}},P={URI:E,map:g},U=(0,a.dual)(2,(0,u.as)(P)),j=(0,u.KA)(P),L=p,N={URI:E,of:L},q=function(e){return function(t){return he(t)?t:he(e)?e:p(t.right(e.right))}},B=q,F={URI:E,map:g,ap:m},D={URI:E,map:g,ap:m,of:L},z={URI:E,map:g,ap:m,chain:h},H={URI:E,map:g,ap:m,of:L,chain:h},K=function(e,t){return function(n){return he(n)?e:t(e,n.right)}},G=function(e){return function(t){return function(n){return he(n)?e.empty:t(n.right)}}},J=function(e,t){return function(n){return he(n)?e:t(n.right,e)}},V={URI:E,reduce:v,foldMap:y,reduceRight:b},Y=function(e){return function(t){return function(n){return he(n)?e.of(f(n.left)):e.map(t(n.right),p)}}},Z=function(e){return function(t){return he(t)?e.of(f(t.left)):e.map(t.right,p)}},X={URI:E,map:g,reduce:v,foldMap:y,reduceRight:b,traverse:_,sequence:Z},ee=function(e,t){return function(n){return he(n)?f(e(n.left)):p(t(n.right))}},te=function(e){return function(t){return he(t)?f(e(t.left)):t}},ne={URI:E,bimap:w,mapLeft:S},re=function(e){return function(t){return he(t)?e():t}},ie=re,oe={URI:E,map:g,alt:R},se=function(e){return function(t){return he(t)?t:p(e(t))}},ae={URI:E,map:g,extend:I},ue={URI:E,map:g,ap:m,chain:h,chainRec:x},ce=f,le={URI:E,map:g,ap:m,of:L,chain:h,throwError:ce},de={URI:E,fromEither:a.identity},fe=(0,s.E5)(de),pe=(0,s.QT)(de),he=c._,ge=c.gt,me=function(e,t){return function(n){return he(n)?e(n.left):t(n.right)}},ve=me,ye=me,be=ye,_e=function(e){return function(t){return he(t)?e(t.left):t.right}},we=_e,Se=(0,u.__)(P),Re=(0,i.Yn)(F),Ie=Re,xe=(0,i.IN)(F),Ee=xe,Ce=(0,a.dual)(2,o.ys(z)),Oe=h(a.identity),Te=Oe,Ae=se(a.identity),We=(0,s.Gu)(de),Qe=(0,s.G0)(de,z),Me=Qe,ke={fromEither:de.fromEither},$e=c.o5(ke),Pe=c.E4(ke),Ue={flatMap:h},je=c.YT(ke,Ue),Le=c.oN(ke,Ue),Ne=(0,s.ei)(de,z),qe=Ne,Be=function(e){return he(e)?p(e.left):f(e.right)},Fe=function(e){return function(t){return he(t)?e(t.left):t}},De=Fe,ze=function(e){return function(t){return null==t?f(e):p(t)}},He=function(e,t){try{return p(e())}catch(e){return f(t(e))}},Ke=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return He((function(){return e.apply(void 0,n)}),t)}},Ge=function(e){var t=ze(e);return function(e){return(0,a.flow)(e,t)}},Je=function(e){var t=Ge(e);return function(e){return h(t(e))}},Ve=ve(a.identity,a.identity);function Ye(e){return e instanceof Error?e:new Error(String(e))}function Ze(e){return function(t,n){if(void 0===n){var r=Ze(e);return function(e){return r(t,e)}}return!he(n)&&e.equals(t,n.right)}}var Xe=function(e){return function(t){return!he(t)&&e(t.right)}},et=L(c.my),tt=(0,u.sn)(P),nt=(0,u.Oc)(P),rt=o.m6(z),it=rt,ot=(0,i.kl)(F),st=ot,at=L(c.Mx),ut=function(e){return function(t){var n=e(0,c.Ap(t));if(he(n))return n;for(var r=[n.right],i=1;i<t.length;i++){var o=e(i,t[i]);if(he(o))return o;r.push(o.right)}return p(r)}},ct=function(e){var t=ut(e);return function(e){return c.e6(e)?t(e):at}},lt=ct,dt=function(e){return ct((function(t,n){return e(n)}))},ft=dt(a.identity),pt=h,ht=h,gt=Ce,mt=Ce;function vt(e,t){return He((function(){return JSON.parse(e)}),t)}var yt=function(e,t){return He((function(){var t=JSON.stringify(e);if("string"!=typeof t)throw new Error("Converting unsupported structure to JSON");return t}),t)},bt={URI:E,map:g,of:L,ap:m,chain:h,reduce:v,foldMap:y,reduceRight:b,traverse:_,sequence:Z,bimap:w,mapLeft:S,alt:R,extend:I,chainRec:x,throwError:ce},_t=(0,i.ER)(F),wt=(0,r.s)(D),St=function(e,t){return(0,i.ER)(M(e))(t)},Rt=function(e,t){return(0,r.s)(M(e))(t)};function It(e){var t=M(e).ap,n=k(e).alt;return{URI:E,_E:void 0,map:g,of:L,chain:h,bimap:w,mapLeft:S,reduce:v,foldMap:y,reduceRight:b,extend:I,traverse:_,sequence:Z,chainRec:x,throwError:ce,ap:t,alt:n}}},4692:(e,t,n)=>{"use strict";n.d(t,{AM:()=>_,C:()=>C,CC:()=>v,Cc:()=>c,EV:()=>d,Ed:()=>x,Is:()=>O,KT:()=>l,QL:()=>f,QP:()=>E,Rv:()=>R,Uj:()=>I,YS:()=>b,_C:()=>w,ap:()=>g,eQ:()=>S,kH:()=>h,kR:()=>u,sD:()=>p,sR:()=>y,sX:()=>m,wz:()=>a});var r=n(5828),i=n(1736),o=n(6356),s=n(3176);function a(e){return(0,o.flow)(i.right,e.of)}function u(e){return(0,o.flow)(i.left,e.of)}function c(e){return function(t){return e.map(t,i.right)}}function l(e){return function(t){return e.map(t,i.left)}}function d(e){return function(t){return(0,o.flow)(i.fromNullable(t),e.of)}}function f(e){var t=d(e);return function(e){var n=t(e);return function(e){return(0,o.flow)(e,n)}}}function p(e){var t=function(e){var t=m(e);return function(e){return function(n){return t(n,e)}}}(e),n=f(e);return function(e){var r=n(e);return function(e){return t(r(e))}}}function h(e){return(0,s.kH)(e,i.Functor)}function g(e){return(0,r.ap)(e,i.Apply)}function m(e){return function(t,n){return e.chain(t,(function(t){return i.isLeft(t)?e.of(t):n(t.right)}))}}function v(e){return function(t){return function(n){return e.chain(n,(function(n){return i.isLeft(n)?t():e.of(n)}))}}}function y(e){return function(t,n,r){return e.map(t,i.bimap(n,r))}}function b(e){return function(t,n){return e.map(t,i.mapLeft(n))}}function _(e,t){return function(n){return function(r){return e.chain(r,i.match((function(r){return e.map(n(),i.mapLeft((function(e){return t.concat(r,e)})))}),a(e)))}}}function w(e){return function(t,n){return function(r){return e.map(r,i.match(t,n))}}}function S(e){return function(t,n){return function(r){return e.chain(r,i.match(t,n))}}}function R(e){return function(t){return function(n){return e.chain(n,i.match(t,e.of))}}}function I(e){return function(t){return function(n){return e.chain(n,(function(n){return i.isLeft(n)?t(n.left):e.of(n)}))}}}function x(e){var t=I(e);return function(n,r){return(0,o.pipe)(n,t((function(t){return e.map(r(t),(function(e){return i.isLeft(e)?e:i.left(t)}))})))}}function E(e){return function(t){return function(n){return e.chain(n,i.match((function(n){return e.map(t(n),i.left)}),(function(t){return e.of(i.right(t))})))}}}function C(e){return function(t){return e.map(t,i.swap)}}function O(e){return function(t){return e.map(t,i.toUnion)}}},8184:(e,t,n)=>{"use strict";n.d(t,{SM:()=>r,w_:()=>i}),n(6356);var r=function(e){return{equals:function(t,n){return t===n||e(t,n)}}},i={equals:function(e,t){return e===t}};i.equals},2880:(e,t,n)=>{"use strict";n.d(t,{Gs:()=>u,IF:()=>a,Yb:()=>c,s3:()=>l});var r=n(6356),i=n(440),o=n(4052),s=n(1333);function a(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.filter(e,n)}))}}}function u(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.filterMap(e,n)}))}}}function c(e,t){var n=a(e,t);return function(e){var t=n((0,o.ik)(e)),r=n(e);return function(e){return(0,s.cZ)(t(e),r(e))}}}function l(e,t){var n=u(e,t);return function(e){return function(t){return(0,s.cZ)((0,r.pipe)(t,n((function(t){return(0,i.cR)(e(t))}))),(0,r.pipe)(t,n((function(t){return(0,i.wH)(e(t))}))))}}}},3316:(e,t,n)=>{"use strict";n.d(t,{E5:()=>a,G0:()=>c,Gu:()=>u,O0:()=>l,QT:()=>s,ei:()=>d,iX:()=>f});var r=n(6556),i=n(6356),o=n(1112);function s(e){return function(t){return function(n){return e.fromEither(o.iW(n)?o.kR(t()):o.wz(n.value))}}}function a(e){return function(t,n){return function(r){return e.fromEither(t(r)?o.wz(r):o.kR(n(r)))}}}function u(e){var t=s(e);return function(e){var n=t(e);return function(e){return(0,i.flow)(e,n)}}}function c(e,t){var n=u(e);return function(e){var r=n(e);return function(e){return function(n){return t.chain(n,r(e))}}}}function l(e){return function(t){return(0,i.flow)(t,e.fromEither)}}function d(e,t){return function(n,r){return function(i){return t.chain(i,(function(t){return e.fromEither(n(t)?o.wz(t):o.kR(r(t)))}))}}}function f(e,t){var n=l(e),i=(0,r.ys)(t);return function(e,t){return i(e,n(t))}}},628:(e,t,n)=>{"use strict";n.d(t,{Iv:()=>o,qg:()=>s});var r=n(6556),i=n(6356);function o(e){return function(t){return(0,i.flow)(t,e.fromIO)}}function s(e,t){var n=(0,r.ys)(t);return function(t,r){return n(t,(0,i.flow)(r,e.fromIO))}}},9552:(e,t,n)=>{"use strict";n.d(t,{Wi:()=>s,YD:()=>c,ae:()=>u,zB:()=>a});var r=n(6556),i=n(6356),o=n(7764);function s(e){return function(){return e.fromReader(o.Wi())}}function a(e){return e.fromReader}function u(e){return function(t){return(0,i.flow)(t,e.fromReader)}}function c(e,t){var n=(0,r.ys)(t);return function(t,r){return n(t,(0,i.flow)(r,e.fromReader))}}},808:(e,t,n)=>{"use strict";n.d(t,{AF:()=>o,PH:()=>s});var r=n(6556),i=n(6356);function o(e){return function(t){return(0,i.flow)(t,e.fromTask)}}function s(e,t){var n=(0,r.ys)(t);return function(t,r){return n(t,(0,i.flow)(r,e.fromTask))}}},3176:(e,t,n)=>{"use strict";function r(e,t){return function(n){return function(r){return e.map(r,(function(e){return t.map(e,n)}))}}}function i(e){return function(t){return function(n){return e.map(n,(function(e){return e(t)}))}}}function o(e){return function(t){return function(n){return e.map(n,(function(e){var n;return(n={})[t]=e,n}))}}}function s(e){return function(t,n){return function(r){return e.map(r,(function(e){var r;return Object.assign({},e,((r={})[t]=n(e),r))}))}}}function a(e){return function(t,n){return e.map(t,(function(){return n}))}}function u(e){var t=a(e);return function(e){return t(e,void 0)}}n.d(t,{KA:()=>u,Oc:()=>s,__:()=>i,as:()=>a,kH:()=>r,sn:()=>o})},9320:(e,t,n)=>{"use strict";n.r(t),n.d(t,{parse:()=>o,stringify:()=>s});var r=n(1736),i=n(6356),o=function(e){return(0,r.tryCatch)((function(){return JSON.parse(e)}),i.identity)},s=function(e){return(0,r.tryCatch)((function(){var t=JSON.stringify(e);if("string"!=typeof t)throw new Error("Converting unsupported structure to JSON");return t}),i.identity)}},440:(e,t,n)=>{"use strict";n.d(t,{cR:()=>l,wH:()=>d});var r=n(6556),i=n(3316),o=n(6356),s=n(3176),a=n(1112),u=(n(4052),n(1333),n(2552),a.LO),c=a.K6,l=function(e){return"Right"===e._tag?u:c(e.left)},d=function(e){return"Left"===e._tag?u:c(e.right)},f=function(e,t){return(0,o.pipe)(e,h(t))},p="Option",h=function(e){return function(t){return b(t)?u:c(e(t.value))}},g={URI:p,map:f},m=((0,o.dual)(2,(0,s.as)(g)),(0,s.KA)(g),function(e){return function(t){return b(t)||b(e)?u:c(t.value(e.value))}}),v={URI:p,map:f,ap:function(e,t){return(0,o.pipe)(e,m(t))},chain:(0,o.dual)(2,(function(e,t){return b(e)?u:t(e.value)}))},y=((0,o.dual)(2,(function(e,t){return b(e)?t():e})),o.identity,{URI:p,fromEither:d}),b=(a.G6,function(e){return"None"===e._tag});r.ys(v),(0,i.iX)(y,v),a.my,a.Mx},8816:(e,t,n)=>{"use strict";n.d(t,{KC:()=>s,SY:()=>a,kv:()=>u});var r=n(8184),i=n(6356),o=function(e){return function(t,n){return t===n||0===e(t,n)}},s=function(e){return{equals:o(e),compare:function(t,n){return t===n?0:e(t,n)}}},a=(i.constTrue,function(e){return function(t,n){return t===n||e.compare(t,n)<1?t:n}}),u=function(e){return function(t,n){return t===n||e.compare(t,n)>-1?t:n}};r.w_.equals},4052:(e,t,n)=>{"use strict";n.d(t,{ik:()=>r}),n(6356);var r=function(e){return function(t){return!e(t)}}},7764:(e,t,n)=>{"use strict";n.d(t,{G2:()=>y,Ir:()=>a,MX:()=>u,Qn:()=>m,Ud:()=>_,Wi:()=>s,_C:()=>w,kH:()=>d,of:()=>p,w3:()=>v});var r=n(6556),i=(n(1736),n(6356)),o=n(1112),s=function(){return i.identity},a=function(e){return function(t){return function(n){return t(e(n))}}},u=function(e){return function(t){return e(t)(t)}},c=function(e,t){return(0,i.pipe)(e,d(t))},l=function(e,t){return(0,i.pipe)(e,f(t))},d=function(e){return function(t){return function(n){return e(t(n))}}},f=function(e){return function(t){return function(n){return t(n)(e(n))}}},p=i.constant,h=(0,i.dual)(2,(function(e,t){return function(n){return t(e(n))(n)}})),g="Reader",m={URI:g,map:c},v={URI:g,of:p},y={URI:g,map:c,ap:l},b={URI:g,map:c,ap:l,chain:h},_={URI:g,map:c,of:p,ap:l,chain:h},w=(r.ys(b),o.my,o.Mx,function(e){return function(t){return function(n){for(var r=[e(0,o.Ap(t))(n)],i=1;i<t.length;i++)r.push(e(i,t[i])(n));return r}}})},6992:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Alt:()=>Ee,ApT:()=>ct,Applicative:()=>ve,Apply:()=>fe,Bifunctor:()=>xe,Chain:()=>ye,Do:()=>nt,FromEither:()=>_e,FromReader:()=>we,Functor:()=>ae,Monad:()=>be,MonadThrow:()=>Qe,Pointed:()=>de,URI:()=>ne,alt:()=>X,altW:()=>ee,ap:()=>K,apFirst:()=>pe,apFirstW:()=>he,apS:()=>at,apSW:()=>ut,apSecond:()=>ge,apSecondW:()=>me,apW:()=>G,as:()=>ue,asUnit:()=>ce,ask:()=>Ce,asks:()=>Oe,asksReaderEither:()=>M,asksReaderEitherW:()=>Q,bimap:()=>D,bind:()=>ot,bindTo:()=>rt,bindW:()=>st,chain:()=>gt,chainEitherK:()=>He,chainEitherKW:()=>Ke,chainFirst:()=>vt,chainFirstEitherK:()=>Ge,chainFirstEitherKW:()=>Je,chainFirstReaderK:()=>Ae,chainFirstReaderKW:()=>We,chainFirstW:()=>yt,chainOptionK:()=>$e,chainOptionKW:()=>Pe,chainReaderK:()=>Ve,chainReaderKW:()=>Ye,chainW:()=>mt,filterOrElse:()=>Xe,filterOrElseW:()=>et,flap:()=>le,flatMap:()=>V,flatMapEither:()=>De,flatMapNullable:()=>Be,flatMapOption:()=>Fe,flatMapReader:()=>ze,flatten:()=>Z,flattenW:()=>Y,fold:()=>x,foldW:()=>C,fromEither:()=>_,fromEitherK:()=>tt,fromOption:()=>Me,fromOptionK:()=>ke,fromPredicate:()=>Ze,fromReader:()=>w,fromReaderK:()=>Te,getAltReaderValidation:()=>se,getApplicativeReaderValidation:()=>oe,getApplyMonoid:()=>Rt,getApplySemigroup:()=>St,getCompactable:()=>re,getFilterable:()=>ie,getOrElse:()=>O,getOrElseW:()=>T,getReaderValidation:()=>xt,getSemigroup:()=>It,left:()=>m,leftReader:()=>b,let:()=>it,liftNullable:()=>Le,liftOption:()=>Ne,local:()=>W,map:()=>B,mapBoth:()=>F,mapError:()=>z,mapLeft:()=>H,match:()=>S,matchE:()=>I,matchEW:()=>E,matchW:()=>R,of:()=>J,orElse:()=>k,orElseFirst:()=>bt,orElseFirstW:()=>_t,orElseW:()=>$,orLeft:()=>U,readerEither:()=>wt,right:()=>v,rightReader:()=>y,sequenceArray:()=>ht,swap:()=>j,tap:()=>Se,tapEither:()=>Re,tapError:()=>P,tapReader:()=>Ie,throwError:()=>te,toUnion:()=>A,traverseArray:()=>pt,traverseArrayWithIndex:()=>ft,traverseReadonlyArrayWithIndex:()=>dt,traverseReadonlyNonEmptyArrayWithIndex:()=>lt});var r=n(3008),i=n(5828),o=n(6556),s=n(4332),a=n(1736),u=n(4692),c=n(2880),l=n(3316),d=n(9552),f=n(6356),p=n(3176),h=n(1112),g=n(7764),m=u.kR(g.w3),v=u.wz(g.w3),y=u.Cc(g.Qn),b=u.KT(g.Qn),_=g.of,w=y,S=u._C(g.Qn),R=S,I=u.eQ(g.Ud),x=I,E=I,C=E,O=u.Rv(g.Ud),T=O,A=u.Is(g.Qn),W=g.Ir,Q=g.MX,M=Q,k=u.Uj(g.Ud),$=k,P=(0,f.dual)(2,u.Ed(g.Ud)),U=u.QP(g.Ud),j=u.C(g.Qn),L=function(e,t){return(0,f.pipe)(e,B(t))},N=function(e,t){return(0,f.pipe)(e,K(t))},q=function(e,t){return(0,f.pipe)(e,X(t))},B=u.kH(g.Qn),F=(0,f.dual)(3,u.sR(g.Qn)),D=F,z=(0,f.dual)(2,u.YS(g.Qn)),H=z,K=u.ap(g.G2),G=K,J=v,V=(0,f.dual)(2,u.sX(g.Ud)),Y=V(f.identity),Z=Y,X=u.CC(g.Ud),ee=X,te=m,ne="ReaderEither",re=function(e){var t=a.getCompactable(e);return{URI:ne,_E:void 0,compact:(0,s.g3)(g.Qn,t),separate:(0,s.ie)(g.Qn,t,a.Functor)}};function ie(e){var t=a.getFilterable(e),n=re(e),r=(0,c.IF)(g.Qn,t),i=(0,c.Gs)(g.Qn,t),o=(0,c.Yb)(g.Qn,t),s=(0,c.s3)(g.Qn,t);return{URI:ne,_E:void 0,map:L,compact:n.compact,separate:n.separate,filter:function(e,t){return(0,f.pipe)(e,r(t))},filterMap:function(e,t){return(0,f.pipe)(e,i(t))},partition:function(e,t){return(0,f.pipe)(e,o(t))},partitionMap:function(e,t){return(0,f.pipe)(e,s(t))}}}function oe(e){var t=(0,i.ap)(g.G2,a.getApplicativeValidation(e));return{URI:ne,_E:void 0,map:L,ap:function(e,n){return(0,f.pipe)(e,t(n))},of:J}}function se(e){var t=u.AM(g.Ud,e);return{URI:ne,_E:void 0,map:L,alt:function(e,n){return(0,f.pipe)(e,t(n))}}}var ae={URI:ne,map:L},ue=(0,f.dual)(2,(0,p.as)(ae)),ce=(0,p.KA)(ae),le=(0,p.__)(ae),de={URI:ne,of:J},fe={URI:ne,map:L,ap:N},pe=(0,i.Yn)(fe),he=pe,ge=(0,i.IN)(fe),me=ge,ve={URI:ne,map:L,ap:N,of:J},ye={URI:ne,map:L,ap:N,chain:V},be={URI:ne,map:L,ap:N,of:J,chain:V},_e={URI:ne,fromEither:_},we={URI:ne,fromReader:w},Se=(0,f.dual)(2,o.ys(ye)),Re=(0,f.dual)(2,(0,l.iX)(_e,ye)),Ie=(0,f.dual)(2,(0,d.YD)(we,ye)),xe={URI:ne,bimap:F,mapLeft:z},Ee={URI:ne,map:L,alt:q},Ce=(0,d.Wi)(we),Oe=(0,d.zB)(we),Te=(0,d.ae)(we),Ae=Ie,We=Ie,Qe={URI:ne,map:L,ap:N,of:J,chain:V,throwError:te},Me=(0,l.QT)(_e),ke=(0,l.Gu)(_e),$e=(0,l.G0)(_e,ye),Pe=$e,Ue={fromEither:_e.fromEither},je={fromReader:we.fromReader},Le=h.o5(Ue),Ne=h.E4(Ue),qe={flatMap:V},Be=h.YT(Ue,qe),Fe=h.oN(Ue,qe),De=h.iS(Ue,qe),ze=h.Up(je,qe),He=De,Ke=De,Ge=Re,Je=Re,Ve=ze,Ye=ze,Ze=(0,l.E5)(_e),Xe=(0,l.ei)(_e,ye),et=Xe,tt=(0,l.O0)(_e),nt=J(h.my),rt=(0,p.sn)(ae),it=(0,p.Oc)(ae),ot=o.m6(ye),st=ot,at=(0,i.kl)(fe),ut=at,ct=J(h.Mx),lt=function(e){return(0,f.flow)(g._C(e),g.kH(a.traverseReadonlyNonEmptyArrayWithIndex(f.SK)))},dt=function(e){var t=lt(e);return function(e){return h.e6(e)?t(e):ct}},ft=dt,pt=function(e){return dt((function(t,n){return e(n)}))},ht=pt(f.identity),gt=V,mt=V,vt=Se,yt=Se,bt=P,_t=P,wt={URI:ne,bimap:F,mapLeft:z,map:L,of:J,ap:N,chain:V,alt:q,throwError:m},St=(0,i.ER)(fe),Rt=(0,r.s)(ve),It=function(e){return(0,i.ER)(g.G2)(a.getSemigroup(e))};function xt(e){var t=oe(e),n=se(e);return{URI:ne,_E:void 0,map:L,ap:t.ap,of:J,chain:V,bimap:F,mapLeft:z,alt:n.alt,throwError:te}}},2084:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Alt:()=>Ut,ApT:()=>rr,ApplicativePar:()=>gt,ApplicativeSeq:()=>vt,ApplyPar:()=>lt,ApplySeq:()=>mt,Bifunctor:()=>Pt,Chain:()=>yt,Do:()=>Vn,FromEither:()=>Rt,FromIO:()=>It,FromReader:()=>Et,FromTask:()=>xt,Functor:()=>ot,Monad:()=>bt,MonadIO:()=>_t,MonadTask:()=>wt,MonadThrow:()=>St,Pointed:()=>ct,URI:()=>et,alt:()=>Ye,altW:()=>Ze,ap:()=>ze,apFirst:()=>dt,apFirstW:()=>ft,apS:()=>tr,apSW:()=>nr,apSecond:()=>pt,apSecondW:()=>ht,apW:()=>He,as:()=>st,asUnit:()=>at,ask:()=>jt,asks:()=>Lt,asksReaderTaskEither:()=>Ce,asksReaderTaskEitherW:()=>Ee,bimap:()=>Be,bind:()=>Xn,bindTo:()=>Yn,bindW:()=>er,bracket:()=>Gn,bracketW:()=>Jn,chain:()=>hr,chainEitherK:()=>Sn,chainEitherKW:()=>Rn,chainFirst:()=>mr,chainFirstEitherK:()=>In,chainFirstEitherKW:()=>xn,chainFirstIOK:()=>Pn,chainFirstReaderEitherK:()=>Dt,chainFirstReaderEitherKW:()=>Ft,chainFirstReaderIOK:()=>Zt,chainFirstReaderIOKW:()=>Yt,chainFirstReaderK:()=>qt,chainFirstReaderKW:()=>Bt,chainFirstReaderTaskK:()=>Jt,chainFirstReaderTaskKW:()=>Gt,chainFirstTaskEitherK:()=>Ht,chainFirstTaskEitherKW:()=>zt,chainFirstTaskK:()=>Ln,chainFirstW:()=>vr,chainIOEitherK:()=>zn,chainIOEitherKW:()=>Dn,chainIOK:()=>$n,chainNullableK:()=>Ie,chainOptionK:()=>tn,chainOptionKW:()=>nn,chainReaderEitherK:()=>Kn,chainReaderEitherKW:()=>Hn,chainReaderIOK:()=>Fn,chainReaderIOKW:()=>Bn,chainReaderK:()=>Nn,chainReaderKW:()=>qn,chainReaderTaskK:()=>Tn,chainReaderTaskKW:()=>On,chainTaskEitherK:()=>Cn,chainTaskEitherKW:()=>En,chainTaskK:()=>jn,chainW:()=>gr,filterOrElse:()=>Wn,filterOrElseW:()=>Qn,flap:()=>ut,flatMap:()=>Ge,flatMapEither:()=>pn,flatMapIO:()=>mn,flatMapIOEither:()=>_n,flatMapNullable:()=>dn,flatMapOption:()=>fn,flatMapReader:()=>yn,flatMapReaderEither:()=>wn,flatMapReaderIO:()=>bn,flatMapReaderTask:()=>gn,flatMapTask:()=>vn,flatMapTaskEither:()=>hn,flatten:()=>Ve,flattenW:()=>Je,fold:()=>me,foldW:()=>ye,fromEither:()=>ae,fromEitherK:()=>Mn,fromIO:()=>ce,fromIOEither:()=>de,fromIOEitherK:()=>Me,fromIOK:()=>kn,fromNullable:()=>Se,fromNullableK:()=>Re,fromOption:()=>Xt,fromOptionK:()=>en,fromPredicate:()=>An,fromReader:()=>ue,fromReaderEither:()=>fe,fromReaderEitherK:()=>$e,fromReaderIOK:()=>Vt,fromReaderK:()=>Nt,fromReaderTaskK:()=>Kt,fromTask:()=>le,fromTaskEither:()=>G,fromTaskEitherK:()=>ke,fromTaskK:()=>Un,getAltReaderTaskValidation:()=>it,getApplicativeReaderTaskValidation:()=>rt,getApplyMonoid:()=>Rr,getApplySemigroup:()=>Sr,getCompactable:()=>tt,getFilterable:()=>nt,getOrElse:()=>be,getOrElseW:()=>_e,getReaderTaskValidation:()=>xr,getSemigroup:()=>Ir,left:()=>J,leftIO:()=>ie,leftReader:()=>ee,leftReaderIO:()=>se,leftReaderTask:()=>ne,leftTask:()=>Z,let:()=>Zn,liftNullable:()=>on,liftOption:()=>sn,local:()=>xe,map:()=>Ne,mapBoth:()=>qe,mapError:()=>Fe,mapLeft:()=>De,match:()=>pe,matchE:()=>ge,matchEW:()=>ve,matchW:()=>he,of:()=>Ke,orElse:()=>Oe,orElseFirst:()=>yr,orElseFirstW:()=>br,orElseW:()=>Te,orLeft:()=>We,readerTaskEither:()=>_r,readerTaskEitherSeq:()=>wr,right:()=>V,rightIO:()=>re,rightReader:()=>X,rightReaderIO:()=>oe,rightReaderTask:()=>te,rightTask:()=>Y,run:()=>Er,sequenceArray:()=>lr,sequenceSeqArray:()=>pr,swap:()=>Qe,tap:()=>Ct,tapEither:()=>Ot,tapError:()=>Ae,tapIO:()=>Tt,tapReader:()=>Wt,tapReaderEither:()=>Qt,tapReaderIO:()=>$t,tapReaderTask:()=>kt,tapTask:()=>At,tapTaskEither:()=>Mt,throwError:()=>Xe,toUnion:()=>we,traverseArray:()=>cr,traverseArrayWithIndex:()=>ur,traverseReadonlyArrayWithIndex:()=>or,traverseReadonlyArrayWithIndexSeq:()=>ar,traverseReadonlyNonEmptyArrayWithIndex:()=>ir,traverseReadonlyNonEmptyArrayWithIndexSeq:()=>sr,traverseSeqArray:()=>fr,traverseSeqArrayWithIndex:()=>dr});var r=n(3008),i=n(5828),o=n(6556),s=n(4332),a=n(1736),u=n(4692),c=n(2880),l=n(3316),d=n(628),f=n(9552),p=n(808),h=n(6356),g=n(3176),m=n(1112),v=n(7764);function y(e){return function(t){return function(){return e.of(t)}}}function b(e){return function(t){return function(n){return function(r){return e.map(n(r),t)}}}}function _(e){return function(t){return function(n){return function(r){return e.ap(n(r),t(r))}}}}function w(e){return function(t){return(0,h.flow)(t,e.of)}}var S,R=n(4012),I=w(R.w3),x=v.of,E=(0,h.flow)(R.g3,x),C=(v.kH(R.g3),v.Ir,v.MX,function(e,t){return(0,h.pipe)(e,T(t))}),O=function(e,t){return(0,h.pipe)(e,A(t))},T=b(R.Qn),A=_(R.WJ),W=y(R.w3),Q=(0,h.dual)(2,(S=R.Ud,function(e,t){return function(n){return S.chain(e(n),(function(e){return t(e)(n)}))}})),M="ReaderTask",k={URI:M,map:C},$=((0,h.dual)(2,(0,g.as)(k)),(0,g.KA)(k),{URI:M,of:W}),P={URI:M,map:C,ap:O},U={URI:M,map:C,ap:function(e,t){return Q(e,(function(e){return(0,h.pipe)(t,T(e))}))}},j={URI:M,map:C,ap:O,chain:Q},L={URI:M,map:C,of:W,ap:O,chain:Q},N={URI:M,fromIO:E},q={URI:M,fromIO:E,fromTask:x},B={URI:M,fromReader:I},F={flatMap:Q},D={fromIO:N.fromIO},z={fromTask:x},H={fromReader:I};m.es(D,F),m.Av(z,F),m.Up(H,F),o.ys(j),(0,d.qg)(N,j),(0,f.YD)(B,j),(0,p.PH)(q,j),m.my,m.Mx;var K=n(9760),G=v.of,J=u.kR($),V=u.wz($),Y=(0,h.flow)(K.Ww,G),Z=(0,h.flow)(K.mm,G),X=function(e){return(0,h.flow)(e,K.ec)},ee=function(e){return(0,h.flow)(e,K.kR)},te=u.Cc(k),ne=u.KT(k),re=(0,h.flow)(K.C4,G),ie=(0,h.flow)(K.aS,G),oe=function(e){return(0,h.flow)(e,K.C4)},se=function(e){return(0,h.flow)(e,K.aS)},ae=W,ue=X,ce=re,le=Y,de=(0,h.flow)(K.iG,G),fe=function(e){return(0,h.flow)(e,K.O1)},pe=u._C(k),he=pe,ge=u.eQ(j),me=ge,ve=ge,ye=ve,be=u.Rv(L),_e=be,we=u.Is(k),Se=u.EV($),Re=u.QL($),Ie=u.sD(L),xe=v.Ir,Ee=v.MX,Ce=Ee,Oe=u.Uj(L),Te=Oe,Ae=(0,h.dual)(2,u.Ed(L)),We=u.QP(L),Qe=u.C(k),Me=function(e){return(0,h.flow)(e,de)},ke=function(e){return(0,h.flow)(e,G)},$e=function(e){return(0,h.flow)(e,fe)},Pe=function(e,t){return(0,h.pipe)(e,Ne(t))},Ue=function(e,t){return(0,h.pipe)(e,ze(t))},je=function(e,t){return Ge(e,(function(e){return(0,h.pipe)(t,Ne(e))}))},Le=function(e,t){return(0,h.pipe)(e,Ye(t))},Ne=u.kH(k),qe=(0,h.dual)(3,u.sR(k)),Be=qe,Fe=(0,h.dual)(2,u.YS(k)),De=Fe,ze=u.ap(P),He=ze,Ke=V,Ge=(0,h.dual)(2,u.sX(L)),Je=Ge(h.identity),Ve=Je,Ye=u.CC(L),Ze=Ye,Xe=J,et="ReaderTaskEither",tt=function(e){var t=a.getCompactable(e);return{URI:et,_E:void 0,compact:(0,s.g3)(k,t),separate:(0,s.ie)(k,t,a.Functor)}};function nt(e){var t=a.getFilterable(e),n=tt(e),r=(0,c.IF)(k,t),i=(0,c.Gs)(k,t),o=(0,c.Yb)(k,t),s=(0,c.s3)(k,t);return{URI:et,_E:void 0,map:Pe,compact:n.compact,separate:n.separate,filter:function(e,t){return(0,h.pipe)(e,r(t))},filterMap:function(e,t){return(0,h.pipe)(e,i(t))},partition:function(e,t){return(0,h.pipe)(e,o(t))},partitionMap:function(e,t){return(0,h.pipe)(e,s(t))}}}function rt(e,t){var n=(0,i.ap)(v.G2,K.GK(e,t));return{URI:et,_E:void 0,map:Pe,ap:function(e,t){return(0,h.pipe)(e,n(t))},of:Ke}}function it(e){var t=u.AM(L,e);return{URI:et,_E:void 0,map:Pe,alt:function(e,n){return(0,h.pipe)(e,t(n))}}}var ot={URI:et,map:Pe},st=(0,h.dual)(2,(0,g.as)(ot)),at=(0,g.KA)(ot),ut=(0,g.__)(ot),ct={URI:et,of:Ke},lt={URI:et,map:Pe,ap:Ue},dt=(0,i.Yn)(lt),ft=dt,pt=(0,i.IN)(lt),ht=pt,gt={URI:et,map:Pe,ap:Ue,of:Ke},mt={URI:et,map:Pe,ap:je},vt={URI:et,map:Pe,ap:je,of:Ke},yt={URI:et,map:Pe,ap:Ue,chain:Ge},bt={URI:et,map:Pe,ap:Ue,chain:Ge,of:Ke},_t={URI:et,map:Pe,ap:Ue,chain:Ge,of:Ke,fromIO:ce},wt={URI:et,map:Pe,ap:Ue,chain:Ge,of:Ke,fromIO:ce,fromTask:le},St={URI:et,map:Pe,ap:Ue,chain:Ge,of:Ke,throwError:Xe},Rt={URI:et,fromEither:ae},It={URI:et,fromIO:ce},xt={URI:et,fromIO:ce,fromTask:le},Et={URI:et,fromReader:ue},Ct=(0,h.dual)(2,o.ys(yt)),Ot=(0,h.dual)(2,(0,l.iX)(Rt,yt)),Tt=(0,h.dual)(2,(0,d.qg)(It,yt)),At=(0,h.dual)(2,(0,p.PH)(xt,yt)),Wt=(0,h.dual)(2,(0,f.YD)(Et,yt)),Qt=(0,h.dual)(2,(function(e,t){return Ct(e,$e(t))})),Mt=(0,h.dual)(2,(function(e,t){return Ct(e,ke(t))})),kt=(0,h.dual)(2,(function(e,t){return Ct(e,Kt(t))})),$t=(0,h.dual)(2,(function(e,t){return Ct(e,Vt(t))})),Pt={URI:et,bimap:qe,mapLeft:Fe},Ut={URI:et,map:Pe,alt:Le},jt=(0,f.Wi)(Et),Lt=(0,f.zB)(Et),Nt=(0,f.ae)(Et),qt=Wt,Bt=Wt,Ft=Qt,Dt=Qt,zt=Mt,Ht=Mt,Kt=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return te(e.apply(void 0,t))}},Gt=kt,Jt=kt,Vt=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return oe(e.apply(void 0,t))}},Yt=$t,Zt=$t,Xt=(0,l.QT)(Rt),en=(0,l.Gu)(Rt),tn=(0,l.G0)(Rt,yt),nn=tn,rn={fromEither:Rt.fromEither},on=m.o5(rn),sn=m.E4(rn),an={flatMap:Ge},un={fromIO:ce},cn={fromTask:le},ln={fromReader:ue},dn=m.YT(rn,an),fn=m.oN(rn,an),pn=m.iS(rn,an),hn=(0,h.dual)(2,(function(e,t){return Ge(e,ke(t))})),gn=(0,h.dual)(2,(function(e,t){return Ge(e,Kt(t))})),mn=m.es(un,an),vn=m.Av(cn,an),yn=m.Up(ln,an),bn=(0,h.dual)(2,(function(e,t){return Ge(e,Vt(t))})),_n=(0,h.dual)(2,(function(e,t){return Ge(e,Me(t))})),wn=(0,h.dual)(2,(function(e,t){return Ge(e,$e(t))})),Sn=pn,Rn=pn,In=Ot,xn=Ot,En=hn,Cn=hn,On=gn,Tn=gn,An=(0,l.E5)(Rt),Wn=(0,l.ei)(Rt,yt),Qn=Wn,Mn=(0,l.O0)(Rt),kn=(0,d.Iv)(It),$n=mn,Pn=Tt,Un=(0,p.AF)(xt),jn=vn,Ln=At,Nn=yn,qn=yn,Bn=bn,Fn=bn,Dn=_n,zn=_n,Hn=wn,Kn=wn;function Gn(e,t,n){return Jn(e,t,n)}function Jn(e,t,n){return function(r){return K.Ej(e(r),(function(e){return t(e)(r)}),(function(e,t){return n(e,t)(r)}))}}var Vn=Ke(m.my),Yn=(0,g.sn)(ot),Zn=(0,g.Oc)(ot),Xn=o.m6(yt),er=Xn,tr=(0,i.kl)(lt),nr=tr,rr=Ke(m.Mx),ir=function(e){return(0,h.flow)(v._C(e),v.kH(K.Hf(h.SK)))},or=function(e){var t=ir(e);return function(e){return m.e6(e)?t(e):rr}},sr=function(e){return(0,h.flow)(v._C(e),v.kH(K.OM(h.SK)))},ar=function(e){var t=sr(e);return function(e){return m.e6(e)?t(e):rr}},ur=or,cr=function(e){return or((function(t,n){return e(n)}))},lr=cr(h.identity),dr=ar,fr=function(e){return ar((function(t,n){return e(n)}))},pr=fr(h.identity),hr=Ge,gr=Ge,mr=Ct,vr=Ct,yr=Ae,br=Ae,_r={URI:et,map:Pe,of:Ke,ap:Ue,chain:Ge,alt:Le,bimap:qe,mapLeft:Fe,fromIO:ce,fromTask:le,throwError:Xe},wr={URI:et,map:Pe,of:Ke,ap:je,chain:Ge,alt:Le,bimap:qe,mapLeft:Fe,fromIO:ce,fromTask:le,throwError:Xe},Sr=(0,i.ER)(mt),Rr=(0,r.s)(vt),Ir=function(e){return(0,i.ER)(U)(a.getSemigroup(e))};function xr(e){var t=rt(R.uU,e),n=it(e);return{URI:et,_E:void 0,map:Pe,of:Ke,chain:Ge,bimap:qe,mapLeft:Fe,ap:t.ap,alt:n.alt,fromIO:ce,fromTask:le,throwError:Xe}}function Er(e,t){return e(t)()}},2312:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Compactable:()=>ct,Filterable:()=>lt,FilterableWithIndex:()=>dt,Foldable:()=>bt,FoldableWithIndex:()=>_t,Functor:()=>it,FunctorWithIndex:()=>st,Traversable:()=>wt,TraversableWithIndex:()=>St,URI:()=>et,Witherable:()=>xt,collect:()=>D,compact:()=>Ze,deleteAt:()=>J,difference:()=>xe,elem:()=>Se,empty:()=>Et,every:()=>_e,filter:()=>ze,filterMap:()=>He,filterMapWithIndex:()=>he,filterWithIndex:()=>ge,flap:()=>ot,foldMap:()=>Ve,foldMapWithIndex:()=>ie,fromEntries:()=>ye,fromFoldable:()=>me,fromFoldableMap:()=>be,getDifferenceMagma:()=>yt,getEq:()=>nt,getFoldable:()=>at,getFoldableWithIndex:()=>ut,getIntersectionSemigroup:()=>vt,getMonoid:()=>rt,getShow:()=>tt,getTraversable:()=>ft,getTraversableWithIndex:()=>pt,getUnionMonoid:()=>mt,getUnionSemigroup:()=>gt,getWitherable:()=>ht,has:()=>G,hasOwnProperty:()=>Ot,insertAt:()=>Ct,intersection:()=>Ie,isEmpty:()=>q,isSubrecord:()=>X,keys:()=>F,lookup:()=>ee,map:()=>ne,mapWithIndex:()=>te,modifyAt:()=>Y,partition:()=>Ke,partitionMap:()=>Ge,partitionMapWithIndex:()=>fe,partitionWithIndex:()=>pe,pop:()=>Z,record:()=>Tt,reduce:()=>Je,reduceRight:()=>Ye,reduceRightWithIndex:()=>oe,reduceWithIndex:()=>re,separate:()=>Xe,sequence:()=>ce,singleton:()=>se,size:()=>N,some:()=>we,toArray:()=>z,toEntries:()=>ve,toUnfoldable:()=>H,traverse:()=>ue,traverseWithIndex:()=>ae,union:()=>Re,updateAt:()=>V,upsertAt:()=>K,wilt:()=>de,wither:()=>le});var r=n(8916),i=n(6356),o=n(3176),s=n(1112),a=n(8184),u=n(1333),c={equals:function(e,t){return e===t},compare:function(e,t){return e<t?-1:e>t?1:0}},l=n(2552),d=function(e){for(var t in e)if(s.UF.call(e,t))return!1;return!0},f=function(e){return function(t){return Object.keys(t).sort(e.compare)}};function p(e){if("function"==typeof e)return p(c)(e);var t=f(e);return function(e){return function(n){for(var r=[],i=0,o=t(n);i<o.length;i++){var s=o[i];r.push(e(s,n[s]))}return r}}}var h=function(e,t){return s.UF.call(t,e)};function g(e){return function(t,n){if(void 0===n){var r=g(e);return function(e){return r(e,t)}}for(var i in t)if(!s.UF.call(n,i)||!e.equals(t[i],n[i]))return!1;return!0}}var m={};function v(e){return function(t){var n={};for(var r in t)s.UF.call(t,r)&&(n[r]=e(r,t[r]));return n}}function y(e){return v((function(t,n){return e(n)}))}function b(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return b(c).apply(void 0,e);var n=f(e[0]);return function(e,t){return function(r){for(var i=e,o=n(r),s=o.length,a=0;a<s;a++){var u=o[a];i=t(u,i,r[u])}return i}}}function _(e){if("compare"in e){var t=f(e);return function(e){return function(n){return function(r){for(var i=e.empty,o=t(r),s=o.length,a=0;a<s;a++){var u=o[a];i=e.concat(i,n(u,r[u]))}return i}}}}return _(c)(e)}function w(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return w(c).apply(void 0,e);var n=f(e[0]);return function(e,t){return function(r){for(var i=e,o=n(r),s=o.length-1;s>=0;s--){var a=o[s];i=t(a,r[a],i)}return i}}}function S(e){return function(t){var n={},r={};for(var i in t)if(s.UF.call(t,i)){var o=e(i,t[i]);switch(o._tag){case"Left":n[i]=o.left;break;case"Right":r[i]=o.right}}return(0,u.cZ)(n,r)}}function R(e){return function(t){var n={},r={};for(var i in t)if(s.UF.call(t,i)){var o=t[i];e(i,o)?r[i]=o:n[i]=o}return(0,u.cZ)(n,r)}}function I(e){return function(t){var n={};for(var r in t)if(s.UF.call(t,r)){var i=e(r,t[r]);s.G6(i)&&(n[r]=i.value)}return n}}function x(e){return function(t){var n={},r=!1;for(var i in t)if(s.UF.call(t,i)){var o=t[i];e(i,o)?n[i]=o:r=!0}return r?n:t}}function E(e,t){return function(n,r){return t.reduce(n,{},(function(t,n){var i=r(n),o=i[0],a=i[1];return t[o]=s.UF.call(t,o)?e.concat(t[o],a):a,t}))}}var C=function(e){var t=T(e);return function(e){var n=t(e);return function(e,t){return n(e,(0,i.flow)(i.SK,t))}}},O=function(e){var t=C(e);return function(e){var n=t(e);return function(e){return n(e,i.identity)}}},T=function(e){return function(t){var n=f(e);return function(e,r){var i=n(e);if(0===i.length)return t.of(m);for(var o=t.of({}),s=function(n){o=t.ap(t.map(o,(function(e){return function(t){var r;return Object.assign({},e,((r={})[n]=t,r))}})),r(n,e[n]))},a=0,u=i;a<u.length;a++)s(u[a]);return o}}},A=function(e){return x((function(t,n){return e(n)}))},W=function(e){return I((function(t,n){return e(n)}))},Q=function(e){return R((function(t,n){return e(n)}))},M=function(e){return S((function(t,n){return e(n)}))};function k(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=b(e[0]);return function(e,t){return n(e,(function(e,n,r){return t(n,r)}))}}return k(c).apply(void 0,e)}function $(e){if("compare"in e){var t=_(e);return function(e){var n=t(e);return function(e){return n((function(t,n){return e(n)}))}}}return $(c)(e)}function P(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=w(e[0]);return function(e,t){return n(e,(function(e,n,r){return t(n,r)}))}}return P(c).apply(void 0,e)}function U(e){return"compare"in e?function(t){return{show:function(n){var r=p(e)((function(e,n){return"".concat(JSON.stringify(e),": ").concat(t.show(n))}))(n).join(", ");return""===r?"{}":"{ ".concat(r," }")}}}:U(c)(e)}var j=n(2176),L=function(){return L=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},L.apply(this,arguments)},N=function(e){return Object.keys(e).length},q=d,B=function(e){return function(t){return Object.keys(t).sort(e.compare)}},F=B(c);function D(e){if("function"==typeof e)return D(c)(e);var t=B(e);return function(e){return function(n){for(var r=[],i=0,o=t(n);i<o.length;i++){var s=o[i];r.push(e(s,n[s]))}return r}}}var z=D(c)((function(e,t){return[e,t]}));function H(e){return function(t){var n=z(t),r=n.length;return e.unfold(0,(function(e){return e<r?s.K6([n[e],e+1]):s.LO}))}}var K=function(e,t){return function(n){if(s.UF.call(n,e)&&n[e]===t)return n;var r=Object.assign({},n);return r[e]=t,r}},G=h;function J(e){return function(t){if(!s.UF.call(t,e))return t;var n=Object.assign({},t);return delete n[e],n}}var V=function(e,t){return Y(e,(function(){return t}))},Y=function(e,t){return function(n){if(!G(e,n))return s.LO;var r=Object.assign({},n);return r[e]=t(n[e]),s.K6(r)}};function Z(e){var t=J(e);return function(n){var r=ee(e,n);return s.iW(r)?s.LO:s.K6([r.value,t(n)])}}var X=g,ee=function e(t,n){return void 0===n?function(n){return e(t,n)}:s.UF.call(n,t)?s.K6(n[t]):s.LO},te=v,ne=y;function re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length?b(e[0]):b(c).apply(void 0,e)}function ie(e){return"compare"in e?_(e):_(c)(e)}function oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length?w(e[0]):w(c).apply(void 0,e)}var se=function(e,t){var n;return(n={})[e]=t,n};function ae(e){return function(e){var t=T(c)(e);return function(e){return function(n){return t(n,e)}}}(e)}function ue(e){return function(e){var t=C(c)(e);return function(e){return function(n){return t(n,e)}}}(e)}function ce(e){return function(e){return O(c)(e)}(e)}var le=function(e){var t=ue(e);return function(n){return function(r){return e.map((0,i.pipe)(r,t(n)),Ze)}}},de=function(e){var t=ue(e);return function(n){return function(r){return e.map((0,i.pipe)(r,t(n)),Xe)}}},fe=S;function pe(e){return R(e)}var he=I;function ge(e){return x(e)}function me(e,t){return function(e,t){var n=E(e,t);return function(e){return n(e,i.identity)}}(e,t)}var ve=z,ye=function(e){return me(j.last(),r.uI)(e)};function be(e,t){return E(e,t)}var _e=function(e){return function(t){for(var n in t)if(!e(t[n]))return!1;return!0}},we=function(e){return function(t){for(var n in t)if(e(t[n]))return!0;return!1}},Se=function e(t){return function(n,r){if(void 0===r){var i=e(t);return function(e){return i(n,e)}}for(var o in r)if(t.equals(r[o],n))return!0;return!1}},Re=function(e){var t=function(e){return function(t){return function(n){if(d(n))return t;if(d(t))return n;var r={};for(var i in n)h(i,t)?r[i]=e.concat(n[i],t[i]):r[i]=n[i];for(var i in t)h(i,r)||(r[i]=t[i]);return r}}}(e);return function(e){return function(n){return q(n)?L({},e):q(e)?L({},n):t(e)(n)}}},Ie=function(e){return function(t){return function(n){return q(n)||q(t)?{}:function(e){return function(t){return function(n){if(d(n)||d(t))return m;var r={};for(var i in n)h(i,t)&&(r[i]=e.concat(n[i],t[i]));return r}}}(e)(t)(n)}}},xe=function(e){return function(t){return q(t)?L({},e):q(e)?L({},t):function(e){return function(t){if(d(t))return e;if(d(e))return t;var n={};for(var r in t)h(r,e)||(n[r]=t[r]);for(var r in e)h(r,t)||(n[r]=e[r]);return n}}(e)(t)}},Ee=function(e,t){return(0,i.pipe)(e,y(t))},Ce=function(e,t){return(0,i.pipe)(e,v(t))},Oe=function(e){var t=k(e);return function(e,n,r){return(0,i.pipe)(e,t(n,r))}},Te=function(e){return function(t){var n=$(e)(t);return function(e,t){return(0,i.pipe)(e,n(t))}}},Ae=function(e){var t=P(e);return function(e,n,r){return(0,i.pipe)(e,t(n,r))}},We=function(e,t){return(0,i.pipe)(e,A(t))},Qe=function(e,t){return(0,i.pipe)(e,W(t))},Me=function(e,t){return(0,i.pipe)(e,Q(t))},ke=function(e,t){return(0,i.pipe)(e,M(t))},$e=function(e){var t=b(e);return function(e,n,r){return(0,i.pipe)(e,t(n,r))}},Pe=function(e){var t=_(e);return function(e){var n=t(e);return function(e,t){return(0,i.pipe)(e,n(t))}}},Ue=function(e){var t=w(e);return function(e,n,r){return(0,i.pipe)(e,t(n,r))}},je=function(e,t){return(0,i.pipe)(e,S(t))},Le=function(e,t){return(0,i.pipe)(e,R(t))},Ne=function(e,t){return(0,i.pipe)(e,I(t))},qe=function(e,t){return(0,i.pipe)(e,x(t))},Be=C,Fe=O,De=function(e){return function(t){var n=B(e);return function(e,r){var i=n(e);if(0===i.length)return t.of({});for(var o=t.of({}),s=function(n){o=t.ap(t.map(o,(function(e){return function(t){return e[n]=t,e}})),r(n,e[n]))},a=0,u=i;a<u.length;a++)s(u[a]);return o}}},ze=A,He=W,Ke=Q,Ge=M;function Je(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length?k(e[0]):k(c).apply(void 0,e)}function Ve(e){return"compare"in e?$(e):$(c)(e)}function Ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length?P(e[0]):P(c).apply(void 0,e)}var Ze=function(e){var t={};for(var n in e)if(s.UF.call(e,n)){var r=e[n];s.G6(r)&&(t[n]=r.value)}return t},Xe=function(e){var t={},n={};for(var r in e)if(s.UF.call(e,r)){var i=e[r];s._(i)?t[r]=i.left:n[r]=i.right}return(0,u.cZ)(t,n)},et="Record";function tt(e){return"compare"in e?U(e):U(c)(e)}var nt=function(e){var t=g(e);return(0,a.SM)((function(e,n){return t(e)(n)&&t(n)(e)}))},rt=function(e){return{concat:function(t,n){if(d(t))return n;if(d(n))return t;var r=Object.assign({},t);for(var i in n)s.UF.call(n,i)&&(r[i]=s.UF.call(t,i)?e.concat(t[i],n[i]):n[i]);return r},empty:m}},it={URI:et,map:Ee},ot=(0,o.__)(it),st={URI:et,map:Ee,mapWithIndex:Ce},at=function(e){return{URI:et,reduce:Oe(e),foldMap:Te(e),reduceRight:Ae(e)}},ut=function(e){return{URI:et,reduce:Oe(e),foldMap:Te(e),reduceRight:Ae(e),reduceWithIndex:$e(e),foldMapWithIndex:Pe(e),reduceRightWithIndex:Ue(e)}},ct={URI:et,compact:Ze,separate:Xe},lt={URI:et,map:Ee,compact:Ze,separate:Xe,filter:We,filterMap:Qe,partition:Me,partitionMap:ke},dt={URI:et,map:Ee,mapWithIndex:Ce,compact:Ze,separate:Xe,filter:We,filterMap:Qe,partition:Me,partitionMap:ke,filterMapWithIndex:Ne,filterWithIndex:qe,partitionMapWithIndex:je,partitionWithIndex:Le},ft=function(e){return{URI:et,map:Ee,reduce:Oe(e),foldMap:Te(e),reduceRight:Ae(e),traverse:Be(e),sequence:Fe(e)}},pt=function(e){return{URI:et,map:Ee,mapWithIndex:Ce,reduce:Oe(e),foldMap:Te(e),reduceRight:Ae(e),reduceWithIndex:$e(e),foldMapWithIndex:Pe(e),reduceRightWithIndex:Ue(e),traverse:Be(e),sequence:Fe(e),traverseWithIndex:De(e)}},ht=function(e){var t=ft(e);return{URI:et,map:Ee,reduce:Oe(e),foldMap:Te(e),reduceRight:Ae(e),traverse:t.traverse,sequence:t.sequence,compact:Ze,separate:Xe,filter:We,filterMap:Qe,partition:Me,partitionMap:ke,wither:(0,l.eN)(t,ct),wilt:(0,l.yu)(t,ct)}},gt=function(e){var t=Re(e);return{concat:function(e,n){return t(n)(e)}}},mt=function(e){return{concat:gt(e).concat,empty:{}}},vt=function(e){var t=Ie(e);return{concat:function(e,n){return t(n)(e)}}},yt=function(){return{concat:function(e,t){return xe(t)(e)}}},bt={URI:et,reduce:Oe(c),foldMap:Te(c),reduceRight:Ae(c)},_t={URI:et,reduce:Oe(c),foldMap:Te(c),reduceRight:Ae(c),reduceWithIndex:$e(c),foldMapWithIndex:Pe(c),reduceRightWithIndex:Ue(c)},wt={URI:et,map:Ee,reduce:Oe(c),foldMap:Te(c),reduceRight:Ae(c),traverse:Be(c),sequence:ce},St={URI:et,map:Ee,mapWithIndex:Ce,reduce:Oe(c),foldMap:Te(c),reduceRight:Ae(c),reduceWithIndex:$e(c),foldMapWithIndex:Pe(c),reduceRightWithIndex:Ue(c),traverse:Be(c),sequence:ce,traverseWithIndex:De(c)},Rt=(0,l.eN)(wt,ct),It=(0,l.yu)(wt,ct),xt={URI:et,map:Ee,reduce:Oe(c),foldMap:Te(c),reduceRight:Ae(c),traverse:Be(c),sequence:ce,compact:Ze,separate:Xe,filter:We,filterMap:Qe,partition:Me,partitionMap:ke,wither:Rt,wilt:It},Et={},Ct=K,Ot=function(e,t){return s.UF.call(void 0===t?this:t,e)},Tt={URI:et,map:Ee,reduce:Oe(c),foldMap:Te(c),reduceRight:Ae(c),traverse:Be(c),sequence:ce,compact:Ze,separate:Xe,filter:We,filterMap:Qe,partition:Me,partitionMap:ke,mapWithIndex:Ce,reduceWithIndex:$e(c),foldMapWithIndex:Pe(c),reduceRightWithIndex:Ue(c),filterMapWithIndex:Ne,filterWithIndex:qe,partitionMapWithIndex:je,partitionWithIndex:Le,traverseWithIndex:De(c),wither:Rt,wilt:It}},2176:(e,t,n)=>{"use strict";n.r(t),n.d(t,{concatAll:()=>g,constant:()=>u,first:()=>p,fold:()=>E,getDualSemigroup:()=>S,getFirstSemigroup:()=>b,getFunctionSemigroup:()=>T,getIntercalateSemigroup:()=>x,getJoinSemigroup:()=>R,getLastSemigroup:()=>y,getMeetSemigroup:()=>I,getObjectSemigroup:()=>v,getStructSemigroup:()=>w,getTupleSemigroup:()=>_,intercalate:()=>f,last:()=>h,max:()=>a,min:()=>s,reverse:()=>c,semigroupAll:()=>C,semigroupAny:()=>O,semigroupProduct:()=>Q,semigroupString:()=>A,semigroupSum:()=>W,semigroupVoid:()=>m,struct:()=>l,tuple:()=>d});var r=n(6356),i=n(1112),o=n(8816),s=function(e){return{concat:o.SY(e)}},a=function(e){return{concat:o.kv(e)}},u=function(e){return{concat:function(){return e}}},c=function(e){return{concat:function(t,n){return e.concat(n,t)}}},l=function(e){return{concat:function(t,n){var r={};for(var o in e)i.UF.call(e,o)&&(r[o]=e[o].concat(t[o],n[o]));return r}}},d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{concat:function(t,n){return e.map((function(e,r){return e.concat(t[r],n[r])}))}}},f=function(e){return function(t){return{concat:function(n,r){return t.concat(n,t.concat(e,r))}}}},p=function(){return{concat:r.identity}},h=function(){return{concat:function(e,t){return t}}},g=function(e){return function(t){return function(n){return n.reduce((function(t,n){return e.concat(t,n)}),t)}}},m=u(void 0),v=function(){return{concat:function(e,t){return Object.assign({},e,t)}}},y=h,b=p,_=d,w=l,S=c,R=a,I=s,x=f;function E(e){var t=g(e);return function(e,n){return void 0===n?t(e):t(e)(n)}}var C={concat:function(e,t){return e&&t}},O={concat:function(e,t){return e||t}},T=r.getSemigroup,A={concat:function(e,t){return e+t}},W={concat:function(e,t){return e+t}},Q={concat:function(e,t){return e*t}}},1333:(e,t,n)=>{"use strict";n.d(t,{cZ:()=>r}),n(6356);var r=function(e,t){return{left:e,right:t}}},4012:(e,t,n)=>{"use strict";n.d(t,{Qn:()=>m,Ud:()=>w,WJ:()=>y,_C:()=>x,g3:()=>u,kH:()=>d,of:()=>p,sX:()=>h,uU:()=>b,w3:()=>v});var r=n(6556),i=n(628),o=n(6356),s=n(3176),a=n(1112),u=function(e){return function(){return Promise.resolve().then(e)}},c=function(e,t){return(0,o.pipe)(e,d(t))},l=function(e,t){return(0,o.pipe)(e,f(t))},d=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},f=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}},p=function(e){return function(){return Promise.resolve(e)}},h=(0,o.dual)(2,(function(e,t){return function(){return Promise.resolve().then(e).then((function(e){return t(e)()}))}})),g="Task",m={URI:g,map:c},v=((0,o.dual)(2,(0,s.as)(m)),(0,s.KA)(m),{URI:g,of:p}),y={URI:g,map:c,ap:l},b={URI:g,map:c,ap:l,of:p},_={URI:g,map:c,ap:l,chain:h},w={URI:g,map:c,of:p,ap:l,chain:h},S=(o.identity,{URI:g,fromIO:u}),R={flatMap:h},I={fromIO:S.fromIO},x=(a.es(I,R),r.ys(_),(0,i.qg)(S,_),a.my,a.Mx,function(e){return function(t){return function(){return Promise.all(t.map((function(t,n){return Promise.resolve().then((function(){return e(n,t)()}))})))}}})},9760:(e,t,n)=>{"use strict";n.d(t,{C4:()=>y,Ej:()=>j,GK:()=>Q,Hf:()=>L,O1:()=>S,OM:()=>N,Ww:()=>m,YH:()=>B,aA:()=>q,aS:()=>b,ec:()=>g,iG:()=>R,kH:()=>E,kR:()=>h,mm:()=>v,rz:()=>C,vr:()=>I});var r=n(5828),i=n(6556),o=n(1736),s=n(4692),a=n(3316),u=n(628),c=n(808),l=n(6356),d=n(3176),f=n(1112),p=n(4012),h=s.kR(p.w3),g=s.wz(p.w3),m=s.Cc(p.Qn),v=s.KT(p.Qn),y=(0,l.flow)(p.g3,m),b=(0,l.flow)(p.g3,v),_=y,w=m,S=p.of,R=p.g3,I=(p.Qn,p.Ud,p.Ud,function(e,t){return function(){return n=void 0,r=void 0,o=function(){var n;return function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,e().then(f.wz)];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,f.kR(t(n))];case 3:return[2]}}))},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{u(o.next(e))}catch(e){t(e)}}function a(e){try{u(o.throw(e))}catch(e){t(e)}}function u(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}u((o=o.apply(n,r||[])).next())}));var n,r,i,o}}),x=(p.Qn,p.w3,p.w3,p.Ud,p.Ud,s.Ed(p.Ud),p.Ud,p.Qn,function(e,t){return(0,l.pipe)(e,E(t))}),E=s.kH(p.Qn),C=(s.sR(p.Qn),(0,l.dual)(2,s.YS(p.Qn))),O=s.ap(p.WJ),T=(0,l.dual)(2,s.sX(p.Ud)),A=(p.Ud,g),W="TaskEither";function Q(e,t){var n=(0,r.ap)(e,o.getApplicativeValidation(t));return{URI:W,_E:void 0,map:x,ap:function(e,t){return(0,l.pipe)(e,n(t))},of:A}}var M={URI:W,map:x},k=((0,l.dual)(2,(0,d.as)(M)),(0,d.KA)(M),{URI:W,map:x,ap:function(e,t){return(0,l.pipe)(e,O(t))},chain:T}),$={URI:W,fromEither:S},P={URI:W,fromIO:_},U={URI:W,fromIO:_,fromTask:w};i.ys(k),(0,a.iX)($,k),(0,u.qg)(P,k),(0,c.PH)(U,k);var j=function(e,t,n){return T(e,(function(e){return p.sX(t(e),(function(t){return T(n(e,t),(function(){return p.of(t)}))}))}))},L=(f.my,f.Mx,function(e){return(0,l.flow)(p._C(e),p.kH(o.traverseReadonlyNonEmptyArrayWithIndex(l.SK)))}),N=function(e){return function(t){return function(){return f._h(t).reduce((function(t,n,r){return t.then((function(i){return f._(i)?t:e(r+1,n)().then((function(e){return f._(e)?e:(i.right.push(e.right),i)}))}))}),e(0,f.Ap(t))().then(o.map(f.aY)))}}},q=T,B=T},1096:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Bifunctor:()=>N,Comonad:()=>B,Foldable:()=>F,Functor:()=>j,Semigroupoid:()=>q,Traversable:()=>D,URI:()=>U,bimap:()=>x,compose:()=>O,duplicate:()=>A,extend:()=>T,extract:()=>W,flap:()=>L,foldMap:()=>Q,fst:()=>a,getApplicative:()=>f,getApply:()=>l,getChain:()=>p,getChainRec:()=>g,getMonad:()=>h,map:()=>z,mapFst:()=>E,mapLeft:()=>H,mapSnd:()=>C,reduce:()=>M,reduceRight:()=>k,sequence:()=>P,snd:()=>u,swap:()=>c,traverse:()=>$,tuple:()=>K});var r=n(6356),i=n(3176);function o(e){return e[0]}var s=o,a=o,u=function(e){return e[1]},c=function(e){return[u(e),a(e)]};function l(e){return{URI:U,_E:void 0,map:v,ap:function(t,n){return[a(t)(a(n)),e.concat(u(t),u(n))]}}}var d=function(e){return function(t){return[t,e.empty]}};function f(e){var t=l(e);return{URI:U,_E:void 0,map:t.map,ap:t.ap,of:d(e)}}function p(e){var t=l(e);return{URI:U,_E:void 0,map:t.map,ap:t.ap,chain:function(t,n){var r=n(a(t)),i=r[0],o=r[1];return[i,e.concat(u(t),o)]}}}function h(e){var t=p(e);return{URI:U,_E:void 0,map:t.map,ap:t.ap,chain:t.chain,of:d(e)}}function g(e){var t=p(e);return{URI:U,_E:void 0,map:t.map,ap:t.ap,chain:t.chain,chainRec:function(t,n){for(var r=n(t),i=e.empty,o=a(r);"Left"===o._tag;)i=e.concat(i,u(r)),r=n(o.left),o=a(r);return[o.right,e.concat(i,u(r))]}}}var m=function(e,t){return(0,r.pipe)(e,O(t))},v=function(e,t){return(0,r.pipe)(e,E(t))},y=function(e,t,n){return(0,r.pipe)(e,x(t,n))},b=function(e,t){return(0,r.pipe)(e,C(t))},_=function(e,t){return(0,r.pipe)(e,T(t))},w=function(e,t,n){return(0,r.pipe)(e,M(t,n))},S=function(e){var t=Q(e);return function(e,n){return(0,r.pipe)(e,t(n))}},R=function(e,t,n){return(0,r.pipe)(e,k(t,n))};function I(e){var t=$(e);return function(e,n){return(0,r.pipe)(e,t(n))}}var x=function(e,t){return function(n){return[t(a(n)),e(u(n))]}},E=function(e){return function(t){return[e(a(t)),u(t)]}},C=function(e){return function(t){return[a(t),e(u(t))]}},O=function(e){return function(t){return[a(t),u(e)]}},T=function(e){return function(t){return[e(t),u(t)]}},A=T(r.identity),W=s,Q=function(){return function(e){return function(t){return e(o(t))}}},M=function(e,t){return function(n){return t(e,o(n))}},k=function(e,t){return function(n){return t(o(n),e)}},$=function(e){return function(t){return function(n){return e.map(t(a(n)),(function(e){return[e,u(n)]}))}}},P=function(e){return function(t){return e.map(a(t),(function(e){return[e,u(t)]}))}},U="Tuple",j={URI:U,map:v},L=(0,i.__)(j),N={URI:U,bimap:y,mapLeft:b},q={URI:U,compose:m},B={URI:U,map:v,extend:_,extract:W},F={URI:U,reduce:w,foldMap:S,reduceRight:R},D={URI:U,map:v,reduce:w,foldMap:S,reduceRight:R,traverse:I,sequence:P},z=E,H=C,K={URI:U,compose:m,map:v,bimap:y,mapLeft:b,extract:W,extend:_,reduce:w,foldMap:S,reduceRight:R,traverse:I,sequence:P}},2552:(e,t,n)=>{"use strict";function r(e,t){return function(n){var r=e.traverse(n);return function(e,i){return n.map(r(e,i),t.separate)}}}function i(e,t){return function(n){var r=e.traverse(n);return function(e,i){return n.map(r(e,i),t.compact)}}}n.d(t,{eN:()=>i,yu:()=>r})},6356:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SK:()=>C,absurd:()=>S,apply:()=>u,constFalse:()=>p,constNull:()=>h,constTrue:()=>f,constUndefined:()=>g,constVoid:()=>m,constant:()=>d,decrement:()=>w,dual:()=>A,flip:()=>v,flow:()=>y,getBooleanAlgebra:()=>r,getEndomorphismMonoid:()=>T,getMonoid:()=>o,getRing:()=>a,getSemigroup:()=>i,getSemiring:()=>s,hole:()=>E,identity:()=>c,increment:()=>_,not:()=>O,pipe:()=>x,tuple:()=>b,tupled:()=>R,unsafeCoerce:()=>l,untupled:()=>I});var r=function(e){return function(){return{meet:function(t,n){return function(r){return e.meet(t(r),n(r))}},join:function(t,n){return function(r){return e.join(t(r),n(r))}},zero:function(){return e.zero},one:function(){return e.one},implies:function(t,n){return function(r){return e.implies(t(r),n(r))}},not:function(t){return function(n){return e.not(t(n))}}}}},i=function(e){return function(){return{concat:function(t,n){return function(r){return e.concat(t(r),n(r))}}}}},o=function(e){var t=i(e);return function(){return{concat:t().concat,empty:function(){return e.empty}}}},s=function(e){return{add:function(t,n){return function(r){return e.add(t(r),n(r))}},zero:function(){return e.zero},mul:function(t,n){return function(r){return e.mul(t(r),n(r))}},one:function(){return e.one}}},a=function(e){var t=s(e);return{add:t.add,mul:t.mul,one:t.one,zero:t.zero,sub:function(t,n){return function(r){return e.sub(t(r),n(r))}}}},u=function(e){return function(t){return t(e)}};function c(e){return e}var l=c;function d(e){return function(){return e}}var f=d(!0),p=d(!1),h=d(null),g=d(void 0),m=g;function v(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length>1?e(t[1],t[0]):function(n){return e(n)(t[0])}}}function y(e,t,n,r,i,o,s,a,u){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return i(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return o(i(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return s(o(i(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return a(s(o(i(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return u(a(s(o(i(r(n(t(e.apply(this,arguments)))))))))}}}function b(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function _(e){return e+1}function w(e){return e-1}function S(e){throw new Error("Called `absurd` function which should be uncallable")}function R(e){return function(t){return e.apply(void 0,t)}}function I(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)}}function x(e,t,n,r,i,o,s,a,u){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return o(i(r(n(t(e)))));case 7:return s(o(i(r(n(t(e))))));case 8:return a(s(o(i(r(n(t(e)))))));case 9:return u(a(s(o(i(r(n(t(e))))))));default:for(var c=arguments[0],l=1;l<arguments.length;l++)c=arguments[l](c);return c}}var E=S,C=function(e,t){return t};function O(e){return function(t){return!e(t)}}var T=function(){return{concat:function(e,t){return y(e,t)},empty:c}},A=function(e,t){var n="number"==typeof e?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return n(arguments)?t.apply(this,e):function(n){return t.apply(void 0,function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([n],e,!1))}}}},1112:(e,t,n)=>{"use strict";n.d(t,{Ap:()=>h,Av:()=>E,E4:()=>w,G6:()=>o,K6:()=>a,LO:()=>s,Mx:()=>m,UF:()=>y,Up:()=>C,YT:()=>S,_:()=>u,_h:()=>g,aY:()=>f,e6:()=>p,es:()=>x,gt:()=>c,iS:()=>I,iW:()=>i,kR:()=>l,my:()=>v,o5:()=>_,oN:()=>R,oV:()=>b,wz:()=>d});var r=n(6356),i=function(e){return"None"===e._tag},o=function(e){return"Some"===e._tag},s={_tag:"None"},a=function(e){return{_tag:"Some",value:e}},u=function(e){return"Left"===e._tag},c=function(e){return"Right"===e._tag},l=function(e){return{_tag:"Left",left:e}},d=function(e){return{_tag:"Right",right:e}},f=function(e){return[e]},p=function(e){return e.length>0},h=function(e){return e[0]},g=function(e){return e.slice(1)},m=[],v={},y=Object.prototype.hasOwnProperty,b=function(e){return function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e[0]],e.slice(1),!0)},_=function(e){return function(t,n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=t.apply(void 0,r);return e.fromEither(null==o?l(n.apply(void 0,r)):d(o))}}},w=function(e){return function(t,n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var s=t.apply(void 0,r);return e.fromEither(i(s)?l(n.apply(void 0,r)):d(s.value))}}},S=function(e,t){return(0,r.dual)(3,(function(n,r,i){return t.flatMap(n,_(e)(r,i))}))},R=function(e,t){return(0,r.dual)(3,(function(n,r,i){return t.flatMap(n,w(e)(r,i))}))},I=function(e,t){return(0,r.dual)(2,(function(n,r){return t.flatMap(n,(function(t){return e.fromEither(r(t))}))}))},x=function(e,t){return(0,r.dual)(2,(function(n,r){return t.flatMap(n,(function(t){return e.fromIO(r(t))}))}))},E=function(e,t){return(0,r.dual)(2,(function(n,r){return t.flatMap(n,(function(t){return e.fromTask(r(t))}))}))},C=function(e,t){return(0,r.dual)(2,(function(n,r){return t.flatMap(n,(function(t){return e.fromReader(r(t))}))}))}},4664:(e,t,n)=>{"use strict";n.d(t,{ey:()=>s});var r=n(1736),i=n(7176);function o(e){return void 0!==e.message?e.message:"Invalid value ".concat((t=e.value,"function"==typeof t?(0,i.kJ)(t):"number"!=typeof t||isFinite(t)?JSON.stringify(t):isNaN(t)?"NaN":t>0?"Infinity":"-Infinity")," supplied to ").concat(e.context.map((function(e){var t=e.key,n=e.type;return"".concat(t,": ").concat(n.name)})).join("/"));var t}function s(e){return e.map(o)}(0,r.fold)(s,(function(){return["No errors!"]}))},7176:(e,t,n)=>{"use strict";n.d(t,{CQ:()=>L,IB:()=>te,Kw:()=>re,M$:()=>Y,M1:()=>k,OI:()=>U,Qb:()=>j,SQ:()=>oe,WR:()=>ue,cT:()=>N,kJ:()=>p,ol:()=>H,ot:()=>P,q:()=>G,s$:()=>X,uA:()=>D});var r,i=n(1736),o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},a=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},u=i.left,c=function(e,t,n){return u([{value:e,context:t,message:n}])},l=i.right,d=function(){function e(e,t,n,r){this.name=e,this.is=t,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(t,n){var r=this;return void 0===n&&(n="pipe(".concat(this.name,", ").concat(t.name,")")),new e(n,t.is,(function(e,n){var o=r.validate(e,n);return(0,i.isLeft)(o)?o:t.validate(o.right,n)}),this.encode===f&&t.encode===f?f:function(e){return r.encode(t.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}(),f=function(e){return e};function p(e){return e.displayName||e.name||"<function".concat(e.length,">")}function h(e,t,n,r){for(var i=e.length,o=Array(i+1),s=0;s<i;s++)o[s]=e[s];return o[i]={key:t,type:n,actual:r},o}function g(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r])}var m=Object.prototype.hasOwnProperty;function v(e){return Object.keys(e).map((function(t){return"".concat(t,": ").concat(e[t].name)})).join(", ")}function y(e){for(var t=0;t<e.length;t++)if(e[t].encode!==f)return!1;return!0}function b(e){return"{ ".concat(v(e)," }")}function _(e){return"Partial<".concat(e,">")}function w(e){var t;if(T(e)){var n=e.value;if(j.is(n))return(t={})[n]=null,t}else{if("KeyofType"===e._tag)return e.keys;if(W(e)){var r=e.types.map((function(e){return w(e)}));return r.some($.is)?void 0:Object.assign.apply(Object,a([{}],r,!1))}}}function S(e,t){for(var n=Object.keys(e),r=n.length,i=!1,o={},s=0;s<r;s++){var a=n[s];t.is(a)?o[a]=e[a]:i=!0}return i?o:e}function R(e,t){for(var n=!0,r=!0,i=!B.is(e),o=0,s=t;o<s.length;o++)(l=s[o])!==e&&(n=!1),B.is(l)&&(r=!1);if(n)return e;if(r)return t[t.length-1];for(var a={},u=0,c=t;u<c.length;u++){var l=c[u];for(var d in l)m.call(a,d)&&!i&&l[d]===e[d]||(a[d]=l[d])}return a}function I(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return I(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,I(t))}),{})}}function x(e,t){for(var n=Object.getOwnPropertyNames(e),r=!1,i={},o=0;o<n.length;o++){var s=n[o];m.call(t,s)?i[s]=e[s]:r=!0}return r?i:e}var E={};function C(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];-1!==t.indexOf(o)&&n.push(o)}return n}function O(e){return"AnyType"===e._tag}function T(e){return"LiteralType"===e._tag}function A(e){return"InterfaceType"===e._tag}function W(e){return"UnionType"===e._tag}var Q=[];function M(e){if(-1!==Q.indexOf(e))return E;if(A(e)||function(e){return"StrictType"===e._tag}(e)){var t=E;for(var n in e.props){var r=e.props[n];T(r)&&(t===E&&(t={}),t[n]=[r.value])}return t}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return M(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,t){return function(e,t){if(e===E)return t;if(t===E)return e;var n=Object.assign({},e);for(var r in t)if(m.call(e,r)){var i=C(e[r],t[r]);if(!(i.length>0)){n=E;break}n[r]=i}else n[r]=t[r];return n}(e,M(t))}),E);if(W(e))return e.types.slice(1).reduce((function(e,t){return function(e,t){if(e===E||t===E)return E;var n=E;for(var r in e)m.call(t,r)&&0===C(e[r],t[r]).length&&(n===E&&(n={}),n[r]=e[r].concat(t[r]));return n}(e,M(t))}),M(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){Q.push(e);var i=M(e.type);return Q.pop(),i}return E}var k=new(function(e){function t(){var t=e.call(this,"null",(function(e){return null===e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),f)||this;return t._tag="NullType",t}return o(t,e),t}(d)),$=new(function(e){function t(){var t=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),f)||this;return t._tag="UndefinedType",t}return o(t,e),t}(d)),P=new(function(e){function t(){var t=e.call(this,"void",$.is,$.validate,f)||this;return t._tag="VoidType",t}return o(t,e),t}(d)),U=new(function(e){function t(){var t=e.call(this,"unknown",(function(e){return!0}),l,f)||this;return t._tag="UnknownType",t}return o(t,e),t}(d)),j=new(function(e){function t(){var t=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),f)||this;return t._tag="StringType",t}return o(t,e),t}(d)),L=new(function(e){function t(){var t=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),f)||this;return t._tag="NumberType",t}return o(t,e),t}(d)),N=(new(function(e){function t(){var t=e.call(this,"bigint",(function(e){return"bigint"==typeof e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),f)||this;return t._tag="BigIntType",t}return o(t,e),t}(d)),new(function(e){function t(){var t=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),f)||this;return t._tag="BooleanType",t}return o(t,e),t}(d))),q=new(function(e){function t(){var t=e.call(this,"UnknownArray",Array.isArray,(function(e,n){return t.is(e)?l(e):c(e,n)}),f)||this;return t._tag="AnyArrayType",t}return o(t,e),t}(d)),B=new(function(e){function t(){var t=e.call(this,"UnknownRecord",(function(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}),(function(e,n){return t.is(e)?l(e):c(e,n)}),f)||this;return t._tag="AnyDictionaryType",t}return o(t,e),t}(d)),F=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.value=o,s._tag="LiteralType",s}return o(t,e),t}(d);function D(e,t){void 0===t&&(t=JSON.stringify(e));var n=function(t){return t===e};return new F(t,n,(function(t,r){return n(t)?l(e):c(t,r)}),f,e)}var z=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.keys=o,s._tag="KeyofType",s}return o(t,e),t}(d);function H(e,t){void 0===t&&(t=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var n=function(t){return j.is(t)&&m.call(e,t)};return new z(t,n,(function(e,t){return n(e)?l(e):c(e,t)}),f,e)}var K=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t,n,r,i)||this;return a.type=o,a.predicate=s,a._tag="RefinementType",a}return o(t,e),t}(d),G=de(L,(function(e){return Number.isInteger(e)}),"Int"),J=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.runDefinition=o,s._tag="RecursiveType",s}return o(t,e),t}(d);Object.defineProperty(J.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0});var V=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.type=o,s._tag="ArrayType",s}return o(t,e),t}(d);function Y(e,t){return void 0===t&&(t="Array<".concat(e.name,">")),new V(t,(function(t){return q.is(t)&&t.every(e.is)}),(function(t,n){var r=q.validate(t,n);if((0,i.isLeft)(r))return r;for(var o=r.right,s=o.length,a=o,c=[],d=0;d<s;d++){var f=o[d],p=e.validate(f,h(n,String(d),e,f));if((0,i.isLeft)(p))g(c,p.left);else{var m=p.right;m!==f&&(a===o&&(a=o.slice()),a[d]=m)}}return c.length>0?u(c):l(a)}),e.encode===f?f:function(t){return t.map(e.encode)},e)}var Z=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.props=o,s._tag="InterfaceType",s}return o(t,e),t}(d);function X(e,t){void 0===t&&(t=b(e));var n=Object.keys(e),r=n.map((function(t){return e[t]})),o=n.length;return new Z(t,(function(e){if(B.is(e)){for(var t=0;t<o;t++){var i=n[t],s=e[i];if(void 0===s&&!m.call(e,i)||!r[t].is(s))return!1}return!0}return!1}),(function(e,t){var a=B.validate(e,t);if((0,i.isLeft)(a))return a;for(var c=a.right,d=c,f=[],p=0;p<o;p++){var v=n[p],y=d[v],b=r[p],_=b.validate(y,h(t,v,b,y));if((0,i.isLeft)(_))g(f,_.left);else{var w=_.right;(w!==y||void 0===w&&!m.call(d,v))&&(d===c&&(d=s({},c)),d[v]=w)}}return f.length>0?u(f):l(d)}),y(r)?f:function(e){for(var t=s({},e),i=0;i<o;i++){var a=n[i],u=r[i].encode;u!==f&&(t[a]=u(e[a]))}return t},e)}var ee=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.props=o,s._tag="PartialType",s}return o(t,e),t}(d);function te(e,t){void 0===t&&(t=_(b(e)));var n=Object.keys(e),r=n.map((function(t){return e[t]})),o=n.length;return new ee(t,(function(t){if(B.is(t)){for(var r=0;r<o;r++){var i=n[r],s=t[i];if(void 0!==s&&!e[i].is(s))return!1}return!0}return!1}),(function(t,r){var a=B.validate(t,r);if((0,i.isLeft)(a))return a;for(var c=a.right,d=c,f=[],p=0;p<o;p++){var m=n[p],v=d[m],y=e[m],b=y.validate(v,h(r,m,y,v));if((0,i.isLeft)(b))void 0!==v&&g(f,b.left);else{var _=b.right;_!==v&&(d===c&&(d=s({},c)),d[m]=_)}}return f.length>0?u(f):l(d)}),y(r)?f:function(e){for(var t=s({},e),i=0;i<o;i++){var a=n[i],u=e[a];void 0!==u&&(t[a]=r[i].encode(u))}return t},e)}var ne=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t,n,r,i)||this;return a.domain=o,a.codomain=s,a._tag="DictionaryType",a}return o(t,e),t}(d);function re(e,t,n){var r=w(e);return r?function(e,t,n,r){void 0===r&&(r="{ [K in ".concat(t.name,"]: ").concat(n.name," }"));for(var i=e.length,o={},s=0;s<i;s++)o[e[s]]=n;var a=ce(o,r);return new ne(r,(function(e){return a.is(e)}),a.validate,a.encode,t,n)}(Object.keys(r),e,t,n):function(e,t,n){return void 0===n&&(n="{ [K in ".concat(e.name,"]: ").concat(t.name," }")),new ne(n,(function(n){return B.is(n)?Object.keys(n).every((function(r){return!e.is(r)||t.is(n[r])})):O(t)&&Array.isArray(n)}),(function(n,r){if(B.is(n)){for(var o={},s=[],a=Object.keys(n),d=a.length,f=!1,p=0;p<d;p++){var m=a[p],v=n[m],y=e.validate(m,h(r,m,e,m));if((0,i.isLeft)(y))f=!0;else{var b=y.right;f=f||b!==m,m=b;var _=t.validate(v,h(r,m,t,v));if((0,i.isLeft)(_))g(s,_.left);else{var w=_.right;f=f||w!==v,o[m]=w}}}return s.length>0?u(s):l(f?o:n)}return O(t)&&Array.isArray(n)?l(n):c(n,r)}),e.encode===f&&t.encode===f?function(t){return S(t,e)}:function(n){for(var r={},i=Object.keys(S(n,e)),o=i.length,s=0;s<o;s++){var a=i[s];r[String(e.encode(a))]=t.encode(n[a])}return r},e,t)}(e,t,n)}var ie=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.types=o,s._tag="UnionType",s}return o(t,e),t}(d);function oe(e,t){void 0===t&&(t=function(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"}(e));var n=function(e){for(var t=M(e[0]),n=Object.keys(t),r=e.length,i=function(n){for(var i=t[n].slice(),o=[t[n]],s=1;s<r;s++){var a=M(e[s])[n];if(void 0===a)return"continue-keys";if(a.some((function(e){return-1!==i.indexOf(e)})))return"continue-keys";i.push.apply(i,a),o.push(a)}return{value:[n,o]}},o=0,s=n;o<s.length;o++){var a=i(s[o]);if("object"==typeof a)return a.value}}(e);if(void 0!==n&&e.length>0){var r=n[0],o=n[1],s=o.length,a=function(e){for(var t=0;t<s;t++)if(-1!==o[t].indexOf(e))return t};return new fe(t,(function(t){if(B.is(t)){var n=a(t[r]);return void 0!==n&&e[n].is(t)}return!1}),(function(t,n){var o=B.validate(t,n);if((0,i.isLeft)(o))return o;var s=o.right,u=a(s[r]);if(void 0===u)return c(t,n);var l=e[u];return l.validate(s,h(n,String(u),l,s))}),y(e)?f:function(n){var i=a(n[r]);if(void 0===i)throw new Error("no codec found to encode value in union codec ".concat(t));return e[i].encode(n)},e,r)}return new ie(t,(function(t){return e.some((function(e){return e.is(t)}))}),(function(t,n){for(var r=[],o=0;o<e.length;o++){var s=e[o],a=s.validate(t,h(n,String(o),s,t));if(!(0,i.isLeft)(a))return l(a.right);g(r,a.left)}return u(r)}),y(e)?f:function(n){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.is(n))return o.encode(n)}throw new Error("no codec found to encode value in union type ".concat(t))},e)}var se,ae=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.types=o,s._tag="IntersectionType",s}return o(t,e),t}(d);function ue(e,t){void 0===t&&(t="(".concat(e.map((function(e){return e.name})).join(" & "),")"));var n=e.length;return new ae(t,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?l:function(t,r){for(var o=[],s=[],a=0;a<n;a++){var c=e[a],d=c.validate(t,h(r,String(a),c,t));(0,i.isLeft)(d)?g(s,d.left):o.push(d.right)}return s.length>0?u(s):l(R(t,o))},0===e.length?f:function(t){return R(t,e.map((function(e){return e.encode(t)})))},e)}o((function(e,t,n,r,i){var o=se.call(this,e,t,n,r)||this;return o.types=i,o._tag="TupleType",o}),se=d),function(e){o((function(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.type=o,s._tag="ReadonlyType",s}),e)}(d),function(e){o((function(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.type=o,s._tag="ReadonlyArrayType",s}),e)}(d);var ce=function(e,t){return function(e,t){void 0===t&&(t=function(e){return A(e)?"{| ".concat(v(e.props)," |}"):function(e){return"PartialType"===e._tag}(e)?_("{| ".concat(v(e.props)," |}")):"Exact<".concat(e.name,">")}(e));var n=I(e);return new le(t,e.is,(function(t,r){var o=B.validate(t,r);if((0,i.isLeft)(o))return o;var s=e.validate(t,r);return(0,i.isLeft)(s)?s:(0,i.right)(x(s.right,n))}),(function(t){return e.encode(x(t,n))}),e)}(X(e),t)},le=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.type=o,s._tag="ExactType",s}return o(t,e),t}(d);function de(e,t,n){return void 0===n&&(n="(".concat(e.name," | ").concat(p(t),")")),new K(n,(function(n){return e.is(n)&&t(n)}),(function(n,r){var o=e.validate(n,r);if((0,i.isLeft)(o))return o;var s=o.right;return t(s)?l(s):c(s,r)}),e.encode,e,t)}new(function(e){function t(){var t=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),f)||this;return t._tag="FunctionType",t}return o(t,e),t}(d)),new(function(e){function t(){var t=e.call(this,"never",(function(e){return!1}),(function(e,t){return c(e,t)}),(function(){throw new Error("cannot encode never")}))||this;return t._tag="NeverType",t}return o(t,e),t}(d)),new(function(e){function t(){var t=e.call(this,"any",(function(e){return!0}),l,f)||this;return t._tag="AnyType",t}return o(t,e),t}(d)),de(L,Number.isInteger,"Integer");var fe=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t,n,r,i,o)||this;return a.tag=s,a}return o(t,e),t}(ie);new(function(e){function t(){var t=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,n){return t.is(e)?l(e):c(e,n)}),f)||this;return t._tag="ObjectType",t}return o(t,e),t}(d)),function(e){o((function(t,n,r,i,o){var s=e.call(this,t,n,r,i)||this;return s.props=o,s._tag="StrictType",s}),e)}(d)},6032:(e,t,n)=>{var r=n(7892)(n(7188),"DataView");e.exports=r},1276:(e,t,n)=>{var r=n(4212),i=n(2688),o=n(3916),s=n(6952),a=n(1016);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},3040:(e,t,n)=>{var r=n(5968),i=n(3740),o=n(4996),s=n(2600),a=n(7336);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},420:(e,t,n)=>{var r=n(7892)(n(7188),"Map");e.exports=r},1476:(e,t,n)=>{var r=n(8720),i=n(4760),o=n(88),s=n(7395),a=n(8619);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=s,u.prototype.set=a,e.exports=u},404:(e,t,n)=>{var r=n(7892)(n(7188),"Promise");e.exports=r},6920:(e,t,n)=>{var r=n(7892)(n(7188),"Set");e.exports=r},6152:(e,t,n)=>{var r=n(1476),i=n(1896),o=n(3504);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},520:(e,t,n)=>{var r=n(3040),i=n(5643),o=n(3368),s=n(636),a=n(3012),u=n(3388);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=u,e.exports=c},7128:(e,t,n)=>{var r=n(7188).Symbol;e.exports=r},9704:(e,t,n)=>{var r=n(7188).Uint8Array;e.exports=r},5200:(e,t,n)=>{var r=n(7892)(n(7188),"WeakMap");e.exports=r},8640:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},7640:(e,t,n)=>{var r=n(736),i=n(348),o=n(108),s=n(7684),a=n(1188),u=n(6700),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),d=!n&&!l&&s(e),f=!n&&!l&&!d&&u(e),p=n||l||d||f,h=p?r(e.length,String):[],g=h.length;for(var m in e)!t&&!c.call(e,m)||p&&("length"==m||d&&("offset"==m||"parent"==m)||f&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||h.push(m);return h}},1168:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},5600:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},6600:(e,t,n)=>{var r=n(864);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},4668:(e,t,n)=>{var r=n(1168),i=n(108);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},6944:(e,t,n)=>{var r=n(7128),i=n(5664),o=n(3168),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},3432:(e,t,n)=>{var r=n(6944),i=n(2892);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},9184:(e,t,n)=>{var r=n(4840),i=n(2892);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,s,e,a))}},4840:(e,t,n)=>{var r=n(520),i=n(4360),o=n(2352),s=n(6228),a=n(3871),u=n(108),c=n(7684),l=n(6700),d="[object Arguments]",f="[object Array]",p="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,v){var y=u(e),b=u(t),_=y?f:a(e),w=b?f:a(t),S=(_=_==d?p:_)==p,R=(w=w==d?p:w)==p,I=_==w;if(I&&c(e)){if(!c(t))return!1;y=!0,S=!1}if(I&&!S)return v||(v=new r),y||l(e)?i(e,t,n,g,m,v):o(e,t,_,n,g,m,v);if(!(1&n)){var x=S&&h.call(e,"__wrapped__"),E=R&&h.call(t,"__wrapped__");if(x||E){var C=x?e.value():e,O=E?t.value():t;return v||(v=new r),m(C,O,n,g,v)}}return!!I&&(v||(v=new r),s(e,t,n,g,m,v))}},7200:(e,t,n)=>{var r=n(7920),i=n(6084),o=n(8940),s=n(7456),a=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,d=c.hasOwnProperty,f=RegExp("^"+l.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?f:a).test(s(e))}},7160:(e,t,n)=>{var r=n(6944),i=n(9024),o=n(2892),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},5552:(e,t,n)=>{var r=n(1004),i=n(3320),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},736:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},9165:e=>{e.exports=function(e){return function(t){return e(t)}}},968:e=>{e.exports=function(e,t){return e.has(t)}},5280:(e,t,n)=>{var r=n(7188)["__core-js_shared__"];e.exports=r},4360:(e,t,n)=>{var r=n(6152),i=n(5600),o=n(968);e.exports=function(e,t,n,s,a,u){var c=1&n,l=e.length,d=t.length;if(l!=d&&!(c&&d>l))return!1;var f=u.get(e),p=u.get(t);if(f&&p)return f==t&&p==e;var h=-1,g=!0,m=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++h<l;){var v=e[h],y=t[h];if(s)var b=c?s(y,v,h,t,e,u):s(v,y,h,e,t,u);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(v===e||a(v,e,n,s,u)))return m.push(t)}))){g=!1;break}}else if(v!==y&&!a(v,y,n,s,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},2352:(e,t,n)=>{var r=n(7128),i=n(9704),o=n(864),s=n(4360),a=n(3152),u=n(2060),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=a;case"[object Set]":var h=1&r;if(p||(p=u),e.size!=t.size&&!h)return!1;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var m=s(p(e),p(t),r,c,d,f);return f.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},6228:(e,t,n)=>{var r=n(8715),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var d=l;d--;){var f=c[d];if(!(u?f in t:i.call(t,f)))return!1}var p=a.get(e),h=a.get(t);if(p&&h)return p==t&&h==e;var g=!0;a.set(e,t),a.set(t,e);for(var m=u;++d<l;){var v=e[f=c[d]],y=t[f];if(o)var b=u?o(y,v,f,t,e,a):o(v,y,f,e,t,a);if(!(void 0===b?v===y||s(v,y,n,o,a):b)){g=!1;break}m||(m="constructor"==f)}if(g&&!m){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(g=!1)}return a.delete(e),a.delete(t),g}},4848:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8715:(e,t,n)=>{var r=n(4668),i=n(3520),o=n(9132);e.exports=function(e){return r(e,o,i)}},6068:(e,t,n)=>{var r=n(3715);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},7892:(e,t,n)=>{var r=n(7200),i=n(5692);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},5664:(e,t,n)=>{var r=n(7128),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},3520:(e,t,n)=>{var r=n(8640),i=n(872),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=a},3871:(e,t,n)=>{var r=n(6032),i=n(420),o=n(404),s=n(6920),a=n(5200),u=n(6944),c=n(7456),l="[object Map]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",h="[object DataView]",g=c(r),m=c(i),v=c(o),y=c(s),b=c(a),_=u;(r&&_(new r(new ArrayBuffer(1)))!=h||i&&_(new i)!=l||o&&_(o.resolve())!=d||s&&_(new s)!=f||a&&_(new a)!=p)&&(_=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return h;case m:return l;case v:return d;case y:return f;case b:return p}return t}),e.exports=_},5692:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4212:(e,t,n)=>{var r=n(840);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2688:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},3916:(e,t,n)=>{var r=n(840),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},6952:(e,t,n)=>{var r=n(840),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},1016:(e,t,n)=>{var r=n(840);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},1188:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3715:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},6084:(e,t,n)=>{var r,i=n(5280),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},1004:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5968:e=>{e.exports=function(){this.__data__=[],this.size=0}},3740:(e,t,n)=>{var r=n(6600),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},4996:(e,t,n)=>{var r=n(6600);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},2600:(e,t,n)=>{var r=n(6600);e.exports=function(e){return r(this.__data__,e)>-1}},7336:(e,t,n)=>{var r=n(6600);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},8720:(e,t,n)=>{var r=n(1276),i=n(3040),o=n(420);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},4760:(e,t,n)=>{var r=n(6068);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},88:(e,t,n)=>{var r=n(6068);e.exports=function(e){return r(this,e).get(e)}},7395:(e,t,n)=>{var r=n(6068);e.exports=function(e){return r(this,e).has(e)}},8619:(e,t,n)=>{var r=n(6068);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},3152:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},840:(e,t,n)=>{var r=n(7892)(Object,"create");e.exports=r},3320:(e,t,n)=>{var r=n(1304)(Object.keys,Object);e.exports=r},9180:(e,t,n)=>{e=n.nmd(e);var r=n(4848),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{return o&&o.require&&o.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},3168:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},1304:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},7188:(e,t,n)=>{var r=n(4848),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},1896:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},3504:e=>{e.exports=function(e){return this.__data__.has(e)}},2060:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},5643:(e,t,n)=>{var r=n(3040);e.exports=function(){this.__data__=new r,this.size=0}},3368:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},636:e=>{e.exports=function(e){return this.__data__.get(e)}},3012:e=>{e.exports=function(e){return this.__data__.has(e)}},3388:(e,t,n)=>{var r=n(3040),i=n(420),o=n(1476);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},7456:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},864:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},348:(e,t,n)=>{var r=n(3432),i=n(2892),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},108:e=>{var t=Array.isArray;e.exports=t},4900:(e,t,n)=>{var r=n(7920),i=n(9024);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},7684:(e,t,n)=>{e=n.nmd(e);var r=n(7188),i=n(6448),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,u=(a?a.isBuffer:void 0)||i;e.exports=u},948:(e,t,n)=>{var r=n(9184);e.exports=function(e,t){return r(e,t)}},7920:(e,t,n)=>{var r=n(6944),i=n(8940);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},9024:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8940:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},2892:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},6700:(e,t,n)=>{var r=n(7160),i=n(9165),o=n(9180),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},9132:(e,t,n)=>{var r=n(7640),i=n(5552),o=n(4900);e.exports=function(e){return o(e)?r(e):i(e)}},872:e=>{e.exports=function(){return[]}},6448:e=>{e.exports=function(){return!1}},2550:(e,t,n)=>{"use strict";n.d(t,{c:()=>u});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const o=new Uint8Array(16);function s(){if(!i&&(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)}const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));const u=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();const i=(e=e||{}).random||(e.rng||s)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=i[e];return t}return function(e,t=0){return a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]}(i)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{if(void 0!==n){var e=n.u,t=n.e,r={},i={};n.u=function(t){return e(t)+(r.hasOwnProperty(t)?"?"+r[t]:"")},n.e=function(o){return t(o).catch((function(t){var s=i.hasOwnProperty(o)?i[o]:3;if(s<1){var a=e(o);throw t.message="Loading chunk "+o+" failed after 3 retries.\n("+a+")",t.request=a,t}return new Promise((function(e){var t=3-s+1;setTimeout((function(){var a="cache-bust=true&retry-attempt="+t;r[o]=a,i[o]=s-1,e(n.e(o))}),0)}))}))}}})(),(()=>{"use strict";var e=n(500),t=n(5500),r=n(7256);function i(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o{constructor(t,n,o){this.source=t,this.target=n,this.targetOrigin=o,i(this,"emitter",void 0),i(this,"targetWindow",void 0),window.addEventListener("message",this.handleMessage.bind(this)),this.emitter=new r.m({loggerName:`${n.toUpperCase()} -> ${t.toUpperCase()} event emitter`,logToConsole:(0,e.sP)()}),this.send=this.send.bind(this),this.addListener=this.addListener.bind(this),this.removeListener=this.removeListener.bind(this)}setTargetWindow(e){this.targetWindow=e}send(e,n=void 0){(0,t.G)(this.targetWindow,{customMessage:`Target window is not set on Channel (source ${this.source}, target ${this.target})`});const r={type:"dixa-messenger-protocol-message",sender:this.source,receiver:this.target,content:{type:e,payload:n}};this.targetWindow.postMessage(r,this.targetOrigin)}addListener(e,t){this.emitter.addListeners(e,t)}removeListener(e,t){this.emitter.removeListeners(e,t)}handleMessage(e){const t=e.data;if(function(e){return"object"==typeof e&&"type"in e&&"dixa-messenger-protocol-message"===e.type&&"sender"in e&&"receiver"in e&&"content"in e}(t)&&t.receiver===this.source&&t.sender===this.target&&this.isValidOrigin(e.origin)){const{type:e,payload:n}=t.content;this.emitter.emit(e,n)}}isValidOrigin(e){return"*"===this.targetOrigin||e===this.targetOrigin}}class s extends o{constructor(e){super("shim","widget",e)}}class a extends o{constructor(e){super("shim","toggler",e)}}const u={"on-widget-open-changed":!0,"on-conversation-started":!0,"on-conversation-ended":!0,"on-message-added":!0,"on-view-changed":!0,"on-user-identity-changed":!0,"on-agent-assigned":!0,"on-agent-unassigned":!0,"on-user-purged":!0,"on-widget-focus-changed":!0,"on-shutdown-completed":!0,"on-user-banned":!0,"on-user-unbanned":!0,"on-backend-error":!0};function c(e){return"string"!=typeof e?(console.error(`Argument "event" must be of type string, but received: ${e}`),!1):!!u[e]||(console.error(`The "${e}" event does not exists`),!1)}function l(e){return"function"==typeof e||(console.error("event listener has to be a function but instead received: ",e),!1)}var d=n(1736),f=n(7176),p=n(4664);const h=f.s$({type:f.uA("anonymous")}),g=f.s$({type:f.uA("claim"),name:f.Qb,email:f.Qb}),m=f.s$({type:f.uA("jwe"),token:f.Qb}),v=f.s$({type:f.uA("verified"),payload:m}),y=f.SQ([h,g,v]),b=f.SQ([f.uA("bottomLeft"),f.uA("bottomRight")]),_=f.WR([f.s$({position:f.SQ([f.uA("bottomLeft"),f.uA("bottomRight")])}),f.IB({verticalPadding:f.CQ,horizontalPadding:f.CQ})]),w=f.SQ([b,_]),S=f.WR([f.s$({messengerToken:f.Qb}),f.IB({hideToggler:f.cT,showWidgetCloseButton:f.cT,userIdentity:y,language:f.Qb,position:b,verticalPadding:f.CQ,horizontalPadding:f.CQ,disableSentryIntegration:f.cT,nonce:f.Qb})]),R=f.SQ([f.ot,f.s$({conversationId:f.Qb})]),I=f.s$({view:f.uA("knowledgeBaseHome")}),x=f.s$({view:f.uA("bulletin"),params:f.s$({bulletinId:f.Qb})}),E=f.s$({view:f.uA("mainView")}),C=f.s$({view:f.uA("previousConversations")}),O=f.s$({view:f.uA("newConversation")}),T=f.WR([f.s$({view:f.uA("conversation")}),f.IB({params:f.s$({conversationId:f.Qb})})]),A=f.s$({view:f.uA("knowledgeBaseArticle"),params:f.s$({articleId:f.Qb})}),W=f.SQ([A,I,T,x,E,C]),Q=(f.SQ([W,O]),{init:!0,shutdown:!0,setWidgetOpen:!0,purgeUserIdentity:!0,setPosition:!0,setView:!0,startConversation:!0,endConversation:!0,setUserIdentity:!0}),M={init:S,shutdown:f.ot,setWidgetOpen:f.cT,purgeUserIdentity:f.ot,setPosition:w,setView:W,startConversation:f.ot,endConversation:R,setUserIdentity:y};var k=n(948),$=n.n(k);class P{constructor(){var e,t,n,r;e=this,n=[],(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t="commands"))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}getAllCommands(){return this.commands}add(e,t){!1===this.commandAlreadyDeferred(e,t)&&this.commands.push({method:e,payload:t})}commandAlreadyDeferred(e,t){return this.commands.some((n=>n.method===e&&$()(n.payload,t)))}}class U{constructor(e){this.logger=e,this.logInfo("constructor")}init(e){this.log("init",e)}shutdown(){this.log("shutdown")}setWidgetOpen(e){this.log("setWidgetOpen",e)}purgeUserIdentity(){this.log("purgeUserIdentity")}setPosition(e){this.log("setPosition",e)}setView(e){this.log("setView",e)}startConversation(){this.log("startConversation")}endConversation(e){this.log("endConversation",e)}setUserIdentity(e){this.log("setUserIdentity",e)}log(e,t){const n=`[${this.constructor.name}].${e} is a noop for this state.`;t?this.logger.warn(`${n} Received payload:`,t):this.logger.warn(n)}logInfo(e,...t){this.logger.info(`[${this.constructor.name}].${e}`,...t)}}const j="dixa-messenger",L={localStorageKeys:{sessionToken:`${j}-session-token`,userIdentity:`${j}-user-identity`}};function N(e,t){t.send("purge-user-identity"),e.removeItem(L.localStorageKeys.userIdentity),e.removeItem(L.localStorageKeys.sessionToken)}var q=n(8716),B=n(6476);const F={widget:{defaultVerticalPadding:30,defaultHorizontalPadding:30,width:"375px",minHeight:"400px",maxHeight:"620px",height:"70vh",animationSpeed:".25s",iframeTitle:"Dixa Messenger Widget",smallScreenMediaQuery:"screen and (max-width: 480px) and (orientation: portrait), screen and (max-height: 480px) and (orientation: landscape)"},toggler:{defaultHorizontalPadding:30,defaultVerticalPadding:30,size:64,iframeTitle:"Dixa Messenger Toggler button"},messengerWrappers:{namespaceClass:"dixa-messenger-namespace",wrapperClass:"dixa-messenger-wrapper",isOpenClass:"dixa-messenger-is-open"}};class D{static getWrapperId(e,t){return`dixa-messenger-${e}-wrapper-${t}`}static getIframeId(e,t){return`dixa-messenger-${e}-iframe-${t}`}constructor(e){this.params=e}build(){const{src:e,type:t,messengerToken:n}=this.params,r=this.createIframeElement(t,n,e);return{wrapper:this.createWrapper(r),iframe:r}}createIframeElement(e,t,n){const r=document.createElement("iframe");return r.id=D.getIframeId(e,t),r.src=n,r.title="toggler"===e?F.toggler.iframeTitle:F.widget.iframeTitle,r.frameBorder="0",r.scrolling="no",r}createWrapper(e){const{type:t,messengerToken:n,hidden:r}=this.params,i=document.createElement("div");return i.className=F.messengerWrappers.wrapperClass,i.id=D.getWrapperId(t,n),i.appendChild(e),r&&(i.style.display="none"),i}}const z=JSON.parse('{"color":{"purple":{"100":"#f0f0ff","200":"#ddd8fd","300":"#c1b9f8","400":"#8f82ed","500":"#5644d8","600":"#392aa7","700":"#281c82","800":"#140561","900":"#0c0146"},"green":{"100":"#dffbe9","200":"#c6f5d6","300":"#9febb9","400":"#6ad495","500":"#33b967","600":"#23924e","700":"#196c39","800":"#195239","900":"#164832"},"blue":{"100":"#e7f5fe","200":"#a8d9fc","300":"#69bbf6","400":"#36a1ec","500":"#0078cc","600":"#0067ad","700":"#005893","800":"#00487a","900":"#003d66"},"orange":{"100":"#ffeedd","200":"#ffdcaf","300":"#ffbd6e","400":"#ff9e37","500":"#fc800d","600":"#e56500","700":"#ca4f00","800":"#a93900","900":"#872600"},"red":{"100":"#fff2f2","200":"#f5cccb","300":"#eaa8a6","400":"#db6a68","500":"#c83c3c","600":"#c11d1d","700":"#b30908","800":"#9e0302","900":"#870000"},"neutral":{"100":"#f5f7fa","200":"#e7ecf3","300":"#d7dfea","400":"#b5c1d4","500":"#8193b0","600":"#617598","700":"#45587c","800":"#263758","900":"#132243","000":"#ffffff"}},"typography":{"weight":{"semibold":"600","normal":"400"},"line-height":{"100":"12px","200":"16px","300":"20px","400":"24px"},"color":{"primary":"#132244","secondary":"#46597C","tertiary":"#8294B0","success":"#23924E","error":"#C11D1D","warning":"#E56500","link":"#0079CC"},"size":{"100":"10px","200":"12px","300":"14px","400":"16px","500":"18px","600":"24px"},"letter-spacing":{"100":"-0.32px","200":"-0.24px","300":"-0.16px","400":"-0.08px","500":"0px","600":"0.08px","700":"0.16px","800":"0.24px","900":"0.32px"},"family":{"default":"Open Sans, Arial, sans-serif","code":"Courier, Consolas, Monaco, Lucida Console, Liberation Mono"}}}'),{color:H,typography:K}=z,G={};Object.entries(H).forEach((([e,t])=>{Object.entries(t).forEach((([t,n])=>{G[`${e}${t}`]=n}))}));const J={system:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"'},V={colors:{primaryBackground:"#0A0A0A",primary:"#FFFFFF",focus:"#5644D8",...Object.entries(K.color).reduce(((e,[t,n])=>{var r;return e[`text${r=t,r?r.charAt(0).toUpperCase()+r.substring(1,r.length).toLowerCase():""}`]=n,e}),{}),...G},gradients:{mainGradient:"linear-gradient(129.4deg, rgba(74, 161, 173, 0.94) 0%, rgba(0, 64, 106, 0.94) 72.48%)",primaryHoverGradient:"linear-gradient(0deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.08))"},space:{50:"4px",100:"8px",200:"12px",300:"16px",400:"20px",500:"24px",600:"32px",700:"40px",800:"48px",900:"56px"},radii:{50:"2px",100:"4px",200:"6px",300:"8px",400:"10px",500:"12px",600:"16px",700:"20px",800:"24px",900:"28px"},fonts:J,textStyles:{headingH1:{font:J.system,weight:400,size:"80px",lineHeight:"125%",letterSpacing:"-0.02em"},headingH1Bold:{font:J.system,weight:600,size:"80px",lineHeight:"125%",letterSpacing:"-0.02em"},headingH2:{font:J.system,weight:400,size:"64px",lineHeight:"125%",letterSpacing:"-0.02em"},headingH2Bold:{font:J.system,weight:600,size:"64px",lineHeight:"125%",letterSpacing:"-0.02em"},headingH3:{font:J.system,weight:400,size:"48px",lineHeight:"125%",letterSpacing:"-0.02em"},headingH3Bold:{font:J.system,weight:600,size:"48px",lineHeight:"125%",letterSpacing:"-0.01em"},headingH4:{font:J.system,weight:400,size:"32px",lineHeight:"132%",letterSpacing:"-0.01em"},headingH4Bold:{font:J.system,weight:600,size:"32px",lineHeight:"132%",letterSpacing:"-0.01em"},headingH5:{font:J.system,weight:400,size:"24px",lineHeight:"132%",letterSpacing:"-0.005em"},headingH5Bold:{font:J.system,weight:600,size:"24px",lineHeight:"132%",letterSpacing:"-0.0075em"},headingH6:{font:J.system,weight:400,size:"20px",lineHeight:"140%",letterSpacing:"normal"},headingH6Bold:{font:J.system,weight:600,size:"20px",lineHeight:"140%",letterSpacing:"-0.004em"},subheading:{font:J.system,weight:400,size:"20px",lineHeight:"148%",letterSpacing:"-0.015em"},subheadingBold:{font:J.system,weight:600,size:"20px",lineHeight:"148%",letterSpacing:"-0.015em"},body:{font:J.system,weight:400,size:"14px",lineHeight:"145%",letterSpacing:"0.008em"},bodyBold:{font:J.system,weight:600,size:"14px",lineHeight:"145%",letterSpacing:"0.008em"},informative:{font:J.system,weight:400,size:"12px",lineHeight:"146%",letterSpacing:"0.0125em"},extraSmall:{font:J.system,weight:400,size:"10px",lineHeight:"160%",letterSpacing:"0.02em"},extraSmallBold:{font:J.system,weight:600,size:"10px",lineHeight:"160%",letterSpacing:"0.02em"},buttonText:{font:J.system,weight:600,size:"13px",lineHeight:"150%",letterSpacing:"-0.005em"}},shadows:{small:"0px 2px 8px rgba(19, 34, 68, 0.08)",large:"0px 8px 32px rgba(19, 34, 68, 0.08)",negative:"0px -4px 16px rgba(19, 34, 68, 0.08)",primaryInner:"inset 0px 4px 8px rgba(19, 34, 68, 0.5)",secondaryInner:"inset 0px 4px 8px rgba(215, 223, 234, 0.25)",focus:"0px 0px 8px rgba(57, 42, 167, 0.25)"},direction:"ltr"};function Y(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,X(e,t,"get"))}function Z(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,X(e,t,"set"),n),n}function X(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var ee=new WeakMap;class te{constructor(e){var t,n,r;this.params=e,r={writable:!0,value:""},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t=this,n=ee),n.set(t,r)}build(){return Z(this,ee,""),this.appendCssReset(),this.appendBaseStyles(),this.appendTogglerWrapperStyles(),this.appendWidgetWrapperStyles(),this.appendWidgetIframeStyles(),this.appendSmallScreenStyles(),Y(this,ee)}appendCssReset(){const{messengerWrappers:{namespaceClass:e}}=F;this.concatStyles(`\n    .${e},\n    .${e}::before,\n    .${e}::after,\n    .${e} *,\n    .${e} *::before,\n    .${e} *::after {\n      all: revert;\n    }\n    `)}appendBaseStyles(){const{messengerWrappers:t}=F,n=`\n    .${t.namespaceClass} .${t.wrapperClass} {\n      z-index: ${(0,e.sP)()?"1":"2147483647"};\n      margin: 0;\n      padding: 0;\n      background-color: transparent;\n      visibility: hidden;\n    }\n\n    .${t.namespaceClass} iframe {\n      background-color: transparent;\n      border: 0;\n    }`;this.concatStyles(n)}appendTogglerWrapperStyles(){const{messengerWrappers:e,toggler:t}=F,n=this.calculateTogglerPosition(),r=`.${e.namespaceClass} #${this.getTogglerWrapperId()}`,i=`\n      width: ${t.size}px;\n      height: ${t.size}px;\n    `,o=`\n    ${r} {\n      ${i}\n      position: fixed;\n      border-radius: 50%;\n      box-shadow: ${V.shadows.small};\n      ${"bottomRight"===n.kind?`right: ${n.right}px; bottom: ${n.bottom}px;`:""}\n      ${"bottomLeft"===n.kind?`left: ${n.left}px; bottom: ${n.bottom}px;`:""}\n    }\n\n    ${r} iframe {\n      ${i}\n    }\n    `;this.concatStyles(o)}calculateTogglerPosition(){const{verticalPadding:e,horizontalPadding:t}=this.getTogglerPaddings();return"bottomLeft"===this.params.widgetPosition?{kind:"bottomLeft",bottom:e,left:t}:{kind:"bottomRight",bottom:e,right:t}}getTogglerPaddings(){const e=this.params.horizontalPadding??F.toggler.defaultHorizontalPadding;return{verticalPadding:this.params.verticalPadding??F.toggler.defaultVerticalPadding,horizontalPadding:e}}appendWidgetWrapperStyles(){const{messengerWrappers:e,widget:t}=F,n=this.calculateWidgetPosition(),r=`.${e.namespaceClass} #${this.getWidgetWrapperId()}`,i=`\n    ${r} {\n      position: fixed;\n      ${"bottomRight"===n.kind?`right: ${n.right}px; bottom: ${n.bottom}px;`:""}\n      ${"bottomLeft"===n.kind?`left: ${n.left}px; bottom: ${n.bottom}px;`:""}\n      opacity: 0;\n      transform: translateY(0);\n      transition: visibility ${t.animationSpeed}, opacity ${t.animationSpeed}, transform ${t.animationSpeed};\n      pointer-events: none;\n    }\n\n    @media ${t.smallScreenMediaQuery} {\n      ${r} {\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n      }\n    }\n    `;this.concatStyles(i)}calculateWidgetPosition(){const{horizontalPadding:e,verticalPadding:t}=this.getWidgetPaddings(),n=this.getWidgetBottomOffset(t);return"bottomLeft"===this.params.widgetPosition?{kind:"bottomLeft",bottom:n,left:e}:{kind:"bottomRight",bottom:n,right:e}}getWidgetBottomOffset(e){return this.params.isViewedOnSmallScreen?0:this.params.hiddenToggler?e:F.widget.defaultVerticalPadding+this.getTogglerPaddings().verticalPadding+F.toggler.size}getWidgetPaddings(){return{horizontalPadding:this.params.horizontalPadding??F.widget.defaultHorizontalPadding,verticalPadding:this.params.verticalPadding??F.widget.defaultVerticalPadding}}appendWidgetIframeStyles(){const{messengerWrappers:e,widget:t}=F,n=`.${e.namespaceClass} #${this.getWidgetFrameId()}`,r=`\n    ${n} {\n      width: ${t.width};\n      max-height: ${t.maxHeight};\n      min-height: ${t.minHeight};\n      height: ${t.height};\n      border-radius: ${V.radii[500]};\n      box-shadow: ${V.shadows.large};\n      pointer-events: auto;\n    }\n\n    @media ${F.widget.smallScreenMediaQuery} {\n      ${n} {\n        width: 100%;\n        max-height: 100%;\n        min-height: 100%;\n        height: 100%;\n        box-shadow: none;\n        border-radius: 0;\n      }\n    }\n    `;this.concatStyles(r)}appendSmallScreenStyles(){const{messengerWrappers:e}=F,t=`\n      @media ${F.widget.smallScreenMediaQuery} {\n        .${F.messengerWrappers.isOpenClass} {\n          overscroll-behavior: none;\n        }\n\n        .${F.messengerWrappers.isOpenClass} > body {\n          overflow: hidden !important;\n          height: 0 !important;\n          position: fixed !important;\n        }\n\n        .${F.messengerWrappers.isOpenClass} .${e.namespaceClass} #${this.getTogglerWrapperId()} {\n          display: none;\n        }\n      }\n    `;this.concatStyles(t)}concatStyles(e){Z(this,ee,Y(this,ee).concat(e))}getTogglerWrapperId(){return D.getWrapperId("toggler",this.params.messengerToken)}getWidgetWrapperId(){return D.getWrapperId("widget",this.params.messengerToken)}getWidgetFrameId(){return D.getIframeId("widget",this.params.messengerToken)}}function ne(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,re(e,t,"get"))}function re(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var ie=new WeakMap;class oe{constructor(e,t,n,r){var i,o,s;this.messengerToken=e,this.isViewedOnSmallScreen=t,this.hiddenToggler=n,s={writable:!0,value:null},function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(i=this,o=ie),o.set(i,s),this.createStyleHtmlElement(r)}appendGlobalStyles(e){ne(this,ie)&&e.appendChild(ne(this,ie))}updateCssContent(e){ne(this,ie)&&ne(this,ie).replaceChildren(document.createTextNode(this.getBuiltStyles({...e,isViewedOnSmallScreen:this.isViewedOnSmallScreen,hiddenToggler:this.hiddenToggler})))}getBuiltStyles(e){return new te({...e,messengerToken:this.messengerToken}).build()}createStyleHtmlElement(e){var t,n,r;t=this,n=ie,r=document.createElement("style"),function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(t,re(t,n,"set"),r),ne(this,ie).setAttribute("type","text/css"),e&&ne(this,ie).setAttribute("nonce",e)}}function se(e,t){t.updateCssContent({widgetPosition:"string"==typeof e?e:e.position,horizontalPadding:"object"==typeof e?e.horizontalPadding:void 0,verticalPadding:"object"==typeof e?e.verticalPadding:void 0})}let ae;const ue=document.title;let ce,le=[];function de(e){document.title=e}function fe(){if(null==ce)de(ue),le.length>0&&(ce=0);else{de(le[ce]);const e=ce+1;ce=e<le.length?e:void 0}}function pe(e){return`${e} unread messages`}function he(e){return`${e} says...`}function ge(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class me extends U{constructor(e,t,n,r,i,o=!1){super(e),this.widget=t,this.toggler=n,this.shimContextResources=r,this.containerElement=i,this.dueToError=o,ge(this,"state","terminating"),ge(this,"handleOnTogglerShutdownCompleted",(()=>{this.logInfo("togglerChannel.shutdown-completed"),"widget-terminal"===this.state?(this.state="terminated",this.terminate()):this.state="toggler-terminal"})),ge(this,"handleOnWidgetShutdownCompleted",(()=>{this.logInfo("widgetChannel.shutdown-completed"),"toggler-terminal"===this.state?(this.state="terminated",this.terminate()):this.state="widget-terminal"})),this.addListeners(),r.widgetChannel.send("widget-shutdown"),r.togglerChannel.send("toggler-shutdown")}purgeUserIdentity(){this.logInfo("purgeUserIdentity"),N(this.shimContextResources.localStorageAccessor,this.shimContextResources.widgetChannel)}terminate(){this.removeListeners(),this.toggler.iframe.remove(),this.toggler.wrapper.remove(),this.widget.iframe.remove(),this.widget.wrapper.remove(),this.containerElement&&this.containerElement.remove(),this.dueToError&&this.shimContextResources.hostWebsiteEmitter.removeAllListeners(),this.shimContextResources.setState(new $e(this.logger,this.shimContextResources),(e=>{e.hostWebsiteEmitter.emit("on-shutdown-completed",void 0)}))}addListeners(){this.shimContextResources.togglerChannel.addListener("shutdown-completed",this.handleOnTogglerShutdownCompleted),this.shimContextResources.widgetChannel.addListener("shutdown-completed",this.handleOnWidgetShutdownCompleted)}removeListeners(){this.shimContextResources.togglerChannel.removeListener("shutdown-completed",this.handleOnTogglerShutdownCompleted),this.shimContextResources.widgetChannel.removeListener("shutdown-completed",this.handleOnWidgetShutdownCompleted)}}function ve(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ye extends U{constructor(e,t,n,r,i,o){super(e),this.widget=t,this.toggler=n,this.shimContextResources=r,this.globalStyles=i,this.containerElement=o,ve(this,"onTogglerWidgetOpenChanged",(e=>{this.logInfo("togglerChannel.widget-open-changed",e),this.setWidgetOpen(e)})),ve(this,"widgetEventHandlers",{"widget-open-changed":e=>{this.setWidgetOpen(e),this.shimContextResources.hostWebsiteEmitter.emit("on-widget-open-changed",e)},"store-session-token":e=>{this.shimContextResources.localStorageAccessor.setItem(L.localStorageKeys.sessionToken,e)},"current-session-invalidated":()=>{this.shimContextResources.localStorageAccessor.removeItem(L.localStorageKeys.sessionToken)},"echo-parent-frame-origin":({requestId:e})=>{this.shimContextResources.widgetChannel.send("parent-frame-origin-echoed",{shimOrigin:window.location.href,requestId:e})},"unseen-message-count-changed":e=>{this.shimContextResources.togglerChannel.send("update-unseen-message-count",e.count),function(e){e.count>0?(ae&&clearInterval(ae),le=function({count:e,senders:t}){if(0===t.length)return[pe(e)];const n=[];for(const r of t)n.push(he(r)),n.push(pe(e));return n}(e),ce=0,ae=setInterval(fe,2e3)):(le=[],ce=void 0,clearInterval(ae),de(ue))}(e)},"store-user-identity":e=>{this.shimContextResources.localStorageAccessor.setItem(L.localStorageKeys.userIdentity,JSON.stringify(e))},"remove-user-identity":()=>{this.shimContextResources.localStorageAccessor.removeItem(L.localStorageKeys.userIdentity),this.shimContextResources.hostWebsiteEmitter.emit("on-user-purged",void 0)},"agent-assigned":e=>{this.shimContextResources.hostWebsiteEmitter.emit("on-agent-assigned",e)},"agent-unassigned":e=>{this.shimContextResources.hostWebsiteEmitter.emit("on-agent-unassigned",e)},"conversation-started":e=>{this.shimContextResources.hostWebsiteEmitter.emit("on-conversation-started",e)},"conversation-ended":e=>{this.shimContextResources.hostWebsiteEmitter.emit("on-conversation-ended",e)},"message-added":e=>{this.shimContextResources.hostWebsiteEmitter.emit("on-message-added",e)},"user-identity-changed":({type:e})=>{this.shimContextResources.hostWebsiteEmitter.emit("on-user-identity-changed",{type:e})},"view-changed":e=>{this.shimContextResources.hostWebsiteEmitter.emit("on-view-changed",e)},"widget-focus-changed":e=>{this.shimContextResources.hostWebsiteEmitter.emit("on-widget-focus-changed",e)},"user-banned":()=>{this.shimContextResources.hostWebsiteEmitter.emit("on-user-banned",void 0)},"user-unbanned":()=>{this.shimContextResources.hostWebsiteEmitter.emit("on-user-unbanned",void 0)},"backend-error":e=>{this.shimContextResources.hostWebsiteEmitter.emit("on-backend-error",e)}}),this.addListeners()}shutdown(){this.logInfo("shutdown"),this.removeListeners(),this.shimContextResources.setState(new me(this.logger,this.widget,this.toggler,this.shimContextResources,this.containerElement))}setWidgetOpen(e){var t,n,r,i;this.logInfo("setWidgetOpen",e),t=e,n=this.widget,r=this.toggler,i=this.shimContextResources,function(e,t){t.wrapper.style.visibility=e?"visible":"hidden",t.wrapper.style.opacity=e?"1":"0",t.wrapper.style.transform=`translateY(${e?"0":"16px"})`}(t,n),function(e,t){t.wrapper.style.boxShadow=e?V.shadows.large:V.shadows.small}(t,r),function(e,t){t.widgetChannel.send("set-widget-open",e),t.togglerChannel.send("set-widget-open",e),t.hostWebsiteEmitter.emit("on-widget-open-changed",e)}(t,i),t?window.document.documentElement.classList.add(F.messengerWrappers.isOpenClass):window.document.documentElement.classList.remove(F.messengerWrappers.isOpenClass)}purgeUserIdentity(){this.logInfo("purgeUserIdentity"),N(this.shimContextResources.localStorageAccessor,this.shimContextResources.widgetChannel)}setPosition(e){this.logInfo("setPosition",e),se(e,this.globalStyles)}setView(e){this.logInfo("setView",e),this.shimContextResources.widgetChannel.send("set-view",e)}startConversation(){this.logInfo("startConversation"),this.setWidgetOpen(!0),this.shimContextResources.widgetChannel.send("set-view",{view:"newConversation"})}endConversation(e){this.logInfo("endConversation",e),this.shimContextResources.widgetChannel.send("end-conversation",e)}setUserIdentity(e){this.logInfo("setUserIdentity",e),"anonymous"===e.type?this.purgeUserIdentity():this.shimContextResources.widgetChannel.send("set-user-identity",e)}addListeners(){this.shimContextResources.togglerChannel.addListener("widget-open-changed",this.onTogglerWidgetOpenChanged),this.manageWidgetListeners("add")}removeListeners(){this.shimContextResources.togglerChannel.removeListener("widget-open-changed",this.onTogglerWidgetOpenChanged),this.manageWidgetListeners("remove")}manageWidgetListeners(e){const t="add"===e?"addWidgetListener":"removeWidgetListener";Object.keys(this.widgetEventHandlers).forEach((e=>{const n=e;this[t](n,this.widgetEventHandlers[n])}))}addWidgetListener(e,t){this.shimContextResources.widgetChannel.addListener(e,t)}removeWidgetListener(e,t){this.shimContextResources.widgetChannel.removeListener(e,t)}}var be=n(6312),_e=n(9712);const we={version:1,general:{description:{en:""},title:{en:""},bulletinBoardEnabled:!1,bulletinBoardId:null,availableLocales:["en"],minimumIdentification:"ANONYMOUS",integrations:{elevio:{companyId:"123456789",displayType:"display-button-for-access-to-articles"}}},style:{theme:{background:"purple"}},avatars:[]};async function Se(e,t){try{const r=await(0,be.qe)(t.getSettings(e));return r?(n=r,{version:1,avatars:n?.avatars??[],general:{availableLocales:n?.general?.availableLocales??we.general.availableLocales,bulletinBoardEnabled:n?.general?.bulletinBoardEnabled??we.general.bulletinBoardEnabled,bulletinBoardId:n?.general?.bulletinBoardId??null,description:n?.general?.description??we.general.description,minimumIdentification:n?.general?.minimumIdentification??we.general.minimumIdentification,title:n?.general?.title??we.general.title,logo:n?.general?.logo??we.general.logo,integrations:n?.general?.integrations,startConversation:n?.general?.startConversation,findArticles:n?.general?.findArticles},style:{theme:n?.style?.theme??we.style.theme,icon:n?.style?.icon}}):we}catch(e){if(e instanceof _e.Om)throw new _e.Om;return we}var n}class Re{static isLocaleRTL(e){return Object.values(Ie).includes(e)}static getAppDirection(e){return this.isLocaleRTL(e)?"rtl":"ltr"}static isLocaleTranslated(e){return[...xe].includes(e)}constructor(e){this.availableLocales=e}getEnabledLocales(){return this.availableLocales??["en"]}getAppLocale(e){return e&&this.isLocaleAvailable(e)?e:this.getUserPreferredLocale()}getUserPreferredLocale(){for(const e of window.navigator.languages){const t=e.split(/[-_]/)[0];if(this.isLocaleAvailable(t))return t}return(this.availableLocales||[])[0]||"en"}isLocaleAvailable(e){return this.availableLocales.includes(e)&&Re.isLocaleTranslated(e)}}const Ie={Arabic:"ar",Aramaic:"arc",Azeri:"az",Divehi:"dv",Fula:"ff",Hebrew:"he",Kurdish:"ku",Persian:"fa",Syriac:"syr",Urdu:"ur"},xe=["ar","da","de","en","es","et","fi","fr","hu","is","it","ja","ko","lt","lv","nl","no","pl","pt","ru","sv","th","tr","zh"];function Ee(e,t){let n,r=e;for(n in t)r={...r,[n]:{...r[n],...t[n]}};return r}const Ce={midnight:{gradients:{mainGradient:"linear-gradient(129.4deg, rgba(64, 74, 131, 0.95) 0%, #0F182C 72.48%)"}},emerald:{gradients:{mainGradient:"linear-gradient(129.4deg, #4AA1AD 0%, #126476 72.48%)"}},purple:{gradients:{mainGradient:"linear-gradient(129.4deg, #9F65F1 0%, #4919D9 72.48%)"}},blue:{gradients:{mainGradient:"linear-gradient(129.4deg, #2694FA 0%, #2E5DD4 72.48%)"}},grey:{gradients:{mainGradient:"linear-gradient(129.4deg, #B2B2B2 0%, #808182 72.48%)"}}};function Oe(e,t){const n=new Re(t).getAppLocale(e);return{resolvedAppLocale:n,appDirection:Re.getAppDirection(n)}}function Te(e,t){return function(e){let t=V;return e.isDark&&(t=Ee(t,{colors:{textPrimary:"#C7C7C7",textSecondary:"#C1C1C1",textTertiary:"#7B7B7B",neutral000:"#212121",neutral100:"#232323",neutral200:"#323232",neutral900:"#132244"}})),e.variantName&&(n=t,r=e.variantName,t=Ee(n,Ce[r]??{gradients:{mainGradient:r}})),t={...t,direction:e.direction},t;var n,r}({isDark:!1,variantName:t.style.theme.background,direction:Oe(e,t.general.availableLocales).appDirection})}function Ae(e){const t=e.getItem(L.localStorageKeys.userIdentity);if(t)return JSON.parse(t)}function We(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Qe extends U{async initializeMessenger(e,n){const{messengerToken:r,hideToggler:i,language:o,showWidgetCloseButton:s=!0}=e,[a]=await Promise.all([Se(r,q.sH.settingsService),(c=this.shimContextResources.togglerChannel,new Promise((e=>{const t=()=>{c.removeListener("bootstrap-completed",t),e()};c.addListener("bootstrap-completed",t)}))),(u=this.shimContextResources.widgetChannel,new Promise((e=>{const t=()=>{u.removeListener("bootstrap-completed",t),e()};u.addListener("bootstrap-completed",t)})))]);var u,c;(0,t.G)(this.togglerFrame.iframe.contentWindow,{customMessage:"Toggler contentWindow is not set"}),this.shimContextResources.togglerChannel.setTargetWindow(this.togglerFrame.iframe.contentWindow),(0,t.G)(this.widgetFrame.iframe.contentWindow,{customMessage:"Widget contentWindow is not set"}),this.shimContextResources.widgetChannel.setTargetWindow(this.widgetFrame.iframe.contentWindow);const l={originalInitData:e,settings:a,messengerToken:r,showWidgetCloseButton:s,isViewedOnSmallScreen:n,initializationLocale:e.language,resolvedLocale:Oe(e.language,a.general.availableLocales).resolvedAppLocale,userIdentity:e.userIdentity??Ae(this.shimContextResources.localStorageAccessor)??{type:"anonymous"},storedSessionToken:this.shimContextResources.localStorageAccessor.getItem(L.localStorageKeys.sessionToken)};await Promise.all([Me(this.shimContextResources.togglerChannel).then((()=>{this.shimContextResources.togglerChannel.send("set-theme",Te(o,a)),this.shimContextResources.togglerChannel.send("set-launcher-icon",a.style.icon),i||(this.togglerFrame.iframe.style.visibility="visible")})),ke(this.shimContextResources.widgetChannel,l,o)])}constructor(e,t,n,r){super(e),this.deferredCommands=n,this.shimContextResources=r,We(this,"onTogglerWidgetOpenChanged",(e=>{this.logInfo("togglerChannel.widget-open-changed",e),this.setWidgetOpen(e)})),We(this,"onEchoParentFrameOrigin",(({requestId:e})=>{this.shimContextResources.widgetChannel.send("parent-frame-origin-echoed",{shimOrigin:window.location.href,requestId:e})})),We(this,"globalStyles",void 0),We(this,"widgetFrame",void 0),We(this,"togglerFrame",void 0),We(this,"containerElement",void 0),this.addListeners();const i=window.matchMedia(F.widget.smallScreenMediaQuery).matches;this.initializeMessenger(t,i).then((()=>{this.shimContextResources.setState(new ye(this.logger,this.widgetFrame,this.togglerFrame,this.shimContextResources,this.globalStyles,this.containerElement),((e,t)=>{this.deferredCommands.getAllCommands().forEach((({method:e,payload:n})=>{t(e,n)}))}))})).catch((e=>{this.logger.error(`[${this.constructor.name}].initializeMessenger`,e),e instanceof B.O&&this.shimContextResources.setState(new me(this.logger,this.widgetFrame,this.togglerFrame,this.shimContextResources,this.containerElement,!0))})).finally((()=>{this.removeListeners()})),this.containerElement=function(){const e=document.createElement("div");return e.className=F.messengerWrappers.namespaceClass,e}(),this.togglerFrame=function(e,{messengerToken:t,hideToggler:n=!1}){return new D({type:"toggler",src:`${e}/toggler.html`,messengerToken:t,hidden:n}).build()}(r.messengerOrigin,t),this.widgetFrame=function(e,{messengerToken:t,disableSentryIntegration:n,nonce:r}){const i=function(){const e=new URLSearchParams;return{disableSentryIntegration(t){return function(e,t,n){n.append(e,String(t))}("disableSentryIntegration",t??!1,e),this},nonce(t){return void 0!==t&&e.append("nonce",t),this},build:()=>e.toString()}}().disableSentryIntegration(n).nonce(r).build();return new D({type:"widget",src:`${e}/widget.html?${i}`,messengerToken:t}).build()}(r.messengerOrigin,t);const{messengerToken:o,nonce:s,hideToggler:a=!1}=t;var u,c,l;this.globalStyles=new oe(o,i,a,s),function(e,t,{position:n="bottomRight",horizontalPadding:r,verticalPadding:i}){t.appendGlobalStyles(e),t.updateCssContent({widgetPosition:n,horizontalPadding:r,verticalPadding:i})}(this.containerElement,this.globalStyles,t),u=this.containerElement,c=this.togglerFrame,l=this.widgetFrame,u.appendChild(c.wrapper),u.appendChild(l.wrapper),function(e){document.body.appendChild(e)}(this.containerElement)}shutdown(){this.logInfo("shutdown deferred"),this.deferredCommands.add("shutdown",void 0)}setWidgetOpen(e){this.logInfo("setWidgetOpen deferred",e),this.deferredCommands.add("setWidgetOpen",e)}purgeUserIdentity(){this.logInfo("purgeUserIdentity deferred"),this.deferredCommands.add("purgeUserIdentity",void 0)}setPosition(e){this.logInfo("setPosition deferred",e),se(e,this.globalStyles)}setView(e){this.logInfo("setView deferred",e),this.deferredCommands.add("setView",e)}startConversation(){this.logInfo("startConversation deferred"),this.deferredCommands.add("startConversation",void 0)}setUserIdentity(e){this.logInfo("setUserIdentity deferred",e),this.deferredCommands.add("setUserIdentity",e)}addListeners(){this.shimContextResources.togglerChannel.addListener("widget-open-changed",this.onTogglerWidgetOpenChanged),this.shimContextResources.widgetChannel.addListener("echo-parent-frame-origin",this.onEchoParentFrameOrigin)}removeListeners(){this.shimContextResources.togglerChannel.removeListener("widget-open-changed",this.onTogglerWidgetOpenChanged),this.shimContextResources.widgetChannel.removeListener("echo-parent-frame-origin",this.onEchoParentFrameOrigin)}}function Me(e){return e.send("toggler-mount"),new Promise((t=>{const n=()=>{e.removeListener("mount-completed",n),t()};e.addListener("mount-completed",n)}))}function ke(e,t,n){return e.send("widget-mount",t),e.send("set-theme",Te(n,t.settings)),new Promise((t=>{const n=()=>{e.removeListener("mount-completed",n),t()};e.addListener("mount-completed",n)}))}class $e extends U{constructor(e,t){var n,r,i,o;super(e),this.shimContextResources=t,n=this,r="deferredCommands",i=new P,(r="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r))?o:String(o))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i}init(e){this.logInfo("init",e),this.shimContextResources.setState(new Qe(this.logger,e,this.deferredCommands,this.shimContextResources))}setWidgetOpen(e){this.logInfo("setWidgetOpen deferred",e),this.deferredCommands.add("setWidgetOpen",e)}setView(e){this.logInfo("setView deferred",e),this.deferredCommands.add("setView",e)}startConversation(){this.logInfo("startConversation deferred"),this.deferredCommands.add("startConversation",void 0)}purgeUserIdentity(){this.logInfo("purgeUserIdentity"),N(this.shimContextResources.localStorageAccessor,this.shimContextResources.widgetChannel)}}class Pe{getItem(e){try{return window.localStorage.getItem(e)}catch(t){return console.error(`LocalStorage. Cannot get item with key "${e}". Error: ${t}`),null}}setItem(e,t){try{window.localStorage.setItem(e,t)}catch(t){console.error(`LocalStorage. Cannot set item with key "${e}". Error: ${t}`)}}removeItem(e){try{window.localStorage.removeItem(e)}catch(t){console.error(`LocalStorage. Cannot remove item with key "${e}". Error: ${t}`)}}}function Ue(e){const t=new s(e);return t.setTargetWindow(window),t}function je(e){const t=new a(e);return t.setTargetWindow(window),t}class Le{debug(e,...t){console.debug(e,...t)}info(e,...t){console.info(e,...t)}warn(e,...t){console.warn(e,...t)}error(e,...t){console.error(e,...t)}}class Ne{debug(){}info(){}warn(){}error(){}}!function(n){const i=n._dixa_,o=function(n){const i="https://messenger.dixa.io";(0,t.G)(i,{customMessage:"MESSENGER_ORIGIN variable is not set"});const o=(e,t)=>{a[e](t)},s={messengerOrigin:i,setState:(e,t)=>{n.info(`[shim] transitions from ${a.constructor.name} to ${e.constructor.name}`),a=e,t&&t(s,o)},widgetChannel:Ue(i),togglerChannel:je(i),hostWebsiteEmitter:new r.m({loggerName:"SHIM -> HOST event emitter",logToConsole:(0,e.sP)()}),localStorageAccessor:new Pe};let a=new $e(n,s);return{invoke(e,t){!function(e){return"string"!=typeof e?(console.error(`Argument "method" must be of type string, but received ${e}`),!1):!!Object.keys(Q).includes(e)||(console.error(`The invoked method "${e}" does not exists`),!1)}(e)?n.warn(`Invalid method: ${e}`):function(e,t){const n=M[e].decode(t);return!(0,d.isLeft)(n)||(console.error(`Method "${e}" invoked with invalid payload. Errors: ${(0,p.ey)(n.left)}`),!1)}(e,t)?o(e,t):n.warn(`Invalid payload for method: ${e}. Payload: `,t)},addListener(e,t){c(e)?l(t)?s.hostWebsiteEmitter.addListeners(e,t):n.warn("addListener received invalid listener: ",t):n.warn("addListener received invalid event: ",e)},removeListener(e,t){c(e)?l(t)?s.hostWebsiteEmitter.removeListeners(e,t):n.warn("removeListener received invalid listener: ",t):n.warn("removeListener received invalid event: ",e)}}}((0,e.sP)()?new Le:new Ne);"pendingCalls"in i&&i.pendingCalls.forEach((e=>o.invoke(...e))),"pendingAddListenerCalls"in i&&i.pendingAddListenerCalls.forEach((e=>o.addListener(...e))),n._dixa_=o}(window)})()})();