!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4a81a576-f16b-45c0-a492-7a05be331548",e._sentryDebugIdIdentifier="sentry-dbid-4a81a576-f16b-45c0-a492-7a05be331548")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"prod:2024-03-14T09:25:04.332Z"},(()=>{var e,t,n,s,i,a={172:(e,t,n)=>{"use strict";n.d(t,{G4:()=>i,Gc:()=>a,gb:()=>s,m8:()=>o});const s="wss://messenger-edge-ws.dixa.io",i="https://messenger-edge.dixa.io",a="https://api.bulletins.dixa.io",o="https://messenger-files.dixa.io"},908:(e,t,n)=>{"use strict";n.d(t,{gh:()=>m.gh,sb:()=>m.sb,yG:()=>m.yG,a2:()=>c,WC:()=>I,e6:()=>v,En:()=>h,Q7:()=>u,Qp:()=>x});var s=n(1751),i=n(7540),a=n(1132),o=n(6464),r=n(1224);function l(e){switch(e.type){case"text":return(0,r.U)(e);case"attachment":return(0,s.c)(e);case"chat-input-request":return(0,i.m)(e);case"chat-menu-request":return(0,a.y)(e);case"form-request":return(0,o.w)(e)}}function c(e){const{sender:t,payload:n}=e,{conversation_id:s,message_id:i,timestamp:a,...o}=n;return{from:"agent",agentId:t.agent_id,conversationId:s,messageId:i,timestamp:a,content:l(o)}}function d(e){switch(e.type){case"text":return(0,r.U)(e);case"attachment":return(0,s.c)(e);case"csat-response":return{type:"csat-response",replyToMessageId:e.content.reply_to_message_id,score:e.content.score,comment:e.content.comment};case"chat-input-response":return{type:"chat-input-response",answer:e.content.answer,replyToMessageId:e.content.reply_to_message_id};case"chat-menu-option-chosen":return{type:"chat-menu-response",chosenOptionId:e.content.chosen_option_id,replyToMessageId:e.content.reply_to_message_id};case"contact-form-response":return{type:"contact-form-response",name:e.content.name,email:e.content.email,message:e.content.message,replyToMessageId:e.content.reply_to_message_id};case"form-response":return{type:"form-response",formId:e.content.id,replyToMessageId:e.content.reply_to_message_id,fields:e.content.fields,formVersion:e.content.formVersion}}}function u({payload:e}){const{conversation_id:t,message_id:n,timestamp:s,...i}=e;return{from:"user",conversationId:t,messageId:n,timestamp:s,content:d(i)}}var p=n(9996);function g(e){return(0,p.QJ)(e)?c(e):u(e)}var m=n(1960);function h(e){return{openConversations:e.open_conversations.map(f),closedConversations:e.closed_conversations.map(f)}}function f(e){return{conversationId:e.conversation_id,agent:e.agent?(0,m.gh)(e.agent):void 0,lastMessage:e.last_message?g(e.last_message):void 0,unseenMessagesCount:e.unseen_messages_count,orgName:e.org_name}}var y=n(5160);function v(e){const t=[];return e.forEach((e=>{const n=(0,y.uS)(e);n&&t.push(n)})),t}function x(e){switch(e.type){case"text":return{type:"text",content:{text:e.text,contentType:e.contentType}};case"attachment":{const{url:t,contentType:n,name:s,size:i,checksum:a}=e;return{type:"attachment",content:{url:t,name:s,content_type:n,size:i,checksum:a}}}case"csat-response":return{type:"csat-response",content:{reply_to_message_id:e.replyToMessageId,score:e.score,comment:e.comment}};case"chat-input-response":return{type:"chat-input-response",content:{answer:e.answer,reply_to_message_id:e.replyToMessageId}};case"chat-menu-response":return{type:"chat-menu-option-chosen",content:{chosen_option_id:e.chosenOptionId,reply_to_message_id:e.replyToMessageId}};case"contact-form-response":return{type:"contact-form-response",content:{name:e.name,email:e.email,message:e.message,reply_to_message_id:e.replyToMessageId}};case"form-response":return{type:"form-response",content:{id:e.formId,reply_to_message_id:e.replyToMessageId,fields:e.fields,formVersion:e.formVersion}}}}var b=n(7784),w=n(7564);function C(e){switch(e.type){case"text":return(0,r.U)(e);case"attachment":return(0,s.c)(e);case"csat-request":return(0,w.C)(e);case"chat-input-request":return(0,i.m)(e);case"chat-menu-request":return(0,a.y)(e);case"contact-form-request":return(0,b.m)(e);case"form-request":return(0,o.w)(e)}}function I(e){const{sender:t,payload:n}=e,{conversation_id:s,message_id:i,timestamp:a,...o}=n,r="system"===t.from&&"subtype"in t&&"chatbot"===t.subtype?t.id:"";return""===r&&console.error("Chatbot id not found"),{from:"chatbot",conversationId:s,messageId:i,timestamp:a,chatbotId:r,content:C(o)}}},1751:(e,t,n)=>{"use strict";n.d(t,{c:()=>i});var s=n(2550);function i(e){return{type:"attachment",id:(0,s.c)(),name:e.content.name,size:e.content.size,url:e.content.url,contentType:e.content.content_type,checksum:e.content.checksum}}},7540:(e,t,n)=>{"use strict";function s(e){return{type:"chat-input-request",message:e.content.message,label:e.content.label,placeholder:e.content.placeholder}}n.d(t,{m:()=>s})},1132:(e,t,n)=>{"use strict";function s(e){return{type:"chat-menu-request",message:e.content.message,options:e.content.options,title:e.content.title,horizontalActionButtons:e.content.horizontalAlignment}}n.d(t,{y:()=>s})},7784:(e,t,n)=>{"use strict";function s(e){return{type:"contact-form-request"}}n.d(t,{m:()=>s})},7564:(e,t,n)=>{"use strict";function s(e){const{content:t}=e;return{type:"csat-request",ratingType:t.rating_type,mainQuestion:t.rating_question,thankYouMessage:t.thank_you_message,followupQuestion:t.followup_question,followupQuestionPlaceholder:t.followup_question_placeholder_text}}n.d(t,{C:()=>s})},6464:(e,t,n)=>{"use strict";n.d(t,{w:()=>l});const s=e=>"required"===e.type||"regex"===e.type,i=e=>e.map(r).filter(s),a=e=>({key:e.key,placeholder:e.placeholder,label:e.label,initialValue:e.initialValue}),o=e=>{switch(e.type){case"email":return{type:"email",validations:i(e.validations),...a(e)};case"files":return{type:"file",multiple:void 0,placeholderLabel:e.addFileLabel||"",placeholderDescription:e.description,validations:e.validations.map(r),...a(e)};case"select":return{type:"select",options:e.options,validations:i(e.validations),...a(e)};case"textarea":return{type:"textarea",validations:i(e.validations),...a(e)};case"textfield":return{type:"textfield",validations:i(e.validations),...a(e)}}},r=e=>{switch(e.type){case"max-single-file-size":return{type:"maxFileSize",value:e.limit,errorMessage:e.errorMessage};case"max-total-files-size":return{type:"maxFileSizeTotal",value:e.limit,errorMessage:e.errorMessage};case"mime-types":return{type:"validMimeTypes",value:e.validMimeTypes,errorMessage:e.errorMessage};case"regex":return{type:"regex",value:e.value,errorMessage:e.errorMessage};case"required":return{type:"required",errorMessage:e.errorMessage}}};function l(e){const{content:{fields:t,id:n,labels:s,preSubmit:i,formVersion:a}}=e,r=i?.confirmation?{message:i.confirmation.question,onConfirmLabel:i.confirmation.buttons.find((({action:e})=>"submit"===e))?.label??"confirm",onRejectLabel:i.confirmation.buttons.find((({action:e})=>"cancel"===e))?.label??"cancel"}:void 0;return{type:"form-request",id:n,fields:t.map(o),body:s.body,preSubmitConfirmation:r,submitLabel:s.submit,submitSuccessMessage:s.submitSuccessMessage,title:s.title,formVersion:a}}},1960:(e,t,n)=>{"use strict";function s({senderName:e,avatarUrl:t,sender:n}){switch(n.type){case"agent":return i({id:n.agent_id,name:e,avatarUrl:t});case"system":return"subtype"in n&&"chatbot"===n.subtype?o({id:n.id,name:e,avatarUrl:t}):a({name:e,avatarUrl:t})}}n.d(t,{gh:()=>i,sb:()=>o,yG:()=>a,yi:()=>s});const i=e=>({type:"agent",id:e.id,name:e.name,avatarUrl:e.avatarUrl??null}),a=e=>({type:"system",name:e.name,avatarUrl:e.avatarUrl??null}),o=e=>({type:"chatbot",name:e.name,id:e.id,avatarUrl:e.avatarUrl??null})},1224:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var s=n(2488);function i(e){return{type:"text",text:e.content.text,contentType:s.pf.is(e.content.contentType)?e.content.contentType:"text/plain",sources:e.content.sources,subText:e.content.subText,title:e.content.title}}},228:(e,t,n)=>{"use strict";n.d(t,{ae:()=>s.ae,h9:()=>a});var s=n(6372),i=n(7176);const a=i.s$({url:i.Qb})},2488:(e,t,n)=>{"use strict";n.d(t,{_c:()=>C,Mv:()=>b,pf:()=>h}),n(228);var s=n(7176);const i=s.s$({type:s.uA("attachment"),id:s.Qb,name:s.Qb,size:s.CQ,checksum:s.Qb,contentType:s.Qb,url:s.Qb}),a=(s.s$({messageId:s.Qb}),s.s$({timestamp:s.Qb}),s.WR([s.s$({type:s.uA("chat-input-request"),message:s.Qb,label:s.Qb}),s.IB({placeholder:s.Qb})]),s.s$({type:s.uA("chat-input-response"),replyToMessageId:s.Qb,answer:s.Qb})),o=s.s$({type:s.uA("chat-menu-response"),chosenOptionId:s.Qb,replyToMessageId:s.Qb}),r=s.WR([s.s$({type:s.uA("contact-form-response"),message:s.Qb,replyToMessageId:s.Qb}),s.IB({email:s.Qb,name:s.Qb})]),l=s.SQ([s.uA(1),s.uA(2),s.uA(3),s.uA(4),s.uA(5)]),c=s.WR([s.s$({type:s.uA("csat-response"),replyToMessageId:s.Qb,score:l}),s.IB({comment:s.Qb})]);var d=n(6372);const u=s.s$({value:s.Qb}),p=s.s$({files:s.M$(d._N),type:s.uA("files")}),g=s.Kw(s.Qb,s.SQ([u,p])),m=s.WR([s.s$({type:s.uA("form-response"),formId:s.Qb,replyToMessageId:s.Qb,fields:g}),s.IB({formVersion:s.CQ})]),h=s.SQ([s.uA("text/plain"),s.uA("text/markdown"),s.uA("text/html")]),f=s.s$({type:s.uA("elevio"),url:s.Qb,title:s.Qb,articleId:s.Qb,companyId:s.Qb}),y=s.WR([s.s$({type:s.uA("text"),text:s.Qb}),s.IB({contentType:h,title:s.Qb,sources:s.M$(f),subText:s.Qb})]),v=(s.s$({type:s.uA("message-typing-started")}),s.SQ([y,i,c,a,o,r,m])),x=s.s$({content:v}),b={isChatMenuRequestMessageContent:e=>"chat-menu-request"===e.type},w=(s.s$({agentId:s.Qb}),s.s$({conversationId:s.Qb})),C=s.WR([w,x])},5160:(e,t,n)=>{"use strict";n.d(t,{sf:()=>a,uS:()=>x,MZ:()=>r,sE:()=>o});const s={"message-received":{},"user-message-echoed":{},"message-sent":{},"message-delivered":{},"message-seen":{},"messaging-allowed":{},"messaging-disallowed":{},"agent-assignment-requested":{},"agent-assigned":{},"agent-unassigned":{},"conversation-ended":{},"connection-status-changed":{},"new-session-created":{},"agent-typing-started":{},"chatbot-typing-started":{},"sender-joined":{},"user-banned":{},"user-unbanned":{}};function i(e){if(!function(e){return"object"==typeof s[e]}(e))throw new Error(`The event type '${e}' does not exist`)}const a=({eventEmitter:e})=>(t,...n)=>{i(t),e.addListeners(t,...n)},o=({eventEmitter:e})=>(t,...n)=>{i(t),e.removeListeners(t,...n)},r=({eventEmitter:e})=>()=>{e.removeAllListeners()};var l=n(908),c=n(1960),d=n(1751),u=n(7540),p=n(1132),g=n(7784),m=n(7564),h=n(6464),f=n(1224);function y(e){switch(e.type){case"text":return(0,f.U)(e);case"attachment":return(0,d.c)(e);case"csat-request":return(0,m.C)(e);case"chat-input-request":return(0,u.m)(e);case"chat-menu-request":return(0,p.y)(e);case"contact-form-request":return(0,g.m)(e);case"form-request":return(0,h.w)(e)}}var v=n(9996);function x(e){switch(e.type){case"deliver-message":return(0,v.QJ)(e)?b("message-received",(0,l.a2)(e)):(0,v.i)(e)?w(e):(0,v.kZ)(e)?b("message-received",(0,l.WC)(e)):b("message-received",function(e){const{payload:t}=e,{conversation_id:n,message_id:s,timestamp:i,...a}=t;return{from:"system",conversationId:n,messageId:s,timestamp:i,content:y(a)}}(e));case"message-sent":{const{conversation_id:t,message_id:n,timestamp:s}=e.payload;return b("message-sent",{conversationId:t,messageId:n,timestamp:s})}case"message-delivered":{const{conversation_id:t,message_id:n,timestamp:s}=e.payload;return b("message-delivered",{conversationId:t,messageId:n,timestamp:s})}case"message-seen":return C(e);case"messaging-allowed":return b("messaging-allowed",{conversationId:e.payload.conversation_id});case"messaging-disallowed":return b("messaging-disallowed",{conversationId:e.payload.conversation_id});case"agent-assignment-requested":return b("agent-assignment-requested",{id:e.id,conversationId:e.payload.conversation_id,timestamp:e.payload.timestamp});case"agent-assigned":{const{id:t}=e,{conversation_id:n,timestamp:s,...i}=e.payload;return b("agent-assigned",{conversationId:n,timestamp:s,agent:(0,c.gh)(i),messageId:t})}case"sender-joined":return b("sender-joined",{conversationId:e.payload.conversation_id,timestamp:e.payload.timestamp,messageId:e.id,messageSender:(0,c.yi)(e.payload)});case"message-typing-started":{const{sender:t,payload:n}=e;if("agent"===t.from)return b("agent-typing-started",{conversationId:n.conversation_id,messageId:e.id,timestamp:n.timestamp});if("system"===t.from&&"subtype"in t&&"chatbot"===t.subtype)return b("chatbot-typing-started",{conversationId:n.conversation_id,messageId:e.id,timestamp:n.timestamp});break}case"conversation-ended":{const{kind:t,id:n,payload:{conversation_id:s,timestamp:i}}=e;return b("conversation-ended",{conversationId:s,timestamp:i,kind:t,messageId:n})}case"echo-message":{const t=e.payload;switch(t.type){case"deliver-message":return w(t);case"message-seen":return C(t)}}case"banned":return b("user-banned",e.payload);case"unbanned":return b("user-unbanned",e.payload)}}function b(e,t){return{eventType:e,payload:t}}function w(e){return b("user-message-echoed",(0,l.Q7)(e))}function C(e){const{conversation_id:t,message_id:n,timestamp:s}=e.payload;return b("message-seen",{conversationId:t,messageId:n,timestamp:s})}},6312:(e,t,n)=>{"use strict";n.d(t,{Un:()=>l,YP:()=>c,qe:()=>r});var s=n(1736),i=n(9320),a=n(6356),o=n(4664);function r(e){return e().then((e=>(0,a.pipe)(e,s.fold((e=>Promise.reject(e)),(e=>Promise.resolve(e))))))}function l(e,t){return(0,a.pipe)((0,i.parse)(e),s.mapLeft(s.toError),s.chain((e=>c(e,t))))}function c(e,t){return(0,a.pipe)(t.decode(e),s.mapLeft((e=>new Error(`${(0,o.ey)(e).join("\n")}`))))}},8716:(e,t,n)=>{"use strict";n.d(t,{CI:()=>x,ox:()=>c,sH:()=>v});var s=n(5712),i=n(500),a=n(7256),o=n(5160),r=n(9996),l=n(9712);n(2488);const c=new r.SB,d=new r.aw,u=new a.m({loggerName:"Internal SDK event emitter",logToConsole:(0,i.sP)()}),p=new r.gp(u,d),g=new r.k5,m={wsClient:d,httpClient:c,eventEmitter:u,wsMessageProcessor:p,sessionManager:g},h=new l.QJ(d,u,c,g),f=new l.eC(d,c,p,g),y=new l.CM(g),v={bulletinService:new l.Gk(c),wsConnectionService:h,conversationService:f,stateService:new l.aU(c),settingsService:new l.Y7(c),knowledgeBaseService:y};u.addListeners("new-session-created",(e=>{s.Qr("Session token",e)}));const x=(0,o.sf)(m);(0,o.sE)(m),(0,o.MZ)(m)},9996:(e,t,n)=>{"use strict";n.d(t,{SB:()=>u,eg:()=>A,aw:()=>f,k5:()=>B,gp:()=>T,QJ:()=>v,i:()=>x,kZ:()=>b,CY:()=>L,SM:()=>M,G_:()=>y});var s=n(7),i=n(2920),a=n(7056),o=n(2224),r=n(2988),l=n(6356),c=n(4664);const d=(e,t,n)=>{return(0,l.pipe)(e,(0,a.withDecoder)((s=t,(0,a.toDecoder)(s.decode,(e=>new Error((0,c.ey)(e).join("\n")))))),(0,o.withHeaders)(n?.headers??{}),(0,r.withUrlParams)(n?.queryParams??{}));var s};class u{get(e,t,n){return d(s._M,t,n)(e)}post(e,t,n,a){return(0,l.pipe)(d(s.s$,t,a),(0,i.withBody)(n))(e)}}function p(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends Error{constructor(e){super(e),p(this,"type","UrlProviderNotDefinedError"),p(this,"name","UrlProviderNotDefinedError")}}var m=n(7488);function h(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f{get readyState(){return this.socket.readyState}constructor(){h(this,"socket",void 0),h(this,"urlProvider",void 0),this.socket=new m.c(this.safeUrlProvider.bind(this),void 0,{startClosed:!0,retryURL:!0,maxRetries:15})}initialize(e){this.urlProvider=e,this.socket.reconnect()}close(){this.socket.close(4001,"client closed")}reconnect(){this.socket.reconnect()}send(e){this.socket.send(e)}addEventListener(e,t){this.socket.addEventListener(e,t)}removeEventListener(e,t){this.socket.removeEventListener(e,t)}safeUrlProvider(){return null==this.urlProvider?Promise.reject(new g("urlProvider is not defined in ReconnectingWsClient, it should be provided when calling the initialize method")):this.urlProvider()}}function y(e){return t=>t.type===e}function v(e){return"deliver-message"===e.type&&"agent"===e.sender.from}function x(e){return"deliver-message"===e.type&&"user"===e.sender.from}function b(e){return"deliver-message"===e.type&&"system"===e.sender.from&&"subtype"in e.sender&&"chatbot"===e.sender.subtype}var w=n(6372),C=n(6312),I=n(292),j=n(1736),S=n(2550);function M(e,t,n,s=6e4){let i;const a=new Promise(((s,a)=>{i=e=>{(0,l.pipe)((0,C.Un)(e.data,w.Sq),j.fold((n=>{console.error(`Unexpected message received while waiting for response for message \n\n ${JSON.stringify(t)}`,"\n\n",e.data,"\n\n",n)}),(e=>{n(e)?s(e):"command-execution-failed"===e.type&&e.payload.command_id===t.id&&a(e)})))},e.addEventListener("message",i),e.send(JSON.stringify(t))}));return(0,I.S)(a,s,(o=t,`Timeout during wait for response for message ${JSON.stringify(o)}`)).finally((()=>{i&&e.removeEventListener("message",i)}));var o}function k(e,t,n){const s={id:(0,S.c)(),type:"message-delivered",payload:{conversation_id:e,message_id:t}};n.send(JSON.stringify(s))}var _=n(5160);class T{constructor(e,t){var n,s,i,a;this.eventEmitter=e,this.wsClient=t,n=this,i={},(s="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(s="enqueuedMessages"))?a:String(a))in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i,t.addEventListener("message",this.onMessageReceived.bind(this))}startEnqueuingConversationMessages(e){this.enqueuedMessages[e]=[]}stopEnqueuingConversationMessages(e){const t=this.enqueuedMessages[e];t&&(t.forEach((e=>{this.process(e)})),delete this.enqueuedMessages[e])}onMessageReceived(e){(0,l.pipe)((0,C.Un)(e.data,w.Sq),j.fold((e=>{console.warn("Unexpected message received over WebSocket",e.message)}),(e=>{"payload"in e&&"conversation_id"in e.payload&&e.payload.conversation_id in this.enqueuedMessages?this.enqueuedMessages[e.payload.conversation_id].push(e):this.process(e)})))}process(e){const t=(0,_.uS)(e);if(null!=t){const{eventType:e,payload:n}=t;this.eventEmitter.emit(e,n)}if(v(e)){const{conversation_id:t,message_id:n}=e.payload;k(t,n,this.wsClient)}}}var N=n(7176);const A=N.s$({history:N.M$(N.OI)});function L(e,t,n){let s=[];const i=[];for(const t of e)(0,l.pipe)((0,C.YP)(t,w.gT),j.fold((e=>{console.warn("Unexpected message received in conversation state",t,e)}),(e=>{i.push(e),v(e)&&(s=s.concat(e.payload.message_id)),"message-delivered"===e.type&&(s=s.filter((t=>t!==e.payload.message_id)))})));for(const e of s)k(t,e,n);return i}function $(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class B{constructor(){$(this,"sessionTokenPromise",void 0),$(this,"isSessionTokenAlreadyResolved",!1),$(this,"sessionTokenValueResolver",(()=>{})),this.sessionTokenPromise=new Promise((e=>{this.sessionTokenValueResolver=e}))}resolveSessionToken(e){this.isSessionTokenAlreadyResolved||(this.isSessionTokenAlreadyResolved=!0,this.sessionTokenValueResolver(e))}reset(){this.isSessionTokenAlreadyResolved=!1,this.sessionTokenPromise=new Promise((e=>{this.sessionTokenValueResolver=e}))}}},9712:(e,t,n)=>{"use strict";n.d(t,{Gk:()=>l,eC:()=>h,CM:()=>_,Om:()=>T.O,Qv:()=>T.Q,Y7:()=>x,aU:()=>b,QJ:()=>I});var s=n(172),i=n(228),a=n(6312),o=n(9760),r=n(6356);class l{constructor(e){this.httpClient=e}getBulletinUrl(e){return(0,a.qe)((0,r.pipe)(this.httpClient.get(`${s.Gc}/boards/${e}`,i.h9),o.rz((e=>e.error)),o.kH((e=>e.data))))}getBulletins(e){return(0,a.qe)((0,r.pipe)(this.httpClient.get(e,i.ae),o.rz((e=>e.error)),o.kH((e=>e.data))))}}var c=n(908),d=n(2488),u=n(9996),p=n(1736),g=n(4664),m=n(2550);class h{constructor(e,t,n,s){this.wsClient=e,this.httpClient=t,this.wsMessageProcessor=n,this.sessionManager=s}startConversation(e,t){const n={id:(0,m.c)(),type:"start-conversation",payload:{origin:e,language:t}};return(0,u.SM)(this.wsClient,n,(0,u.G_)("conversation-started"),3e4).then((e=>({conversationId:e.payload.conversation_id,orgName:e.payload.org_name})))}endConversation(e){const t={id:(0,m.c)(),type:"end-conversation",payload:{conversation_id:e}};return(0,u.SM)(this.wsClient,t,(0,u.G_)("conversation-ended"),1e4).then((e=>({conversationId:e.payload.conversation_id,kind:e.kind,messageId:e.id,timestamp:e.payload.timestamp})))}sendMessage(e){const t=this.buildConversationMessage(e);return this.wsClient.send(JSON.stringify(t)),{messageId:t.payload.message_id}}async sendMessageAndWaitForResponse(e){const t=this.buildConversationMessage(e),n=await(0,u.SM)(this.wsClient,t,(n=>"message-sent"===n.type&&n.payload.conversation_id===e.conversationId&&n.payload.message_id===t.payload.message_id));return{messageId:n.payload.message_id,response:n}}reportMessageSeen(e,t){const n={id:(0,m.c)(),type:"message-seen",payload:{conversation_id:t,message_id:e}};this.wsClient.send(JSON.stringify(n))}reportUserIsTyping(e){const t={id:(0,m.c)(),type:"message-typing-started",sender:{from:"user"},payload:{conversation_id:e}};this.wsClient.send(JSON.stringify(t))}buildConversationMessage(e){const t=d._c.decode(e);if(p.isLeft(t))throw new Error(`Invalid message input for sendMessage: ${(0,g.ey)(t.left)}`);const n=(0,m.c)(),s={conversation_id:e.conversationId,message_id:n,...(0,c.Qp)(e.content)};return{id:(0,m.c)(),sender:{from:"user"},type:"deliver-message",payload:s}}async getConversationState(e){this.wsMessageProcessor.startEnqueuingConversationMessages(e);const t=await this.sessionManager.sessionTokenPromise;return(0,a.qe)((0,r.pipe)(this.httpClient.get(`${s.G4}/v1/messenger/conversation-state/${e}?sessionToken=${t}`,u.eg),o.rz((e=>e.error)),o.kH((t=>{const n=(0,u.CY)(t.data.history,e,this.wsClient);return{history:(0,c.e6)(n)}})))).finally((()=>{setTimeout((()=>{this.wsMessageProcessor.stopEnqueuingConversationMessages(e)}))}))}}var f=n(6372);const y=f.Qf;var v=n(7176);class x{constructor(e){this.httpClient=e}getSettings(e){const t=`${s.G4}/v1/messenger/settings?messengerToken=${e}`;return(0,r.pipe)(this.httpClient.get(t,v.IB(y.props)),o.rz((e=>"ResponseError"===e.type&&401===e.response.status?new T.O:new T.Q)),o.kH((e=>e.data)))}}class b{constructor(e){this.httpClient=e}getState(e){return(0,a.qe)((0,r.pipe)(this.httpClient.get(`${s.G4}/v1/messenger/session-state?sessionToken=${e}`,f.s1),o.rz((e=>e.error)),o.kH((e=>(0,c.En)(e.data)))))}}var w=n(5500);function C(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class I{constructor(e,t,n,s){this.wsClient=e,this.eventEmitter=t,this.httpClient=n,this.sessionManager=s,C(this,"messengerToken",void 0),C(this,"pingTimer",void 0),C(this,"pongTimeoutTimer",void 0),this.wsClient.addEventListener("open",this.handleOpen.bind(this)),this.wsClient.addEventListener("close",this.handleClose.bind(this)),this.wsClient.addEventListener("message",this.handleMessage.bind(this))}initializeConnection({messengerToken:e,storedSessionToken:t,discardStoredSessionToken:n}){return new Promise((s=>{this.messengerToken=e,n&&this.sessionManager.reset(),this.wsClient.initialize(this.urlProvider.bind(this,t??void 0,n)),this.eventEmitter.addListeners("connection-status-changed",(({status:e})=>{"connected"===e&&s()}))}))}checkConnectionStatusManually(){this.sendPingMessage()}async identifyUser(e){try{const t=function(e){const t=(0,m.c)(),n="identify-me";switch(e.type){case"anonymous":return{id:t,type:n,payload:{type:"anonymous"}};case"claim":{const{name:s,email:i}=e;return{id:t,type:n,payload:{type:"claim",name:s,email:i}}}case"verified":return{id:t,type:n,payload:{type:"verified-jwe",token:e.payload.token}}}}(e);return await(0,u.SM)(this.wsClient,t,(0,u.G_)("identity-verified")),{wasSuccessful:!0,error:null}}catch(e){return f.Su.is(e)||f.Ud.is(e)?{wasSuccessful:!1,error:e}:(console.error("ConnectionService.identifyUser(): Error while trying to identify the user",e),{wasSuccessful:!1,error:null})}}async urlProvider(e,t=!1){return(0,w.G)(this.messengerToken,{customMessage:"ConnectionService: messengerToken is not set"}),this.eventEmitter.emit("connection-status-changed",{status:"connecting"}),t&&this.sessionManager.reset(),this.sessionManager.isSessionTokenAlreadyResolved&&(e=await this.sessionManager.sessionTokenPromise),t&&(e=void 0),function(e,t,n){const i={messengerToken:e,previousSessionToken:t};return(0,r.pipe)(n.post(`${s.G4}/v1/messenger/session`,f.G6,i),o.kH((e=>e.data.sessionToken)),o.rz((e=>e.error)))}(this.messengerToken,e,this.httpClient)().then(p.fold((e=>(this.eventEmitter.emit("connection-status-changed",{status:"disconnected"}),console.warn("ConnectionService: Cannot retrieve session token",e),Promise.reject(e))),(async t=>(t!==e&&this.eventEmitter.emit("new-session-created",{sessionToken:t}),this.sessionManager.resolveSessionToken(t),this.getWsUrl(t)))))}getWsUrl(e){return`${s.gb}?sessionToken=${e}`}async handleOpen(){if(!this.sessionManager.isSessionTokenAlreadyResolved)return void console.error("ConnectionService.handleOpen(): Session token is not resolved before calling this method");const e=await this.sessionManager.sessionTokenPromise;e?(this.schedulePingMessage(),this.eventEmitter.emit("connection-status-changed",{sessionToken:e,status:"connected"})):console.error("ConnectionService.handleOpen(): Session token promise is resolved to nullish value")}handleClose(){this.clearTimers(),this.eventEmitter.emit("connection-status-changed",{status:"disconnected"})}handleMessage(e){const t=(0,a.Un)(e.data,f.Sq);p.isRight(t)&&"pong"===t.right.type&&this.schedulePingMessage()}schedulePingMessage(){this.clearTimers(),this.pingTimer=setTimeout((()=>{this.pongTimeoutTimer=setTimeout(this.handlePongTimeoutTimer.bind(this),I.PONG_RESPONSE_TIMEOUT),this.sendPingMessage()}),I.PING_INTERVAL)}sendPingMessage(){const e={id:(0,m.c)(),type:"ping"};this.wsClient.send(JSON.stringify(e))}handlePongTimeoutTimer(){console.warn("ConnectionService: Pong response not received within timeout, reconnect"),this.clearTimers(),this.wsClient.reconnect()}clearTimers(){this.pingTimer&&(clearTimeout(this.pingTimer),this.pingTimer=void 0),this.pongTimeoutTimer&&(clearTimeout(this.pongTimeoutTimer),this.pongTimeoutTimer=void 0)}}C(I,"PING_INTERVAL",45e3),C(I,"PONG_RESPONSE_TIMEOUT",3e4);var j=n(8916),S=n(4012);function M(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k=`${s.G4}/v1/messenger/knowledge-base`;class _{constructor(e){this.sessionManager=e,M(this,"companyId",null),M(this,"categories",void 0),M(this,"articles",void 0),M(this,"account",void 0),M(this,"httpRequestAdapter",(async(e,t)=>{const{headers:n,...s}=t;return fetch(await this.buildURL(e),s)}));const t=f.Yn.requestFunctionsBuilder(this.httpRequestAdapter);this.categories=f.Yn.categoriesServiceBuilder(t),this.articles={...f.Yn.articlesServiceBuilder(t),getArticles:this.getArticles.bind(this)},this.account={...f.Yn.accountServiceBuilder(t),getArticleSettings:this.getArticleSettings.bind(this)}}setCompanyId(e){this.companyId=e}getArticles({params:{articleIds:e,languageId:t,pageUrl:n}}){return(0,r.pipe)(e,j.kH((e=>this.articles.getArticle({params:{languageId:t,pageUrl:n,articleId:e}}))),j.iC(S.uU),S.kH((0,r.flow)(j.IF(p.isRight),j.kH((e=>e.right)),j.IF((e=>200===e.response.status)))))()}getArticleSettings({params:{locale:e}}){const t=`https://ipa.elev.io/api/settings/${this.companyId}/${e||"en"}`;return fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>({data:e.settings,response:{...new Response,status:200}})))}withCompanyId(e){const t=new _(this.sessionManager);return t.setCompanyId(e),t}async buildURL(e){(0,w.G)(this.sessionManager.sessionTokenPromise,{customMessage:"KnowledgeBaseService: sessionToken is not set"}),(0,w.G)(this.companyId,{customMessage:"KnowledgeBaseService: companyId is not set"});const t=new URL(`${k}${e}`);return t.searchParams.append("sessionToken",await this.sessionManager.sessionTokenPromise),t.searchParams.append("companyId",this.companyId),t.toString()}}var T=n(6476)},6476:(e,t,n)=>{"use strict";function s(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{O:()=>i,Q:()=>a});class i extends Error{constructor(e="Messenger is either deleted or deactivated"){super(e),s(this,"name","MessengerNotFoundError"),s(this,"type","MessengerNotFoundError")}}class a extends Error{constructor(e="Failed to fetch the messenger due to unknown reasons"){super(e),s(this,"name","MessengerSettingsFetchFailedError"),s(this,"type","MessengerSettingsFetchFailedError")}}},292:(e,t,n)=>{"use strict";function s(e,t,n){let s;return Promise.race([e,new Promise(((e,i)=>{s=window.setTimeout((()=>{i(n)}),t)}))]).finally((()=>{window.clearTimeout(s)}))}function i(e){return Object.keys(e)}n.d(t,{C:()=>i,S:()=>s})},500:(e,t,n)=>{"use strict";function s(){return!1}n.d(t,{_c:()=>i,sP:()=>s});const i=!0},964:(e,t,n)=>{"use strict";function s(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e){const n=t.customMessage||`${t.variableName} should not be nullish, but it is ${typeof e}`;throw new a(n)}}n.d(t,{G:()=>i});class a extends Error{constructor(e){super(e),s(this,"type","NullishValueError"),s(this,"name","NullishValueError")}}},5500:(e,t,n)=>{"use strict";n.d(t,{G:()=>s.G});var s=n(964)},7256:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});class s{constructor(e={logToConsole:!1}){var t,n,s,i;this.options=e,t=this,s={},(n="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(n="listeners"))?i:String(i))in t?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s}addListeners(e,...t){const n=this.getListeners(e);null==n?this.listeners[e]=[...t]:n.push(...t)}removeListeners(e,...t){const n=this.getListeners(e);n&&t.forEach((e=>{const t=n.findIndex((t=>t===e));-1!==t&&n.splice(t,1)}))}removeAllListeners(){this.listeners={}}emit(e,t){const n=this.getListeners(e)||[];0!==n.length&&(this.options.logToConsole&&this.logEvent(e,t),n.forEach((n=>{try{n(t)}catch(t){console.error(`An error happened when calling event listener for\n           ${String(e)}.\n           This is caused by the event listener throwing an error`,t)}})))}logEvent(e,t){const n=this.formatLogTimestamp(),s=this.options.loggerName??"Typesafe Emitter";console.groupCollapsed(`%c[${s}] %c${String(e)} %c@ ${n}`,"color: #8b8b8b","","color: #8b8b8b"),console.log("Payload:",t),console.groupEnd()}formatLogTimestamp(){return(new Date).toLocaleTimeString(navigator.language,{hour:"2-digit",minute:"2-digit",second:"2-digit"})}getListeners(e){return this.listeners[e]}}},4700:(e,t,n)=>{"use strict";var s=n(8716);var i=n(7436),a=n(4024),o=n(500);class r{static isLocaleRTL(e){return Object.values(l).includes(e)}static getAppDirection(e){return this.isLocaleRTL(e)?"rtl":"ltr"}static isLocaleTranslated(e){return[...c].includes(e)}constructor(e){this.availableLocales=e}getEnabledLocales(){return this.availableLocales??["en"]}getAppLocale(e){return e&&this.isLocaleAvailable(e)?e:this.getUserPreferredLocale()}getUserPreferredLocale(){for(const e of window.navigator.languages){const t=e.split(/[-_]/)[0];if(this.isLocaleAvailable(t))return t}return(this.availableLocales||[])[0]||"en"}isLocaleAvailable(e){return this.availableLocales.includes(e)&&r.isLocaleTranslated(e)}}const l={Arabic:"ar",Aramaic:"arc",Azeri:"az",Divehi:"dv",Fula:"ff",Hebrew:"he",Kurdish:"ku",Persian:"fa",Syriac:"syr",Urdu:"ur"},c=["ar","da","de","en","es","et","fi","fr","hu","is","it","ja","ko","lt","lv","nl","no","pl","pt","ru","sv","th","tr","zh"];var d=n(7356),u=n(3456);const{color:p,typography:g}=u,m={};Object.entries(p).forEach((([e,t])=>{Object.entries(t).forEach((([t,n])=>{m[`${e}${t}`]=n}))}));const h={primaryBackground:"#0A0A0A",primary:"#FFFFFF",focus:"#5644D8",...Object.entries(g.color).reduce(((e,[t,n])=>{var s;return e[`text${s=t,s?s.charAt(0).toUpperCase()+s.substring(1,s.length).toLowerCase():""}`]=n,e}),{}),...m},f={system:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"'},y={colors:h,gradients:{mainGradient:"linear-gradient(129.4deg, rgba(74, 161, 173, 0.94) 0%, rgba(0, 64, 106, 0.94) 72.48%)",primaryHoverGradient:"linear-gradient(0deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.08))"},space:{50:"4px",100:"8px",200:"12px",300:"16px",400:"20px",500:"24px",600:"32px",700:"40px",800:"48px",900:"56px"},radii:{50:"2px",100:"4px",200:"6px",300:"8px",400:"10px",500:"12px",600:"16px",700:"20px",800:"24px",900:"28px"},fonts:f,textStyles:{headingH1:{font:f.system,weight:400,size:"80px",lineHeight:"125%",letterSpacing:"-0.02em"},headingH1Bold:{font:f.system,weight:600,size:"80px",lineHeight:"125%",letterSpacing:"-0.02em"},headingH2:{font:f.system,weight:400,size:"64px",lineHeight:"125%",letterSpacing:"-0.02em"},headingH2Bold:{font:f.system,weight:600,size:"64px",lineHeight:"125%",letterSpacing:"-0.02em"},headingH3:{font:f.system,weight:400,size:"48px",lineHeight:"125%",letterSpacing:"-0.02em"},headingH3Bold:{font:f.system,weight:600,size:"48px",lineHeight:"125%",letterSpacing:"-0.01em"},headingH4:{font:f.system,weight:400,size:"32px",lineHeight:"132%",letterSpacing:"-0.01em"},headingH4Bold:{font:f.system,weight:600,size:"32px",lineHeight:"132%",letterSpacing:"-0.01em"},headingH5:{font:f.system,weight:400,size:"24px",lineHeight:"132%",letterSpacing:"-0.005em"},headingH5Bold:{font:f.system,weight:600,size:"24px",lineHeight:"132%",letterSpacing:"-0.0075em"},headingH6:{font:f.system,weight:400,size:"20px",lineHeight:"140%",letterSpacing:"normal"},headingH6Bold:{font:f.system,weight:600,size:"20px",lineHeight:"140%",letterSpacing:"-0.004em"},subheading:{font:f.system,weight:400,size:"20px",lineHeight:"148%",letterSpacing:"-0.015em"},subheadingBold:{font:f.system,weight:600,size:"20px",lineHeight:"148%",letterSpacing:"-0.015em"},body:{font:f.system,weight:400,size:"14px",lineHeight:"145%",letterSpacing:"0.008em"},bodyBold:{font:f.system,weight:600,size:"14px",lineHeight:"145%",letterSpacing:"0.008em"},informative:{font:f.system,weight:400,size:"12px",lineHeight:"146%",letterSpacing:"0.0125em"},extraSmall:{font:f.system,weight:400,size:"10px",lineHeight:"160%",letterSpacing:"0.02em"},extraSmallBold:{font:f.system,weight:600,size:"10px",lineHeight:"160%",letterSpacing:"0.02em"},buttonText:{font:f.system,weight:600,size:"13px",lineHeight:"150%",letterSpacing:"-0.005em"}},shadows:{small:"0px 2px 8px rgba(19, 34, 68, 0.08)",large:"0px 8px 32px rgba(19, 34, 68, 0.08)",negative:"0px -4px 16px rgba(19, 34, 68, 0.08)",primaryInner:"inset 0px 4px 8px rgba(19, 34, 68, 0.5)",secondaryInner:"inset 0px 4px 8px rgba(215, 223, 234, 0.25)",focus:"0px 0px 8px rgba(57, 42, 167, 0.25)"},direction:"ltr"},{colors:v,gradients:x,space:b,radii:w,shadows:C}=function(e){const t={};return Object.keys(e).forEach((e=>{const n=e;t[n]=(e=>t=>n=>n.theme[e][t])(n)})),t}(y),I=e=>t=>{if(!("theme"in t)||"object"!=typeof t.theme)throw new Error("Theme not found");const n=t.theme.textStyles[e];return(0,d.gV)(["font-family:",";font-weight:",";font-size:",";line-height:",";letter-spacing:",";"],n.font,n.weight,n.size,n.lineHeight,n.letterSpacing)};var j=n(1504),S=n(7624);const M=()=>{const e=(0,j.useContext)(d.Oy);if(!e)throw new Error("Theme is not defined");return(0,S.jsx)(k,{theme:e})},k=(0,d.Ud)(["*{margin:0;padding:0;}a{color:","}input{direction:inherit;}"],v("textLink"));function _(e,t,n){return s=>{const i=s[e];return null==i&&n?t[n]??[]:t[i]??[]}}const T=(e,t)=>n=>function(e,t){let n=t.replace("#","");return 3===n.length&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),`rgba(${parseInt(n.substring(0,2),16)}, ${parseInt(n.substring(2,4),16)}, ${parseInt(n.substring(4,6),16)}, ${e})`}(t,n.theme.colors[e]),N={language:"en",theme:y,settings:{version:1,general:{description:{en:""},title:{en:""},bulletinBoardEnabled:!1,bulletinBoardId:null,availableLocales:["en"],minimumIdentification:"ANONYMOUS",integrations:{elevio:{companyId:"123456789",displayType:"display-button-for-access-to-articles"}}},style:{theme:{background:"purple"}},avatars:[]},ui:{closeButtonIsVisible:!1,isViewedOnSmallScreen:!1}},A=(0,a.is)({name:"application",initialState:N,reducers:{languageChanged(e,{payload:t}){e.language=t,e.theme.direction=r.getAppDirection(t)},themeChanged(e,{payload:t}){e.theme=t,t.direction||(e.theme.direction=r.getAppDirection(e.language))},settingsChanged(e,{payload:t}){e.settings=t},minimumIdentityRequirementChanged(e,{payload:t}){e.settings.general.minimumIdentification=t},closeButtonVisibilityChanged(e,{payload:t}){e.ui.closeButtonIsVisible=t},isViewedOnSmallScreenChanged(e,{payload:t}){e.ui.isViewedOnSmallScreen=t}}}),{languageChanged:L,themeChanged:$,settingsChanged:B,closeButtonVisibilityChanged:E,isViewedOnSmallScreenChanged:R,minimumIdentityRequirementChanged:q}=A.actions,O=A.reducer,z={getLanguage:e=>e.application.language,getLanguageDirection:e=>e.application.theme.direction,getIsAppRTL:e=>"rtl"===e.application.theme.direction,getTheme:e=>e.application.theme,getSettings:e=>e.application.settings,getUIState:e=>e.application.ui,getMinimumIdentityRequirement:e=>e.application.settings.general.minimumIdentification},P=e=>e=>async t=>{if(!L.match(t))return e(t);!function(e){try{const t=(document.getElementsByTagName("html")??[])[0];if(!t)return;t.setAttribute("lang",e),r.isLocaleRTL(e)&&t.setAttribute("dir","rtl")}catch(e){console.error("Failed to set the language on the html element",e)}}(t.payload),e(t)};var V=n(4336),F=n(5440),U=n(5500),H=n(1736),D=n(4664);function W(e){return e().then(H.foldW(Q,G))}function Q(e){const t=e._tag;switch(t){case"DecodeError":return{error:{type:t,message:(0,D.ey)(e.errors).join("\n")}};case"HttpError":return{error:{type:t,message:e.response.statusText},meta:e.response};case"RequestError":case"ContentParseError":return{error:{type:t,message:e.error.message}}}}function G({data:e,response:t}){return{data:e,meta:t}}var Z=n(6356);const Y=(0,V.KS)({reducerPath:"knowledgeBaseApi",baseQuery:(0,F.xE)(),endpoints:e=>({getAccountSettings:e.query({queryFn:async(e,t)=>{const{knowledgeBaseService:n}=await K(t),s=e?.companyId?n.withCompanyId(e.companyId):n;return(0,Z.pipe)(s.account.accountSettings(),W)}}),getArticleSettings:e.query({queryFn:async(e,t)=>{const{knowledgeBaseService:n,sharedParams:s}=await K(t);return(e?.companyId?n.withCompanyId(e.companyId):n).account.getArticleSettings({params:{locale:s.languageId}})}}),getCategoriesWithArticles:e.query({queryFn:async(e,t)=>{const{knowledgeBaseService:n,sharedParams:s}=await K(t),i=e?.companyId?n.withCompanyId(e.companyId):n;return(0,Z.pipe)(i.categories.getCategoriesWithArticles({params:{...s,limit:5,offset:0}}),W)}}),getCategoryArticles:e.query({queryFn:async({limit:e,categoryId:t,companyId:n},s)=>{const{knowledgeBaseService:i,sharedParams:a}=await K(s),o=n?i.withCompanyId(n):i;return(0,Z.pipe)(o.articles.getCategoryArticles({params:{...a,categoryId:t,limit:e,offset:0}}),W)}}),getSuggestedArticles:e.query({queryFn:async(e,t)=>{const{knowledgeBaseService:n,sharedParams:s}=await K(t),i=e?.companyId?n.withCompanyId(e.companyId):n;return(0,Z.pipe)(i.articles.suggestFromContextArticles({body:{...s,autosuggest:!0,keywords:[],paging:{limit:5,offset:0}}}),W)}}),searchArticles:e.query({queryFn:async(e,t)=>{const{knowledgeBaseService:n,sharedParams:s}=await K(t);if(e.text.length<3)return Promise.resolve({data:void 0,error:{status:400,data:{message:"Bad Request"}}});const i=e.companyId?n.withCompanyId(e.companyId):n;return(0,Z.pipe)(i.articles.searchArticles({body:{...s,...e}}),W)}}),getArticle:e.query({queryFn:async({articleId:e,companyId:t},n)=>{const{knowledgeBaseService:s,sharedParams:i}=await K(n),a=t?s.withCompanyId(t):s;return(0,Z.pipe)(a.articles.getArticle({params:{articleId:e,...i}}),W)}}),getArticles:e.query({queryFn:async({articleIds:e,companyId:t},n)=>{const{knowledgeBaseService:s,sharedParams:i}=await K(n);return(t?s.withCompanyId(t):s).articles.getArticles({params:{articleIds:e,...i}}).then((e=>({data:e.map((({data:e})=>e.data.article))})))}}),articleFeedback:e.query({queryFn:async(e,t)=>{const{articleId:n,companyId:s,...i}=e,{knowledgeBaseService:a,sharedParams:o}=await K(t),r=s?a.withCompanyId(s):a;return(0,Z.pipe)(r.articles.articleFeedback({params:{articleId:n},body:{...i,pageUrl:o.pageUrl}}),W)}}),articleComment:e.query({queryFn:async(e,t)=>{const{articleId:n,companyId:s,...i}=e,{knowledgeBaseService:a,sharedParams:o}=await K(t),r=s?a.withCompanyId(s):a;return(0,Z.pipe)(r.articles.articleComment({params:{articleId:n},body:{...i,pageUrl:o.pageUrl}}),W)}}),articleView:e.query({queryFn:async(e,t)=>{const{knowledgeBaseService:n,sharedParams:{pageUrl:s}}=await K(t),{articleId:i,articleTitle:a,companyId:o}=e,r=o?n.withCompanyId(o):n;return(0,Z.pipe)(r.articles.articleView({params:{articleId:i},body:{articleTitle:a,pageUrl:s}}),W)}})})});async function K(e){const{services:{knowledgeBaseService:t},channelToShim:n}=e.extra,s=e.getState();(0,U.G)(s.widget.initializationData,{customMessage:"initializationData not set in widget state"});const{language:i}=s.application;try{return{knowledgeBaseService:t,sharedParams:{pageUrl:await n.getShimOrigin(),languageId:i}}}catch(e){return console.error(e),{knowledgeBaseService:t,sharedParams:{pageUrl:"",languageId:i}}}}var J=n(908),X=n(7176);const ee=X.s$({message:X.Qb});function te(e){return e instanceof Error||"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message?e.message:"object"==typeof e&&null!==e&&"type"in e&&"string"==typeof e.type&&"ResponseError"!==e.type&&"response"in e&&"object"==typeof e.response&&null!==e.response&&"statusText"in e.response&&"string"==typeof e.response.statusText?(console.log(e),e.response.statusText):"string"==typeof e?e:"Unknown error"}var ne=n(172),se=n(6312);function ie(e){return{Authorization:`Bearer ${e}`}}const ae=X.s$({name:X.Qb,url:X.Qb,sha256Checksum:X.Qb,size:X.CQ}),oe=X.s$({files:X.M$(ae)}),re={async uploadFile({file:e,httpClient:t,sessionToken:n}){const s=new FormData;s.append("parts",e);try{const e=await(0,se.qe)(t.post(`${ne.m8}/v1/files`,oe,s,{headers:ie(n)})),i=e.data.files?.[0];return void 0===i?{message:"Invalid response from server"}:i}catch(e){return{message:te(e)}}},downloadFileById:({fileID:e,sessionToken:t,abortSignal:n})=>re.downloadFileByUrl({url:`${ne.m8}/v1/files/${e}`,sessionToken:t,abortSignal:n}),async downloadFileByUrl({url:e,sessionToken:t,abortSignal:n}){try{const s=await fetch(e,{signal:n,headers:{...ie(t),accept:"application/octet-stream"}});return await s.blob()}catch(e){return{message:te(e)}}}};function le(e){window.URL.revokeObjectURL(e)}const ce=document.createElement("a"),de={"csat-request":"csat-response","contact-form-request":"contact-form-response","chat-input-request":"chat-input-response","chat-menu-request":"chat-menu-response","form-request":"form-response"},ue=function(e){const t={};return Object.entries(e).forEach((([e,n])=>{t[n]=e})),t}(de),pe=e=>ue[e],ge=e=>de[e],me=Object.keys(de);function he(e,t){const{inputContent:n}=e;if("attachments"!==n.type)return;if(!t)return n.attachments.forEach((e=>{"url"in e&&le(e.url)})),void(e.inputContent={type:"empty"});const s=n.attachments.findIndex((e=>e.id===t));if(-1===s)return;const i=n.attachments[s];i&&"url"in i&&le(i.url);const a=n.attachments.filter(((e,t)=>t!==s));e.inputContent=a.length?{type:"attachments",attachments:a}:{type:"empty"}}var fe=n(6372),ye=n(8888);const ve=(0,a.is)({name:"widget",initialState:{initializationData:void 0,initialized:!1,connectionStatus:"disconnected",isOpen:!1,sessionToken:void 0,isFocused:!1,userIdentityVerificationRequestStatus:"initial",initializeConnectionWasRequested:!1,firstMountCompleted:!1,autoIdentificationAllowed:!0,isUserBanned:!1},reducers:{setOriginalInitData(e,t){e.originalInitData=t.payload},initializeWidget(e,{payload:t}){const{messengerToken:n,storedSessionToken:s}=t;e.initializationData={messengerToken:n,storedSessionToken:s}},userIdentityChanged(e,{payload:t}){e.userIdentity=t},toggled(e,{payload:t}){e.isOpen=t},setInitializeConnectionWasRequested(e,{payload:t}){e.initializeConnectionWasRequested=t},setFirstMountCompleted(e){e.firstMountCompleted=!0},connectionStatusChanged(e,{payload:t}){"connected"===t.status&&(e.sessionToken=t.sessionToken,e.initialized||(e.initialized=!0)),e.connectionStatus=t.status},widgetFocusChanged(e,{payload:t}){e.isFocused=t},tabVisibilityStateChanged(e,{payload:t}){e.tabVisibilityState={state:t,lastChangedAt:(new Date).toISOString()}},updateSessionToken(e,{payload:t}){e.sessionToken=t},updateStoredSessionToken(e,{payload:t}){e.initializationData&&(e.initializationData.storedSessionToken=t)},updateAutoIdentificationAllowed(e,{payload:t}){e.autoIdentificationAllowed=t},userBanned(e,t){e.isUserBanned=!0},userUnbanned(e,t){e.isUserBanned=!1}},extraReducers:e=>{e.addCase(Ze.pending,(e=>{e.userIdentityVerificationRequestStatus="pending"})).addCase(Ze.fulfilled,(e=>{e.userIdentityVerificationRequestStatus="fulfilled"})).addCase(Ze.rejected,(e=>{e.userIdentityVerificationRequestStatus="rejected"}))}}),{setOriginalInitData:xe,initializeWidget:be,userIdentityChanged:we,toggled:Ce,connectionStatusChanged:Ie,widgetFocusChanged:je,tabVisibilityStateChanged:Se,setInitializeConnectionWasRequested:Me,setFirstMountCompleted:ke,updateSessionToken:_e,updateStoredSessionToken:Te,updateAutoIdentificationAllowed:Ne,userBanned:Ae,userUnbanned:Le}=ve.actions,$e=ve.reducer,Be=e=>e.widget.sessionToken,Ee=e=>e.widget.initializationData,Re=e=>e.widget.initialized,qe=e=>e.widget.initializeConnectionWasRequested,Oe=e=>e.widget.firstMountCompleted,ze=e=>e.widget.isOpen,Pe=((0,ye.M3)([e=>e.widget.isOpen,e=>e.widget.isFocused],((e,t)=>e&&t)),({widget:e})=>e.userIdentity),Ve=({widget:{userIdentity:e}})=>"claim"===e?.type?e.email:void 0,Fe=({widget:{userIdentity:e}})=>"claim"===e?.type?e.name:void 0,Ue=({widget:{userIdentity:e}})=>"anonymous"===e?.type??!0,He=e=>e.widget.userIdentityVerificationRequestStatus,De=e=>e.widget.autoIdentificationAllowed,We=e=>e.widget.isUserBanned,Qe=({discardStoredSessionToken:e})=>(t,n,s)=>{const{wsConnectionService:i}=s.services,a=Ee(n());(0,U.G)(a,{customMessage:"Initialization Data is not set in RootState"});const o=Pe(n());(0,U.G)(o,{customMessage:"User identity is not set in RootState"});const{messengerToken:r,storedSessionToken:l}=a;return i.initializeConnection({messengerToken:r,storedSessionToken:l,discardStoredSessionToken:e})},Ge=(0,a.aw)("widget/restoreState",(async(e,t)=>{const{stateService:n}=t.extra.services,{connectionStatus:s}=t.getState().widget;return n.getState(e).then((e=>("disconnected"===s&&e.openConversations.length>0&&t.dispatch(Qe({discardStoredSessionToken:!1})),e)))})),Ze=(0,a.aw)("widget/identifyUser",(async(e,{extra:t,dispatch:n,rejectWithValue:s})=>{const{services:i,channelToShim:a}=t,{wasSuccessful:o,error:r}=await i.wsConnectionService.identifyUser(e);return o&&!r?(n(we(e)),"claim"!==e.type&&"verified"!==e.type||a.send("store-user-identity",e),e):fe.Su.is(r)||fe.Ud.is(r)?s(r):s(null)})),Ye=(0,a.aw)("widget/identifyUserWithSessionRenewalRetry",(async(e,{dispatch:t,rejectWithValue:n})=>{try{await t(Ze(e)).unwrap()}catch(s){return fe.Ud.is(s)?n(s):t(Ke(e)).unwrap()}})),Ke=(0,a.aw)("widget/invokeCurrentSessionAndStartNewOne",(async(e,{extra:t,dispatch:n})=>{t.channelToShim.send("current-session-invalidated"),n(_e(void 0)),n(Ne(!1)),await n(Qe({discardStoredSessionToken:!0})),n(nn());try{await n(Ze(e)).unwrap(),n(Ne(!0))}catch(e){console.error("Failed to identify the user with the new identity",e)}}));function Je(e,t){const{messageId:n,content:s,timestamp:i}=e;return{type:"userSentMessage",id:n,content:s,status:t,createdAt:i}}const Xe={fromAgent(e){const{messageId:t,content:n,agentId:s,timestamp:i}=e;return{type:"agentMessage",id:t,content:n,agentId:s,createdAt:i}},fromSystem(e){const{messageId:t,content:n,timestamp:s}=e;return{type:"systemRequest",id:t,content:n,createdAt:s}},fromChatbot(e){const{messageId:t,content:n,timestamp:s,chatbotId:i}=e;return{type:"chatbotMessage",id:t,content:n,chatbotId:i,createdAt:s}}};var et=n(292);const tt=()=>(e,t,n)=>{n.channelToShim.send("remove-user-identity")};let nt={};function st(){nt={"messaging-allowed":Bt,"messaging-disallowed":Et,"message-received":Ft,"agent-assigned":Rt,"agent-unassigned":qt,"conversation-ended":Ut,"message-sent":Dt,"message-delivered":Wt,"message-seen":Qt,"connection-status-changed":Ie,"user-message-echoed":Zt,"new-session-created":tt,"agent-assignment-requested":tn,"agent-typing-started":Xt,"chatbot-typing-started":en,"sender-joined":sn,"user-banned":Ae,"user-unbanned":Le}}function it(e){return nt[e]}var at=n(2328);const ot=e=>(t,n,s)=>{const{conversationService:i}=s.services;i.getConversationState(e).then((e=>{(0,at.wN)((()=>{e.history.forEach((({eventType:e,payload:n})=>{const s=it(e);if(s){const e=s(n);t(e)}}))}))})).catch((t=>{console.warn(`Cannot restore state for conversationId ${e}`,t)})).finally((()=>{t(Gt({conversationId:e}))}))},rt=(0,a.aw)("message/send",((e,t)=>{const n=Be(t.getState());if(!n)throw new Error("No sessionToken defined");const{conversationId:i,attachments:a}=e;return Promise.all(a.map((async e=>{const a=await re.uploadFile({sessionToken:n,file:e.file,httpClient:s.ox});if(ee.is(a))throw t.dispatch(zt({conversationId:i,error:a.message,attachmentId:e.id})),new Error(a.message);const o={...a,checksum:a.sha256Checksum,id:e.id,contentType:e.file.type};return t.dispatch(Ot({conversationId:i,attachment:o})),{conversationId:i,attachment:o}})))})),lt=(0,a.aw)("conversation/sendMessageRequestAndWaitForResponse",(async(e,t)=>{const{conversationService:n}=t.extra.services,s=await n.sendMessageAndWaitForResponse(e),i={from:"user",conversationId:s.response.payload.conversation_id,messageId:s.messageId,content:e.content,timestamp:s.response.payload.timestamp??(new Date).toISOString(),initialStatus:"sent"};return t.dispatch(Ht(i)),i}));var ct=n(2312);const dt=e=>e.conversation.conversations,ut=e=>e.conversation.messageSenders.agents,pt=(e,t)=>n=>s=>{const i=s.conversation.conversations[n];return i?t(i):e},gt=e=>(0,ye.M3)(dt,(t=>(0,Z.pipe)(t,ct.filter((t=>t.status===e))))),mt=gt("open"),ht=(0,ye.M3)(mt,(e=>Object.keys(e).length>0)),ft=(e,t)=>e.conversation.conversations[t]?.unseenMessagesIds??[],yt=(e,t)=>e.conversation.conversations[t]?.initStatus,vt=(0,ye.M3)(yt,ft,((e,t)=>wt(e,t))),xt=e=>{const t={};return Object.entries(e.conversation.conversations).forEach((([e,{initStatus:n,status:s,agentId:i,unseenMessagesIds:a}])=>{t[e]={initStatus:n,status:s,agentId:i,unseenMessagesIds:a}})),t},bt=e=>(0,ye.M3)(xt,ut,((t,n)=>{let s=0;const i=new Set,a=e?Object.values(t).filter((t=>t.status===e)):Object.values(t);for(const e of a){const t=wt(e.initStatus,e.unseenMessagesIds);if(t>0){s+=t;const a=e.agentId?n[e.agentId].name:"Dixa";i.add(a)}}return{count:s,senders:Array.from(i)}}));function wt(e,t){return e?"initialized"===e.status?t.length:e.unseenMessagesCount+t.length:t.length}const Ct=(0,ye.M3)(mt,(e=>{if(Object.keys(e).length>0){const[t,n]=Object.entries(e)[0];return{conversationId:t,unseenCount:wt(n.initStatus,n.unseenMessagesIds)}}})),It=(0,ye.M3)(mt,(e=>{const t=Object.keys(e);if(0!==t.length)return t[0]})),jt=e=>t=>e?t.conversation.messageSenders.agents[e]:void 0,St=pt(void 0,(e=>e.agentId)),Mt={getConversations:dt,getOpenConversations:mt,hasOpenConversations:ht,getLatestOpenConversationId:It,getClosedConversations:gt("closed"),getAgents:ut,getSystemSender:e=>e.conversation.messageSenders.system,getChatbotSenders:e=>e.conversation.messageSenders.chatbots,doesConversationExist:pt(!1,(()=>!0)),getConversationMessagingAllowed:pt(!1,(e=>e.messagingAllowed)),getConversationHasEnded:pt(!1,(e=>"closed"===e.status)),getConversationEntries:pt([],(e=>on.selectAll(e.entries))),getAgentById:e=>t=>e?t.conversation.messageSenders.agents[e]:void 0,getChatbotById:e=>t=>e?t.conversation.messageSenders.chatbots[e]:void 0,getAgentAssignmentStatus:pt(void 0,(e=>e.agentAssignmentStatus)),getAgentByIdIfExists:jt,getConversationInputContent:pt({type:"empty"},(e=>e.inputContent)),getConversationAgentId:St,getConversationHasAnAgentAssigned:pt(!1,(e=>"assigned"===e.agentAssignmentStatus&&Boolean(e.agentId))),getConversationChatbotId:pt(void 0,(({chatbotId:e})=>e)),getConversationAgent:e=>t=>{const n=St(e)(t);return jt(n)(t)},getConversationMessageCount:pt(0,(e=>on.selectEntitiesCount(e.entries))),getConversationInitStatus:yt,getConversationUnseenMessagesIds:ft,getConversationUnseenMessagesCount:vt,getAllConversationsUnseenCount:bt(),getClosedConversationsUnseenCount:bt("closed"),isMessageUnseen:(e,t)=>n=>ft(n,e).includes(t),getConversationOrgName:pt(void 0,(e=>e.orgName)),getSubmittedResponseToSystemRequest:e=>pt(void 0,(t=>{if("userSentMessage"===e.type)return;const n=(s=on.selectAll(t.entries),i=e,s.filter((e=>{const t=i.content.type;if(n=t,!me.some((e=>e===n)))return!1;var n;const s=ge(t);return"userSentMessage"===e?.type&&e.content.type===s&&e.content.replyToMessageId===i.id})));var s,i;return 0!==n.length?n[n.length-1]:void 0})),getSystemRequestEntryByResponse:(e,t)=>n=>{const s=n.conversation.conversations[e]?.entries.entities;if(s&&(e=>"userSentMessage"===e.type&&Object.keys(ue).includes(e.content.type))(t))return function(e,t){return e.find((e=>{if("systemRequest"===e.type||"chatbotMessage"===e.type||"agentMessage"===e.type){const n=pe(t.content.type);return e.content.type===n&&t.content.replyToMessageId===e.id}return!1}))}(Object.values(s),t)},getConversationClosedKind:pt(void 0,(e=>e.meta?.closedKind)),hasEntryVisibleDetails:e=>pt(!1,(t=>t.entryWithVisibleDetails?.messageId===e)),getOpenConversationStatus:Ct,getIsUserTyping:pt(!1,(e=>e.userIsTyping)),getIsAgentTyping:pt(!1,(e=>"agentTyping"===on.selectLast(e.entries)?.type)),getIsChatbotTyping:pt(!1,(e=>"chatbotTyping"===on.selectLast(e.entries)?.type))},kt=(0,a.aw)("conversation/start",(async(e,t)=>{const{services:{conversationService:n},channelToShim:s}=t.extra,{language:i}=t.getState().application;try{const e=await s.getShimOrigin();return await n.startConversation(e,i)}catch(e){if(fe.oP.is(e)||fe.Gk.is(e)||fe.Su.is(e))throw t.rejectWithValue(e),e;return t.rejectWithValue(null)}}),{condition:(e,{getState:t})=>{const n=t(),s=Mt.hasOpenConversations(n);return!("pending"===n.conversation.asyncCalls.startConversation||s)}}),_t=(0,a.aw)("conversation/end",(async(e,t)=>{const{conversationService:n}=t.extra.services;if(Mt.getConversationHasEnded(e.conversationId)(t.getState()))return t.rejectWithValue(void 0);try{return await n.endConversation(e.conversationId)}catch{return t.rejectWithValue(void 0)}})),Tt=(Nt=e=>e.id,{getInitialState:()=>({ids:[],entities:{}}),addOne:(e,t)=>{const n=Nt(t);return e.ids.includes(n)||(e.ids.push(n),e.entities[n]=t),e},updateOne:(e,{id:t,changes:n})=>{const s=e.entities[t];return s&&(e.entities[t]={...s,...n}),e},getSelectors:()=>({selectAll:e=>e.ids.map((t=>e.entities[t])),selectById:(e,t)=>e.entities[t],selectEntitiesCount:e=>e.ids.length,selectLast:e=>e.ids.length>0?e.entities[e.ids[e.ids.length-1]]:void 0})});var Nt;const At={conversations:{},messageSenders:{agents:{},chatbots:{},system:null},asyncCalls:{startConversation:"settelled"}};function Lt(e,t,n){const{conversationId:s,agent:i,lastMessage:a,orgName:o}=t;if(null!=e.conversations[s]&&"open"===e.conversations[s].status)return;i&&(e.messageSenders.agents[i.id]=i);let r=Tt.getInitialState();if("closed"===n&&a){const e="agent"===a.from?Xe.fromAgent(a):Je(a,"sent");r=Tt.addOne(r,e)}e.conversations[s]={messagingAllowed:!1,agentAssignmentStatus:"notAssigned",initStatus:{status:"uninitialized",unseenMessagesCount:t.unseenMessagesCount},status:n,entries:r,inputContent:{type:"empty"},agentId:i?.id,unseenMessagesIds:[],orgName:o,entryWithVisibleDetails:null,userIsTyping:!1}}const $t=(0,a.is)({name:"conversation",initialState:At,reducers:{resetConversationStateToDefault:()=>At,messagingAllowed(e,{payload:t}){const n=e.conversations[t.conversationId];n&&(n.messagingAllowed=!0)},messagingDisallowed(e,{payload:t}){e.conversations[t.conversationId]&&(e.conversations[t.conversationId].messagingAllowed=!1)},agentAssignmentRequested(e,{payload:t}){const n=e.conversations[t.conversationId];if(!n)return;n.agentAssignmentStatus="assignmentRequested";const s={type:"agent-assignment-requested",id:t.id,createdAt:t.timestamp};Tt.addOne(n.entries,s)},agentAssigned(e,{payload:t}){const{agent:n,conversationId:s,timestamp:i,messageId:a}=t,o=e.conversations[s];if(!o)return;e.messageSenders.agents[n.id]&&e.messageSenders.agents[n.id].name===n.name||(e.messageSenders.agents[n.id]=n),o.agentId=n.id,o.agentAssignmentStatus="assigned";const r={type:"assignment",id:a,agentId:n.id,createdAt:i};Tt.addOne(o.entries,r)},agentUnassigned(e,{payload:t}){const{agent_id:n,conversationId:s,timestamp:i,messageId:a}=t,o=e.conversations[s];if(!o)return;const r={type:"agentLeft",id:a,agentId:n,createdAt:i};Tt.addOne(o.entries,r)},senderJoined(e,{payload:{conversationId:t,messageSender:n,timestamp:s,messageId:i}}){const a=e.conversations[t];if(a)switch(n.type){case"agent":{const t=(0,J.gh)(n);e.messageSenders.agents[n.id]||(e.messageSenders.agents[n.id]=t),a.agentId=t.id,a.agentAssignmentStatus="assigned";const o={type:"assignment",id:i,agentId:t.id,createdAt:s};Tt.addOne(a.entries,o);break}case"system":{const t=(0,J.yG)(n);e.messageSenders.system||(e.messageSenders.system=t);break}case"chatbot":{const t=(0,J.sb)({name:n.name,id:n.id,avatarUrl:n.avatarUrl??null});e.messageSenders.chatbots[n.id]||(e.messageSenders.chatbots[n.id]=t),a.chatbotId=t.id;const o={type:"chatbotJoinedConversation",id:i,chatbotId:t.id,createdAt:s};Tt.addOne(a.entries,o);break}}},textChanged(e,{payload:t}){const{text:n}=t;e.conversations[t.conversationId].inputContent=n?{type:"text",content:n}:{type:"empty"}},messageRequestSent:function(e,{payload:t}){const{content:n,conversationId:s}=t,i=Je(t,t.initialStatus??"sending"),a=e.conversations[s];switch(Tt.addOne(a.entries,i),n.type){case"attachment":const{id:e}=n;he(a,e);break;case"text":a.inputContent={type:"empty"}}},attachmentUploaded(e,{payload:t}){const n=e.conversations[t.conversationId];if(n&&"attachments"===n.inputContent.type){const{attachments:e}=n.inputContent;n.inputContent.attachments=e.map((e=>e.id===t.attachment.id?t.attachment:e))}},attachmentUploadFailed(e,{payload:t}){console.error("Failed to sendMessage",t.error);const n=e.conversations[t.conversationId];if(n&&"attachments"===n.inputContent.type){const{attachments:e}=n.inputContent;n.inputContent.attachments=e.map((e=>e.id===t.attachmentId?{...e,isLoading:!1}:e))}},attachmentDeleted(e,{payload:t}){const{attachmentId:n,conversationId:s}=t;he(e.conversations[s],n)},messageReceived:function(e,{payload:t}){if(!t.conversationId)return;const n=e.conversations[t.conversationId];if(n){switch(t.from){case"agent":{const e=Xe.fromAgent(t);Tt.addOne(n.entries,e);break}case"system":{const e=Xe.fromSystem(t);Tt.addOne(n.entries,e);break}case"chatbot":{const e=Xe.fromChatbot(t);Tt.addOne(n.entries,e);break}}n.unseenMessagesIds.push(t.messageId)}},userMessageEchoed(e,{payload:t}){const{conversationId:n}=t,s=Je(t,"sent"),i=e.conversations[n];i&&Tt.addOne(i.entries,s)},messageSent(e,{payload:t}){const{conversationId:n,messageId:s,timestamp:i}=t,a=e.conversations[n]?.entries.entities[s];if(a&&"userSentMessage"===a?.type&&"sending"===a.status){const t=e.conversations[n].entries;Tt.updateOne(t,{id:s,changes:{createdAt:i,status:"sent"}})}},messageDelivered(e,{payload:t}){const{conversationId:n,messageId:s,timestamp:i}=t,a=e.conversations[n]?.entries.entities[s];if(a&&"userSentMessage"===a?.type&&"seen"!==a.status){const t=e.conversations[n].entries;Tt.updateOne(t,{id:s,changes:{createdAt:i,status:"delivered"}})}},messageSeen(e,{payload:t}){const{conversationId:n,messageId:s,timestamp:i}=t,a=e.conversations[n],o=a?.entries.entities[s];if(!o)return;const r=e.conversations[n].entries;"userSentMessage"===o.type?Tt.updateOne(r,{id:s,changes:{createdAt:i,status:"seen"}}):"agentMessage"!==o.type&&"systemRequest"!==o.type&&"chatbotMessage"!==o.type||(a.unseenMessagesIds=a.unseenMessagesIds.filter((e=>e!==s)))},conversationEnded(e,{payload:t}){const{conversationId:n,kind:s}=t,i=e.conversations[n];i&&(i.status="closed",i.meta||(i.meta={closedKind:void 0}),i.meta.closedKind=s,he(i))},conversationInitialized(e,{payload:t}){const n=e.conversations[t.conversationId];n&&(n.initStatus={status:"initialized"})},entryWithVisibleDetailsToggled(e,{payload:t}){const{conversationId:n,messageId:s}=t,i=e.conversations[n];i&&(i.entryWithVisibleDetails?.messageId===s?i.entryWithVisibleDetails=null:i.entryWithVisibleDetails={messageId:s})},userTypingStarted(e,{payload:t}){const n=e.conversations[t.conversationId];n&&(n.userIsTyping=!0)},userTypingEnded(e,{payload:t}){const n=e.conversations[t.conversationId];n&&(n.userIsTyping=!1)},agentTypingStarted(e,{payload:t}){const n=e.conversations[t.conversationId];if(!n)return;if(!n.agentId)return;const s={type:"agentTyping",createdAt:t.timestamp,id:t.messageId,agentId:n.agentId};Tt.addOne(n.entries,s)},chatbotTypingStarted(e,{payload:t}){const n=e.conversations[t.conversationId];if(!n)return;if(!n.chatbotId)return;const s={type:"chatbotTyping",createdAt:t.timestamp,id:t.messageId,chatbotId:n.chatbotId};Tt.addOne(n.entries,s)}},extraReducers:e=>{e.addCase(kt.pending,(e=>{e.asyncCalls.startConversation="pending"})).addCase(kt.rejected,(e=>{e.asyncCalls.startConversation="settelled"})).addCase(kt.fulfilled,((e,{payload:t})=>{if(!t?.conversationId)return e.asyncCalls.startConversation="settelled",e;e.asyncCalls.startConversation="settelled",e.conversations[t.conversationId]=function(e){return{agentAssignmentStatus:"notAssigned",messagingAllowed:!1,initStatus:{status:"initialized"},status:"open",entries:Tt.getInitialState(),inputContent:{type:"empty"},unseenMessagesIds:[],orgName:e.orgName,entryWithVisibleDetails:null,userIsTyping:!1}}(t)})).addCase(rt.pending,((e,{meta:t})=>{const{conversationId:n}=t.arg,s=e.conversations[n];if(!s)return;const i=t.arg.attachments.map((({id:e})=>({id:e,isLoading:!0})));switch(s.inputContent.type){case"attachments":s.inputContent.attachments=s.inputContent.attachments.concat(i);break;case"empty":s.inputContent={type:"attachments",attachments:i}}})).addCase(Ge.fulfilled,((e,{payload:t})=>{const{openConversations:n,closedConversations:s}=t;n.forEach((t=>{Lt(e,t,"open")})),s.forEach((t=>{Lt(e,t,"closed")}))}))}}),{messagingAllowed:Bt,messagingDisallowed:Et,agentAssigned:Rt,agentUnassigned:qt,attachmentUploaded:Ot,attachmentUploadFailed:zt,attachmentDeleted:Pt,textChanged:Vt,messageReceived:Ft,conversationEnded:Ut,messageRequestSent:Ht,messageSent:Dt,messageDelivered:Wt,messageSeen:Qt,conversationInitialized:Gt,userMessageEchoed:Zt,entryWithVisibleDetailsToggled:Yt,userTypingStarted:Kt,userTypingEnded:Jt,agentTypingStarted:Xt,chatbotTypingStarted:en,agentAssignmentRequested:tn,resetConversationStateToDefault:nn,senderJoined:sn}=$t.actions,an=$t.reducer,on=Tt.getSelectors();var rn=n(9212),ln=n.n(rn);const cn=e=>{const t=ln()((t=>e.dispatch((({conversationId:e})=>(t,n,{services:s})=>{s.conversationService.reportUserIsTyping(e)})({conversationId:t}))),5e3,{leading:!0,trailing:!1});return e=>n=>{Kt.match(n)?(t(n.payload.conversationId),e(n)):e(n)}};var dn=n(3336),un=n.n(dn);const pn=e=>{const t=un()((t=>e.dispatch(Jt({conversationId:t}))),750);return n=>s=>{var i;Vt.match(s)?(i=s.payload.conversationId,e.dispatch(Kt({conversationId:i})),t(i),n(s)):n(s)}};var gn=n(2550);function mn(){return(0,gn.c)()}function hn(e,t,n){return e.filter((e=>e[t]!==n))}const fn=new class{getInitialState(){return{queuedNotifications:[],visibleNotifications:[]}}add(e,t){e.queuedNotifications.push(t)}removeQueued(e,t){e.queuedNotifications=hn(e.queuedNotifications,"id",t.id)}show(e,t){const n=e.queuedNotifications.findIndex((({id:e})=>e===t.id));n>-1&&(e.visibleNotifications.push(e.queuedNotifications[n]),e.queuedNotifications.splice(n,1))}removeVisible(e,t){const n="string"==typeof t?t:t.id;e.visibleNotifications=hn(e.visibleNotifications,"id",n)}},yn=(0,a.is)({name:"notifications",initialState:fn.getInitialState(),reducers:{notificationQueued(e,{payload:t}){fn.add(e,t)},notificationDequeued(e,{payload:t}){fn.removeQueued(e,t)},notificationShowed(e,{payload:t}){fn.show(e,t)},notificationRemoved(e,{payload:t}){fn.removeVisible(e,t)},notificationRemovedById(e,{payload:t}){fn.removeVisible(e,t)}}}),vn=(0,a.Uh)("notification/notificationQueue"),{notificationDequeued:xn,notificationQueued:bn,notificationShowed:wn,notificationRemoved:Cn,notificationRemovedById:In}=yn.actions,jn=yn.reducer,Sn={getNotifications:e=>e.notifications.queuedNotifications,getVisibleNotifications:e=>e.notifications.visibleNotifications},Mn=e=>t=>n=>{const s=()=>e.getState().notifications.visibleNotifications.length<2;if(vn.match(n)){const t=bn((i=n.payload,{...i,id:i.id??mn(),displayDuration:i.displayDuration??1e4,automaticallyDisappear:i.automaticallyDisappear??!0}));e.dispatch(t)}else{var i;if(bn.match(n)&&setTimeout((()=>{if(s())e.dispatch(wn(n.payload));else{const t=setInterval((()=>{s()&&(clearInterval(t),e.dispatch(wn(n.payload)))}),500)}}),0),wn.match(n)){const{displayDuration:t,automaticallyDisappear:s}=n.payload;s&&setTimeout((()=>{e.dispatch(Cn(n.payload))}),t)}t(n)}};var kn=n(8608);const _n=(e,t)=>{e.send("message-added",t)};function Tn(e,t){return{type:"text",content:e.text,title:e.title,author:t}}function Nn(e,t){return{type:"attachment",contentType:e.contentType,name:e.name,url:e.url,author:t}}const An=e=>{const t=Mt.getAgents(e);return(0,ct.toEntries)(e.conversation.conversations).map((([e,n])=>((e,t,n)=>{const s=t.agentId?n[t.agentId].name:"Dixa";switch(t.initStatus.status){case"uninitialized":{const n=t.initStatus.unseenMessagesCount;return{conversationId:e,agent:s,unseenMessageIds:[...t.unseenMessagesIds,...n>0?Array.from({length:n},((t,n)=>`${e}-${n}`)):[]]}}case"initialized":return{conversationId:e,agent:s,unseenMessageIds:t.unseenMessagesIds}}})(e,n,t))).filter((({unseenMessageIds:e})=>e.length>0))},Ln=e=>e.map((({conversationId:e,unseenMessageIds:t})=>`${e}-${t.join(",")}`)).join("|");function $n(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Bn{constructor(e){this.options=e}passesMinimumRequiredIdentificationLevel(e){const t=this.getMinimumRequiredGrade();return this.convertUserIdentityToGrade(e)>=t}getMinimumRequiredGrade(){return Bn.UserIdentityRequirementLevelGrades[this.options.minimumIdentificationLevel]}convertUserIdentityToGrade(e){return Bn.UserIdentityClaimingGrades[e.type]}}function En(e,t){if(fe.oP.is(e)){const n=e.payload.kind;["CLAIMED","VERIFIED"].includes(n)&&t(q(n))}fe.Ud.is(e)&&t(Ne(!1))}$n(Bn,"UserIdentityRequirementLevelGrades",{ANONYMOUS:0,CLAIMED:10,VERIFIED:20}),$n(Bn,"UserIdentityClaimingGrades",{anonymous:0,claim:10,verified:20});var Rn=n(3068);let qn,On;const zn="ws-connection-lost-notification",Pn="ws-connection-established-notification",Vn=e=>t=>n=>{if(!Ie.match(n))return void t(n);const s=e.getState().widget,i=n.payload.status,a=s.connectionStatus,o=!!s.tabVisibilityState&&function(e){const t=new Date(e.lastChangedAt).valueOf(),n=(new Date).valueOf();return"visible"===e.state&&n-t<5e3}(s.tabVisibilityState),{visibleNotifications:r}=e.getState().notifications;"disconnected"===i&&"connected"===a&&(qn&&(clearTimeout(qn),qn=void 0),o||function(e,t){Un(t)||(On=setTimeout((()=>{e(vn({id:zn,variant:"error",message:Fn.disconnected,automaticallyDisappear:!1}))}),5e3))}(e.dispatch,r)),"connected"===i&&(Un(r)&&(function(e,t){(function(e){return e.some((({id:e})=>e===Pn))})(t)||e(vn({id:Pn,variant:"success",message:Fn.connected}))}(e.dispatch,r),e.dispatch(In(zn))),On&&(clearTimeout(On),On=void 0),s.initialized&&s.sessionToken&&(e.dispatch(Ge(s.sessionToken)),e.dispatch(((e,t)=>{const{conversations:n}=t().conversation;for(const[t,s]of Object.entries(n))"open"===s.status&&e(ot(t))})))),t(n)},Fn=(0,Rn.Os)({connected:{id:"d3+qJU",defaultMessage:[{type:0,value:"Great! You've been reconnected"}]},disconnected:{id:"Nf63J9",defaultMessage:[{type:0,value:"Sorry, we're having some network issues. You can try to refresh the page or email our support team."}]}});function Un(e){return e.some((({id:e})=>e===zn))}const Hn=(0,a.aw)("bulletin/fetch",(async(e,t)=>{try{const{bulletinService:n}=t.extra.services,{url:s}=await n.getBulletinUrl(e);return n.getBulletins(s)}catch(e){return t.rejectWithValue(e)}})),Dn=(0,a.is)({name:"bulletin",initialState:{loadingStatus:"notStarted",showAll:!1,bulletins:[]},reducers:{viewMore(e){e.showAll=!0},setBulletins(e,{payload:t}){e.bulletins=t}},extraReducers:e=>{e.addCase(Hn.pending,(e=>{e.loadingStatus="loading"})).addCase(Hn.fulfilled,((e,{payload:t})=>{e.loadingStatus="complete",e.bulletins=t.data})).addCase(Hn.rejected,(e=>{e.loadingStatus="error"}))}}),Wn=Dn.reducer,{viewMore:Qn,setBulletins:Gn}=Dn.actions,Zn=e=>{const t=z.getSettings(e);return!!t.general.bulletinBoardId&&t.general.bulletinBoardEnabled},Yn=e=>e.bulletin.loadingStatus,Kn=e=>e.bulletin.bulletins,Jn=e=>e.bulletin.showAll,Xn=(0,n(6292).Wi)(),es=(0,kn.TL)({application:O,bulletin:Wn,conversation:an,widget:$e,notifications:jn,[Y.reducerPath]:Y.reducer,[i.h7]:(0,i.qW)(Xn)}),ts=n(8432).y({actionTransformer:function(e){return we.match(e)?{...e,payload:{...e.payload,email:void 0,name:void 0}}:e},attachReduxState:!1});var ns=n(1592);const ss=(0,at.Ab)(),is=()=>(0,at.OY)();var as=n(7256);function os(e,t,n){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,"string");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?s:String(s))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class rs{constructor(e,t,n){this.source=e,this.target=t,this.targetOrigin=n,os(this,"emitter",void 0),os(this,"targetWindow",void 0),window.addEventListener("message",this.handleMessage.bind(this)),this.emitter=new as.m({loggerName:`${t.toUpperCase()} -> ${e.toUpperCase()} event emitter`,logToConsole:(0,o.sP)()}),this.send=this.send.bind(this),this.addListener=this.addListener.bind(this),this.removeListener=this.removeListener.bind(this)}setTargetWindow(e){this.targetWindow=e}send(e,t=void 0){(0,U.G)(this.targetWindow,{customMessage:`Target window is not set on Channel (source ${this.source}, target ${this.target})`});const n={type:"dixa-messenger-protocol-message",sender:this.source,receiver:this.target,content:{type:e,payload:t}};this.targetWindow.postMessage(n,this.targetOrigin)}addListener(e,t){this.emitter.addListeners(e,t)}removeListener(e,t){this.emitter.removeListeners(e,t)}handleMessage(e){const t=e.data;if(function(e){return"object"==typeof e&&"type"in e&&"dixa-messenger-protocol-message"===e.type&&"sender"in e&&"receiver"in e&&"content"in e}(t)&&t.receiver===this.source&&t.sender===this.target&&this.isValidOrigin(e.origin)){const{type:e,payload:n}=t.content;this.emitter.emit(e,n)}}isValidOrigin(e){return"*"===this.targetOrigin||e===this.targetOrigin}}class ls extends rs{constructor(e){super("widget","shim",e)}getShimOrigin(){const e=Math.random().toString(36).substring(2,15);return new Promise((t=>{const n=s=>{s.requestId===e&&(this.removeListener("parent-frame-origin-echoed",n),t(s.shimOrigin))};this.addListener("parent-frame-origin-echoed",n),this.send("echo-parent-frame-origin",{requestId:e})}))}}function cs({services:e,store:t}){document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&"connected"===t.getState().widget.connectionStatus&&e.wsConnectionService.checkConnectionStatusManually(),t.dispatch(Se(document.visibilityState))}))}const ds=e=>{const t=(0,et.C)(nt);for(const n of t){const t=it(n);if(t){const i=n=>{const s=t(n);e.store.dispatch(s)};(0,s.CI)(n,i)}}(0,s.CI)("connection-status-changed",(t=>{"connected"===t.status&&e.channelToShim.send("store-session-token",t.sessionToken)}))},us=(0,a.aw)("knowledge-base/setCompanyId",(async(e,{extra:t})=>{const{knowledgeBaseService:n}=t.services;n.setCompanyId(e)})),ps=(0,a.aw)("conversation/end",(async(e,t)=>{const{conversationService:n}=t.extra.services,s=Mt.getLatestOpenConversationId(t.getState());if(!s)return t.rejectWithValue(void 0);try{return await n.endConversation(s)}catch{return t.rejectWithValue(void 0)}})),gs=(0,j.createContext)(void 0);var ms=n(4329),hs=n(8852);const fs=(0,d.xZ)(["0%{transform:translateY(15px);}100%{transform:translateY(0);}"]),ys=d.cp.div.withConfig({displayName:"components__NotificationsWrapper",componentId:"sc-kxelfs-0"})(["display:flex;flex-direction:column;position:fixed;bottom:",";left:",";right:",";& > *{&:not(:first-child){margin-top:",";}position:relative;animation:"," 0.1s ease-out;}"],b("100"),b("100"),b("100"),b("100"),fs);function vs({className:e,title:t,documentFragment:n,headCss:s,stylesheets:i}){const a=(0,j.useRef)(null);return(0,j.useEffect)((()=>{const e=a.current?.contentDocument;var t;e&&(e.open().close(),((e,t)=>{const n=e.createElement("style");n.innerHTML=`\n    html, body {\n      margin: 0;\n      padding: 0;\n      border: 0;\n    }\n    html {\n      height: 100%;\n    }\n    body {\n      overflow: hidden;\n    }\n    ${t}\n`,e.head.appendChild(n)})(e,s),i.forEach((t=e,e=>{const n=t.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),t.head.appendChild(n)})),e.body.append(n()))}),[n,s,i]),(0,j.useEffect)((()=>{const e=a.current,t=e?.contentDocument;if(!e||!t)return;let n=0;const s=ln()((()=>{requestAnimationFrame((()=>{const s=Math.ceil(t.body.getBoundingClientRect().height);n!==s&&(n=s,e.height=`${Math.ceil(s)}`)}))}),50),i=new ResizeObserver(s);return i.observe(t.body),()=>i.disconnect()}),[]),(0,S.jsx)("iframe",{className:e,ref:a,title:t})}const xs=(0,j.forwardRef)(((e,t)=>{const[n,s]=(0,j.useState)(!1);return(0,S.jsx)(bs,{...e,ref:t,onLoad:function(){s(!0)},$hasLoaded:n})}));xs.displayName="Image";const bs=d.cp.img.withConfig({displayName:"Image__Img",componentId:"sc-qaxzen-0"})(["width:100%;height:100%;opacity:",";transition:0.3s all;object-fit:contain;"],(({$hasLoaded:e})=>e?"1":"0")),ws=d.cp.span.withConfig({displayName:"Text",componentId:"sc-1orm170-0"})([""," color:",";"],(({$textStyle:e})=>I(e)),(({theme:e,color:t})=>t?t in e.colors?e.colors[t]:t:"inherit")),Cs=(0,d.cp)(ws).withConfig({displayName:"Text__EllipsisText",componentId:"sc-1orm170-1"})(["white-space:nowrap;text-overflow:ellipsis;overflow:hidden;"]);var Is=n(7112);function js({children:e,...t}){return(0,S.jsx)(Is.c,{...t,children:e})}const Ss=(0,d.xZ)(["0%{background-position:-200px 0;}100%{background-position:calc(200px + 100%) 0;}"]),Ms="neutral200",ks=(0,d.gV)(["background-color:",";background-image:linear-gradient( 90deg,",",",","," );background-size:200px 100%;background-repeat:no-repeat;animation:"," "," ease-in-out infinite;"],v(Ms),v(Ms),T("neutral100",.75),v(Ms),Ss,"1.2S"),_s=d.cp.div.withConfig({displayName:"RectShapeSkeleton",componentId:"sc-1nydz37-0"})(["",";border-radius:",";width:100%;height:100%;"],ks,w("100")),Ts=(0,d.cp)(_s).withConfig({displayName:"TextSkeleton",componentId:"sc-o6gt4x-0"})(["height:",";"],(({$textStyle:e})=>function(e){const t=y.textStyles[e].lineHeight;return"number"==typeof t?`${t}px`:"string"==typeof t&&t.endsWith("%")?parseInt(t,10)/100*parseInt(y.textStyles[e].size,10)+"px":t}(e))),Ns=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M9.825 4.12a.5.5 0 0 1 .055.705L7.159 8l2.72 3.175a.5.5 0 1 1-.759.65l-3-3.5a.5.5 0 0 1 0-.65l3-3.5a.5.5 0 0 1 .705-.055Z",clipRule:"evenodd"})}),As=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M6.175 11.88a.5.5 0 0 1-.055-.705L8.841 8l-2.72-3.175a.5.5 0 0 1 .759-.65l3 3.5a.5.5 0 0 1 0 .65l-3 3.5a.5.5 0 0 1-.705.055Z",clipRule:"evenodd"})}),Ls=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M13.131 7.838a.5.5 0 0 0 .738-.676l-5.5-6a.502.502 0 0 0-.74.002L2.132 7.162a.5.5 0 1 0 .738.676L7.5 2.785V14.5a.5.5 0 0 0 1 0V2.785l4.631 5.053Z",clipRule:"evenodd"})}),$s=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 9 6",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M8.207.293a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L3.5 3.586 6.793.293a1 1 0 0 1 1.414 0Z",clipRule:"evenodd"})}),Bs=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M1 8a7 7 0 1 1 14 0A7 7 0 0 1 1 8Zm7-8a8 8 0 1 0 0 16A8 8 0 0 0 8 0Zm1 4.49C9 4.22 8.799 4 8.5 4s-.5.22-.5.49v3.53H5.54c-.298 0-.54.22-.54.49s.242.49.54.49h2.92c.298 0 .54-.22.54-.49V4.49Z",clipRule:"evenodd"})}),Es=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M4.854 4.146a.5.5 0 1 0-.708.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .708.708L8 8.707l3.146 3.147a.5.5 0 0 0 .708-.708L8.707 8l3.147-3.146a.5.5 0 0 0-.708-.708L8 7.293 4.854 4.146Z",clipRule:"evenodd"})}),Rs=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M15.854.146a.5.5 0 0 1 0 .708L10.707 6H14.5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 1 0v3.793L15.146.146a.5.5 0 0 1 .708 0ZM1 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0v-3.793L.854 15.854a.5.5 0 0 1-.708-.707L5.293 10H1.5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})}),qs=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M6.356.862a6.434 6.434 0 0 1 8.782 2.346A6.385 6.385 0 0 1 16 6.412a6.417 6.417 0 0 1-3.216 5.565L8.161 14.64l-.944.542-1.378.796a.152.152 0 0 1-.229-.132v-3.156c0-.187-.05-.37-.143-.533L1.078 4.573a.582.582 0 0 1 .214-.796L6.356.862Zm2.683 8.334 1.601-.924a2.137 2.137 0 0 0 .786-2.924 2.143 2.143 0 0 0-2.927-.781l-1.604.92a.291.291 0 0 0-.107.4L8.64 9.088c.08.14.259.187.399.107Z",clipRule:"evenodd"})}),Os=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 4 16",...t,children:[(0,S.jsx)("circle",{cx:2,cy:14,r:1.5,transform:"rotate(-90 2 14)"}),(0,S.jsx)("circle",{cx:2,cy:8,r:1.5,transform:"rotate(-90 2 8)"}),(0,S.jsx)("circle",{cx:2,cy:2,r:1.5,transform:"rotate(-90 2 2)"})]}),zs=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"m11.124 6.17-2.624 3V1.5a.5.5 0 0 0-1 0v7.67l-2.624-3a.5.5 0 1 0-.752.66l3.5 4a.5.5 0 0 0 .752 0l3.5-4a.5.5 0 0 0-.752-.66ZM2.5 14a.5.5 0 0 0 0 1h11a.5.5 0 0 0 0-1h-11Z",clipRule:"evenodd"})}),Ps=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0ZM8 9a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3a1 1 0 0 1-1 1Zm0 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z",clipRule:"evenodd"})}),Vs=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:[(0,S.jsx)("path",{d:"M10 .5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 1 1-1 0V1.707L9.854 6.854a.5.5 0 0 1-.708-.708L14.293 1H10.5a.5.5 0 0 1-.5-.5Z"}),(0,S.jsx)("path",{fillRule:"evenodd",d:"M7 9a.5.5 0 0 1 0 .707l-5.146 5.146h3.792a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 1 0v3.793L6.293 9A.5.5 0 0 1 7 9Z",clipRule:"evenodd"})]}),Fs=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M10 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0V3.707L7.854 8.854a.5.5 0 1 1-.708-.708L12.293 3H10.5a.5.5 0 0 1-.5-.5Zm-7 2a.5.5 0 0 1 .5-.5h1a.5.5 0 0 0 0-1h-1A1.5 1.5 0 0 0 2 4.5v8A1.5 1.5 0 0 0 3.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-1a.5.5 0 0 0-1 0v1a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-8Z",clipRule:"evenodd"})}),Us=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M2 1.5a.5.5 0 0 1 .5-.5H10v4.5a.5.5 0 0 0 .5.5H14v8.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-13ZM13.46 5 11 1.925V5h2.46ZM2.5 0A1.5 1.5 0 0 0 1 1.5v13A1.5 1.5 0 0 0 2.5 16h11a1.5 1.5 0 0 0 1.5-1.5v-9a.5.5 0 0 0-.11-.312l-4-5A.5.5 0 0 0 10.5 0h-8Z",clipRule:"evenodd"})}),Hs=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:.25,d:"m12.68 5.586.081.094-.08-.094L8 9.598 3.32 5.586a.875.875 0 0 0-1.14 1.328l5.25 4.5c.328.281.812.281 1.14 0l5.25-4.5a.875.875 0 0 0-1.14-1.328Z"})}),Ds=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:[(0,S.jsx)("g",{clipPath:"url(#a)",children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M13.446 2.554a3.601 3.601 0 0 0-5.119.025l-1.5 1.3a.5.5 0 0 1-.654-.757L7.66 1.834a4.601 4.601 0 0 1 6.506 6.506l-1.288 1.487a.5.5 0 1 1-.756-.654l1.3-1.5a3.6 3.6 0 0 0 .024-5.118ZM3.827 6.122a.5.5 0 0 1 .05.705l-1.298 1.5a3.602 3.602 0 1 0 5.094 5.094l1.5-1.299a.5.5 0 1 1 .654.756l-1.486 1.288A4.601 4.601 0 0 1 1.835 7.66l1.287-1.487a.5.5 0 0 1 .705-.05Zm7.027-.268a.5.5 0 0 0-.708-.708l-5 5a.5.5 0 1 0 .708.708l5-5Z",clipRule:"evenodd"})}),(0,S.jsx)("defs",{children:(0,S.jsx)("clipPath",{id:"a",children:(0,S.jsx)("path",{d:"M0 0h16v16H0z"})})})]}),Ws=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:[(0,S.jsx)("g",{clipPath:"url(#a)",children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M12.833.167c.368 0 .667.298.667.667V2.5h1.666a.667.667 0 1 1 0 1.334H13.5V5.5a.667.667 0 1 1-1.334 0V3.834H10.5a.667.667 0 0 1 0-1.334h1.666V.834c0-.369.299-.667.667-.667Zm-6 2.333c.273 0 .518.166.62.42l1.606 4.02 4.022 1.608a.667.667 0 0 1 0 1.238l-4.022 1.607-1.607 4.021a.667.667 0 0 1-1.238 0l-1.607-4.02L.586 9.785a.667.667 0 0 1 0-1.238l4.02-1.607L6.215 2.92a.667.667 0 0 1 .62-.42Zm0 2.463L5.74 7.701a.667.667 0 0 1-.372.372L2.63 9.167l2.738 1.094c.17.068.304.202.372.372l1.094 2.738 1.094-2.738a.667.667 0 0 1 .372-.372l2.738-1.094-2.738-1.094a.667.667 0 0 1-.372-.372L6.833 4.963Z",clipRule:"evenodd"})}),(0,S.jsx)("defs",{children:(0,S.jsx)("clipPath",{id:"a",children:(0,S.jsx)("path",{d:"M0 0h16v16H0z"})})})]}),Qs=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M3 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 8Z",clipRule:"evenodd"})}),Gs=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M13.11 2.89a2.98 2.98 0 0 0-4.262 0 .496.496 0 1 1-.703-.702 3.973 3.973 0 0 1 5.667 0 3.973 3.973 0 0 1 0 5.667l-5.957 5.957a3.973 3.973 0 0 1-5.667 0 3.973 3.973 0 0 1 0-5.667l3.177-3.177a2.235 2.235 0 0 1 3.185 0 2.235 2.235 0 0 1 0 3.184L5.372 11.33a.497.497 0 0 1-.702-.702L7.848 7.45a1.242 1.242 0 0 0 0-1.78 1.242 1.242 0 0 0-1.78 0L2.89 8.848a2.98 2.98 0 0 0 0 4.262 2.98 2.98 0 0 0 4.262 0l5.958-5.957a2.98 2.98 0 0 0 0-4.263Z",clipRule:"evenodd"})}),Zs=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M8.5 3.5a.5.5 0 0 0-1 0v4h-4a.5.5 0 0 0 0 1h4v4a.5.5 0 0 0 1 0v-4h4a.5.5 0 0 0 0-1h-4v-4Z",clipRule:"evenodd"})}),Ys=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M2 3a1 1 0 0 1 1-1h22a1 1 0 0 1 1 1v5H2V3Zm0 7v16h7a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1V3a3 3 0 0 1 3-3h22a3 3 0 0 1 3 3v8a1 1 0 1 1-2 0v-1H2Zm4-5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm5-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm5.91 8.91a6 6 0 1 0-.001 11.999 6 6 0 0 0 0-12Zm-8 6a8 8 0 1 1 14.319 4.905l5.478 5.478a1 1 0 0 1-1.414 1.414l-5.478-5.478a8 8 0 0 1-12.906-6.32Z",clipRule:"evenodd"})}),Ks=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M10 5.5a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm-.952 4.203a5.5 5.5 0 1 1 .654-.654.49.49 0 0 1 .135.095l4.02 4.02a.49.49 0 1 1-.694.692l-4.02-4.02a.49.49 0 0 1-.095-.133Z",clipRule:"evenodd"})}),Js=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M15.854.146a.5.5 0 0 1 0 .708L10.707 6H14.5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5v-5a.5.5 0 0 1 1 0v3.793L15.146.146a.5.5 0 0 1 .708 0ZM1 9.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v5a.5.5 0 0 1-1 0v-3.793L.854 15.854a.5.5 0 0 1-.708-.707L5.293 10H1.5a.5.5 0 0 1-.5-.5Z",clipRule:"evenodd"})}),Xs=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M9.823 16c.583 0 1.133-.275 1.483-.742L14.35 11.2a.571.571 0 0 0 .114-.343V4a4 4 0 0 0-4-4H7.036A5.143 5.143 0 0 0 2.92 2.057L.864 4.8a.571.571 0 0 0-.114.343v4.571c0 .947.768 1.715 1.714 1.715H8.59l-.567 2.266A1.855 1.855 0 0 0 9.823 16Zm.57-1.428a.712.712 0 0 1-1.261-.6l.744-2.976a.571.571 0 0 0-.555-.71H2.464a.571.571 0 0 1-.571-.572v-4.38l1.943-2.591a4 4 0 0 1 3.2-1.6h3.428A2.857 2.857 0 0 1 13.321 4v6.667l-2.929 3.905Zm5.214-3.715a.572.572 0 0 0 1.143 0V1.714a.571.571 0 1 0-1.143 0v9.143Z",clipRule:"evenodd"})}),ei=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 16",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M7.177 0c-.583 0-1.133.275-1.483.742L2.65 4.8a.571.571 0 0 0-.114.343V12a4 4 0 0 0 4 4h3.428a5.143 5.143 0 0 0 4.115-2.057l2.057-2.743a.571.571 0 0 0 .114-.343V6.286c0-.947-.768-1.715-1.714-1.715H8.41l.567-2.266A1.855 1.855 0 0 0 7.177 0Zm-.57 1.428a.712.712 0 0 1 1.261.6l-.744 2.976a.571.571 0 0 0 .555.71h6.857c.315 0 .571.256.571.572v4.38l-1.943 2.591a4 4 0 0 1-3.2 1.6H6.536A2.857 2.857 0 0 1 3.679 12V5.333l2.929-3.905ZM1.394 5.143a.571.571 0 0 0-1.143 0v9.143a.571.571 0 1 0 1.143 0V5.143Z",clipRule:"evenodd"})}),ti=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 8 6",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M7.707.293a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L3 3.586 6.293.293a1 1 0 0 1 1.414 0Z",clipRule:"evenodd"})}),ni=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 16",...t,children:(0,S.jsx)("path",{d:"M13.461 3H10.97V2c0-.514-.196-1.008-.549-1.38A1.992 1.992 0 0 0 9.074 0H4.886A1.992 1.992 0 0 0 3.54.62c-.353.372-.55.866-.549 1.38v1H.5A.498.498 0 0 0 0 3.5a.5.5 0 0 0 .499.5h.498l.888 10.62A1.502 1.502 0 0 0 3.41 16h7.14a1.493 1.493 0 0 0 1.486-1.38L12.963 4h.538A.498.498 0 0 0 14 3.5a.5.5 0 0 0-.499-.5h-.04ZM3.99 2a1.002 1.002 0 0 1 .897-1h4.188a.996.996 0 0 1 .898 1v1H3.989V2Zm7.06 12.54a.5.5 0 0 1-.5.46H3.41a.498.498 0 0 1-.498-.46L1.994 4h9.972l-.918 10.54Z"})}),si=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",...t,children:[(0,S.jsx)("circle",{cx:8,cy:8,r:8,fill:"#C11D1D"}),(0,S.jsx)("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeWidth:2,d:"M8 8V5"}),(0,S.jsx)("circle",{cx:8,cy:11,r:1,fill:"#fff",transform:"rotate(-180 8 11)"})]}),ii=({dangerouslySetInnerHTML:e,...t})=>(0,S.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16",...t,children:[(0,S.jsx)("circle",{cx:8,cy:8,r:8,fill:"#23924E"}),(0,S.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"M11.707 5.293a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 1.414-1.414L7 8.586l3.293-3.293a1 1 0 0 1 1.414 0Z",clipRule:"evenodd"})]}),ai="success-badge";function oi(e){return(0,S.jsx)(ri,{...e,"data-testid":ai,children:(0,S.jsx)(bi,{icon:$s})})}const ri=d.cp.div.withConfig({displayName:"SuccessBadge__Container",componentId:"sc-d43va7-0"})(["width:",";height:",";background-color:",";display:flex;justify-content:center;align-items:center;border-radius:50%;box-sizing:border-box;svg{fill:white;width:",";height:",";min-width:",";min-height:",";}"],b("300"),b("300"),v("green600"),b("100"),b("100"),b("100"),b("100")),li=e=>(0,d.gV)(["width:",";height:",";"],b(e),b(e)),ci=d.cp.div.withConfig({displayName:"AvatarContainer",componentId:"sc-yte3kl-0"})(["overflow:hidden;",""],_("size",{extraSmall:(0,d.gV)([""," border-radius:",";"],li("300"),w("200")),small:(0,d.gV)([""," border-radius:",";"],li("500"),w("400")),medium:(0,d.gV)([""," border-radius:",";"],li("700"),w("600")),large:(0,d.gV)([""," border-radius:",";"],li("800"),w("700"))})),di=({name:e,placeholderStyle:t})=>{const n=e?.substring(0,1);return(0,S.jsx)(ui,{$placeholderStyle:t,children:(0,S.jsx)("span",{children:n})})},ui=d.cp.div.withConfig({displayName:"PlaceholderAvatar__Container",componentId:"sc-t63vjj-0"})(["text-shadow:",";display:flex;align-items:center;justify-content:center;width:100%;height:100%;"," ",""],C("small"),I("extraSmallBold"),_("$placeholderStyle",{transparent:(0,d.gV)(["background-color:",";color:#ffffff;"],T("neutral100",.1)),solid:(0,d.gV)(["background-color:",";color:",";"],v("neutral100"),v("neutral900"))},"solid")),pi=({avatarUrl:e,name:t,placeholderStyle:n,...s})=>(0,S.jsx)(ci,{...s,children:e?(0,S.jsx)(xs,{src:e}):(0,S.jsx)(di,{name:t,placeholderStyle:n})});function gi({...e}){return(0,S.jsx)(ci,{...e,children:(0,S.jsx)(mi,{})})}const mi=(0,d.cp)(_s).withConfig({displayName:"AvatarSkeleton__StyledRectShape",componentId:"sc-brf6iv-0"})(["border-radius:inherit;"]),hi=d.cp.div.withConfig({displayName:"AvatarStack",componentId:"sc-c68u74-0"})(["display:flex;align-items:flex-end;& > *{background:",";padding:2px;img{border-radius:18px;}&:first-child{margin-right:-8px;transform:rotate(-8deg);z-index:0;img{border-radius:14px;}}&:nth-child(2){z-index:1;margin-bottom:-2px;}&:last-child{margin-left:-8px;mask-image:none;transform:rotate(8deg);z-index:0;img{border-radius:14px;}}}"],(({$border:e})=>"gradient"===e?x("mainGradient"):v("neutral000"))),fi=d.cp.div.withConfig({displayName:"AvatarStack__CompactAvatarStack",componentId:"sc-c68u74-1"})(["display:flex;align-items:flex-end;& > *{background:",";padding:2px;img{border-radius:14px;}&:first-child{z-index:0;}&:nth-child(2){z-index:1;margin-left:-25px;}&:last-child{z-index:2;margin-left:-25px;}}"],(({$border:e})=>"gradient"===e?x("mainGradient"):v("neutral000"))),yi=[n.p+"5da2b4b5401904f1e92cb282a315230c.jpg",n.p+"2c6975db12d319b209dcb7848e2f95f2.jpg",n.p+"b50f17415dfad146e9b804dcea4252c5.jpg"];function vi({compact:e=!1,border:t="gradient",avatarUrls:n=yi,...s}){return e?(0,S.jsx)(fi,{...s,$border:t,children:n.map((e=>(0,S.jsx)(pi,{avatarUrl:e,size:"medium",placeholderStyle:"transparent"},e)))}):(0,S.jsxs)(hi,{...s,$border:t,children:[n[0]&&(0,S.jsx)(pi,{avatarUrl:n[0],size:"medium",placeholderStyle:"transparent"}),n[1]&&(0,S.jsx)(pi,{avatarUrl:n[1],size:"large",placeholderStyle:"transparent"}),n[2]&&(0,S.jsx)(pi,{avatarUrl:n[2],size:"medium",placeholderStyle:"transparent"})]})}function xi({compact:e}){return e?(0,S.jsxs)(fi,{$border:"gradient",children:[(0,S.jsx)(gi,{size:"medium"}),(0,S.jsx)(gi,{size:"medium"}),(0,S.jsx)(gi,{size:"medium"})]}):(0,S.jsxs)(hi,{$border:"gradient",children:[(0,S.jsx)(gi,{size:"medium"}),(0,S.jsx)(gi,{size:"large"}),(0,S.jsx)(gi,{size:"medium"})]})}function bi({icon:e,size:t="300",color:n,className:s}){const i=(0,d.qG)(),a=i.space[t],o=n?i.colors[n]:"currentColor";return(0,S.jsx)(e,{className:s,width:a,height:a,fill:o})}function wi({lrtIcon:e,rtlIcon:t,...n}){const s=ss(z.getIsAppRTL);return(0,S.jsx)(bi,{icon:s?t:e,...n})}var Ci=n(132),Ii=n(4768);const ji=(0,d.xZ)(["0%{transform:rotate(0deg);}100%{transform:rotate(270deg);}"]),Si=(0,d.xZ)(["0%{stroke-dashoffset:",";}50%{stroke-dashoffset:",";transform:rotate(135deg);}100%{stroke-dashoffset:",";transform:rotate(450deg);}"],187,46.75,187),Mi=d.cp.svg.withConfig({displayName:"Spinner__Svg",componentId:"sc-o26zay-0"})(["animation:"," ","s linear infinite;"],ji,1.4),ki=d.cp.circle.withConfig({displayName:"Spinner__Circle",componentId:"sc-o26zay-1"})(["stroke-dasharray:",";stroke-dashoffset:0;transform-origin:center;animation:"," ","s ease-in-out infinite;stroke:currentColor;"],187,Si,1.4),_i=({size:e,width:t,className:n,...s})=>(0,S.jsx)(Mi,{...s,className:n,width:e,height:e,viewBox:"0 0 66 66",xmlns:"http://www.w3.org/2000/svg",children:(0,S.jsx)(ki,{fill:"none",strokeLinecap:"round",cx:"33",cy:"33",r:"30",strokeWidth:t})});function Ti({children:e,gap:t="50",loading:n,squared:s,variant:i,...a}){return(0,S.jsxs)(Ni,{disabled:a.disabled||n,$squared:s,$variant:i,$gap:t,...a,children:[e,n?(0,S.jsxs)(S.Fragment,{children:[" ",(0,S.jsx)(_i,{size:10})]}):null]})}_i.defaultProps={size:14,width:2};const Ni=d.cp.button.withConfig({displayName:"Button__ButtonElement",componentId:"sc-68y2yk-0"})(["display:inline-flex;flex-direction:row;justify-content:center;align-items:center;border:none;cursor:pointer;border-radius:",";text-decoration:none;padding:"," ",";border:1px solid transparent;"," &:focus{outline:none;box-shadow:",",",";}&:disabled{cursor:not-allowed;opacity:0.5;pointer-events:none;}gap:",";",""],w("300"),b("200"),(({$squared:e})=>b(e?"200":"500")),I("buttonText"),C("focus"),C("small"),(({$gap:e})=>e?b(e):"initial"),_("$variant",{primary:(0,d.gV)(["background:",";color:",";&:hover{background:",",",";box-shadow:",";}&:active{background:",",",";box-shadow:",",",";}"],v("primaryBackground"),v("primary"),x("primaryHoverGradient"),v("primaryBackground"),C("small"),x("primaryHoverGradient"),v("primaryBackground"),C("small"),C("primaryInner")),secondary:(0,d.gV)(["background:",";border:1px solid ",";color:",";&:hover{background:",";box-shadow:",";}&:active{background:",";box-shadow:",",",";}"],v("neutral100"),v("neutral200"),v("textPrimary"),v("neutral200"),C("small"),v("neutral200"),C("small"),C("secondaryInner")),transparent:(0,d.gV)(["background:transparent;color:",";&:hover{background:",";}"],v("primary"),T("neutral100",.1)),neutral:(0,d.gV)(["background:",";color:",";&:active{background:",";}"],v("neutral000"),v("textPrimary"),v("neutral200"))})),Ai=(0,Rn.Os)({goBack:{id:"orvpWh",defaultMessage:[{type:0,value:"Go back"}]}}),Li=({size:e="regular",className:t,children:n,to:s,onClick:i})=>{const{formatMessage:a}=(0,Ci.c)(),o=(0,S.jsxs)($i,{squared:!0,$size:e,onClick:i,variant:"transparent",className:t,"aria-label":a(Ai.goBack),children:[(0,S.jsx)(wi,{size:"500",rtlIcon:As,lrtIcon:Ns}),n]});return s?(0,S.jsx)(Ii.cH,{to:s,children:o}):o},$i=(0,d.cp)(Ti).withConfig({displayName:"BackButton__StyledButton",componentId:"sc-q4r6mz-0"})(["",""],(({$size:e})=>(0,d.gV)(["width:",";height:",";"],b("compact"===e?"800":"900"),b("compact"===e?"800":"900")))),Bi=({children:e,...t})=>e?(0,S.jsx)(Ei,{...t,children:e}):null,Ei=d.cp.div.withConfig({displayName:"Badge__Container",componentId:"sc-tb3c7-0"})(["display:flex;align-items:center;justify-content:center;text-align:center;background-color:",";color:",";font:",";font-size:10px;font-weight:500;line-height:16px;letter-spacing:-0.02em;border-radius:100px;min-width:",";height:",";max-height:",";padding:0 ",";box-sizing:border-box;"],v("red500"),v("neutral000"),f.system,b("300"),b("300"),b("300"),b("50")),Ri=(0,Rn.Os)({unseenCountLabel:{id:"+WoBTa",defaultMessage:[{type:6,value:"count",options:{one:{value:[{type:7},{type:0,value:" unseen message"}]},other:{value:[{type:7},{type:0,value:" unseen messages"}]}},offset:0,pluralType:"cardinal"}]}});function qi({count:e,...t}){const{formatMessage:n}=(0,Ci.c)();return(0,S.jsx)(Bi,{"aria-label":n(Ri.unseenCountLabel,{count:e}),...t,children:e})}const Oi=d.cp.div.withConfig({displayName:"Card",componentId:"sc-1alk43b-0"})(["background:",";border:1px solid ",";border-radius:",";box-shadow:",";"],v("neutral000"),v("neutral200"),w("400"),C("small"));var zi=n(8976),Pi=n.n(zi),Vi=n(244);const Fi=()=>({process:e=>Vi.iX.link(e),getMatches:e=>Vi.iX.parse(e,{hashtag:!1,mention:!1})}),Ui=Fi().process;function Hi(e){return e.replaceAll("\n","<br />")}const Di=Fi().process;function Wi(e,t){return function(e){const t=(new DOMParser).parseFromString(e,"text/html");return t.querySelectorAll("a").forEach((e=>{const t=e.getAttribute("href");if(!t)return;const n=(s=t).startsWith("http")||s.startsWith("https")?s:`http://${s}`;var s;e.setAttribute("href",n),e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer")})),t.body.innerHTML}(["text/plain","text/html"].includes(t)?Di(e):e)}const Qi=8,Gi=(0,j.forwardRef)(((e,t)=>{const{options:n,onSelect:s,disabled:i=!1,maxItemsBeforeWrap:a=Qi,className:o,horizontalActionButtons:r}=e,l=!0===r||n.length>a;return(0,S.jsx)(Zi,{ref:t,className:o,$wrappedMode:l,"data-testid":"chat-menu-options-container",children:n.map((({id:e,label:t})=>(0,S.jsx)(Yi,{onClick:()=>function(e){i||s(e)}(e),disabled:i,$wrappedMode:l,children:(0,S.jsx)(ws,{$textStyle:"body",children:(0,S.jsx)(yr,{content:Wi(t,"text/html")})})},e)))})}));Gi.displayName="ChatMenuOptions";const Zi=d.cp.div.withConfig({displayName:"ChatMenuOptions__Container",componentId:"sc-1yhcfgp-0"})(["list-style-type:none;margin:0;padding:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-end;gap:",";justify-self:end;",""],b("50"),(({$wrappedMode:e})=>e&&(0,d.gV)(["justify-content:flex-end;flex-direction:row;flex-wrap:wrap;align-items:flex-start;"]))),Yi=d.cp.div.withConfig({displayName:"ChatMenuOptions__Item",componentId:"sc-1yhcfgp-1"})(["list-style:none;padding:"," ",";background-color:",";cursor:pointer;transition:0.2s;user-select:none;max-width:90%;word-break:break-word;box-shadow:0px 1px 8px rgba(19,34,68,0.04),inset 0px 1.5px 0.5px rgba(255,255,255,0.15),inset 0px -1.5px 0.5px rgba(0,0,0,0.02);"," &:hover{background-color:",";}",""],b("200"),b("300"),v("neutral200"),(({$wrappedMode:e})=>e?(0,d.gV)(["border-radius:",";"],w("200")):(0,d.gV)(["border-top-left-radius:",";border-bottom-left-radius:",";&:first-of-type{border-top-right-radius:",";}&:last-of-type{border-bottom-right-radius:",";}"],w("200"),w("200"),w("200"),w("200"))),v("neutral300"),(({disabled:e})=>e&&(0,d.gV)(["cursor:auto;pointer-events:none;"]))),Ki={fast:150,normal:300,slow:500},Ji={easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeOutQuad:"cubic-bezier(0.5, 1, 0.89, 1)"},Xi=(0,d.xZ)(["from{opacity:0;}to{opacity:1;}"]),ea=(e={speed:"normal",easing:"easeInOut"})=>(0,d.gV)(["animation:"," ","ms ",";"],Xi,Ki[e.speed],Ji[e.easing]);var ta=n(1980);const na=({toggler:e,content:t})=>{const[n,s]=(0,j.useState)(!1),[i,{height:a}]=(0,ta.c)(),o=(0,j.useCallback)((()=>s(!n)),[n]);return(0,S.jsxs)(S.Fragment,{children:[e({isExpanded:n,toggle:o}),(0,S.jsx)(sa,{$isShown:n,$maxHeight:a,children:t({ref:i})})]})},sa=d.cp.div.withConfig({displayName:"Collapsible__Container",componentId:"sc-1vtma34-0"})(["overflow:hidden;transition:max-height ","ms ",";will-change:max-height;max-height:",";"],Ki.normal,Ji.easeOutQuad,(({$isShown:e,$maxHeight:t})=>e?`${t}px`:"0")),ia=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;var aa=n(9112);const oa=(0,Rn.Os)({nameInputLabel:{id:"avuvsx",defaultMessage:[{type:0,value:"What's your name?"}]},emailInputLabel:{id:"LXkh/S",defaultMessage:[{type:0,value:"What's your email?"}]},messageInputLabel:{id:"zsMxWw",defaultMessage:[{type:0,value:"How can we help?"}]},nameInputPlaceholder:{id:"vlKhIl",defaultMessage:[{type:0,value:"Your name"}]},emailInputPlaceholder:{id:"j3k5Ts",defaultMessage:[{type:0,value:"Could be “john@doe.com”"}]},messageInputPlaceholder:{id:"Y0qAui",defaultMessage:[{type:0,value:"Tell us what’s up"}]},submitButtonText:{id:"oRJFdD",defaultMessage:[{type:0,value:"Leave message"}]},submittedSuccessfully:{id:"fJ5evn",defaultMessage:[{type:0,value:"Thanks! We’ll get back to you on mail"}]}}),ra=(0,Rn.Os)({required:{id:"Seanpx",defaultMessage:[{type:0,value:"Required"}]},notValid:{id:"opkquA",defaultMessage:[{type:0,value:"Not valid"}]}});function la({onSubmit:e,submittedValues:t,showEmailInput:n=!0,showNameInput:s=!0,submitSuccessfulMessageIsVisible:i=!1}){const{register:a,handleSubmit:o,formState:r}=(0,aa.aS)({defaultValues:t}),l=(0,Ci.c)(),{errors:c,isSubmitting:d,isSubmitted:u,isSubmitSuccessful:p}=r,g=Object.keys(r.errors).length>0,m=Boolean(t)||u&&p;return(0,S.jsxs)(ca,{onSubmit:o(e),children:[s&&(0,S.jsx)(Lo,{...a("name",{required:{value:!0,message:l.formatMessage(ra.required)}}),required:!0,fieldId:"name",label:l.formatMessage(oa.nameInputLabel),disabled:m,placeholder:l.formatMessage(oa.nameInputLabel),state:c.name?"error":"normal",helpMessage:c.name?.message}),n&&(0,S.jsx)(Lo,{...a("email",{required:{value:!0,message:l.formatMessage(ra.required)},validate:(e="")=>{return t=e,ia.test(t)||l.formatMessage(ra.notValid);var t}}),required:!0,fieldId:"email",label:l.formatMessage(oa.emailInputLabel),disabled:m,placeholder:l.formatMessage(oa.emailInputPlaceholder),type:"email",state:c.email?"error":"normal",helpMessage:c.email?.message}),(0,S.jsx)(Eo,{...a("message",{required:{value:!0,message:l.formatMessage(ra.required)}}),required:!0,fieldId:"message",label:l.formatMessage(oa.messageInputLabel),disabled:m,placeholder:l.formatMessage(oa.messageInputPlaceholder),state:c.message?"error":"normal",helpMessage:c.message?.message}),!m&&(0,S.jsx)(Ti,{variant:"primary",type:"submit",disabled:g||d,children:d?(0,S.jsx)(_i,{}):l.formatMessage(oa.submitButtonText)}),i&&(0,S.jsxs)(da,{children:[(0,S.jsx)(bi,{icon:$s}),(0,S.jsx)(ws,{$textStyle:"informative",children:l.formatMessage(oa.submittedSuccessfully)})]})]})}const ca=d.cp.form.withConfig({displayName:"ContactFormView__Form",componentId:"sc-lkqd9f-0"})(["position:relative;background:transparent;display:flex;flex-direction:column;gap:",";"],b("50")),da=d.cp.div.withConfig({displayName:"ContactFormView__SubmittedSuccessfullyMessage",componentId:"sc-lkqd9f-1"})(["background:",";border:1px solid ",";color:",";box-sizing:border-box;box-shadow:inset 0px 0.5px 1px rgba(255,255,255,0.2),inset 0px -0.5px 1px rgba(19,34,68,0.2);backdrop-filter:blur(16px);border-radius:",";display:flex;justify-content:center;align-items:center;gap:",";padding:"," ",";"],v("green100"),v("green700"),v("green700"),w("300"),b("100"),b("200"),b("400"));function ua(){return(0,S.jsxs)(pa,{children:[(0,S.jsx)("h4",{children:"Something went wrong!"}),(0,S.jsx)("button",{onClick:function(){window.location.reload()},children:"Reload"})]})}const pa=d.cp.div.withConfig({displayName:"CrashScreen__Container",componentId:"sc-hwtlqk-0"})(["width:100vw;height:100vh;background-color:white;display:flex;flex-direction:column;justify-content:center;align-items:center;"]);var ga=n(4292);function ma(e){return(0,S.jsxs)(ha,{children:[(0,S.jsx)(oi,{}),(0,S.jsx)(fa,{$textStyle:"body",children:e.thankYouText??(0,S.jsx)(ga.c,{id:"ey637v",defaultMessage:[{type:0,value:"Your comment was saved. Thank you!"}]})})]})}const ha=d.cp.div.withConfig({displayName:"ThankYouMessage__ThankYouMessageContainer",componentId:"sc-qev0a0-0"})(["display:flex;justify-content:center;align-items:center;gap:",";"],b("100")),fa=(0,d.cp)(Cs).withConfig({displayName:"ThankYouMessage__CenteredText",componentId:"sc-qev0a0-1"})(["text-align:center;"]),ya=(0,Rn.Os)({textareaPlaceholder:{id:"l+9qRf",defaultMessage:[{type:0,value:"Share your thoughts"}]},saveCommentButtonTitle:{id:"AIDV4F",defaultMessage:[{type:0,value:"Save comment"}]},cancelButtonTitle:{id:"47FYwb",defaultMessage:[{type:0,value:"Cancel"}]},seeYourCommentButtonTitle:{id:"AzK+Xx",defaultMessage:[{type:0,value:"See your comment"}]},hideYourCommentButtonTitle:{id:"cskLKB",defaultMessage:[{type:0,value:"Hide your comment"}]}}),va={expanded:7,normal:3};function xa(e){const[t,n]=(0,j.useState)(!1),[s,i]=(0,j.useState)(!1),[a,o]=(0,j.useState)(""),r=(0,j.useRef)(null),{formatMessage:l}=(0,Ci.c)(),c=Boolean(e.savedComment),d=()=>{r.current?.scrollIntoView({behavior:"smooth"})};if(c)return(0,S.jsx)(ba,{$readonly:!0,children:(0,S.jsx)(Ca,{children:(0,S.jsx)(ws,{$textStyle:"body",children:e.savedComment})})});const u=!e.allowSave||!a||e.loading;return(0,S.jsxs)(ba,{onSubmit:function(t){t.preventDefault(),t.stopPropagation(),a&&e.onSave(a)},$readonly:!1,children:[(0,S.jsxs)(wa,{children:[(0,S.jsx)(ka,{name:"comment",ref:r,onKeyUp:function(){const{current:e}=r;e&&e.clientHeight<e.scrollHeight&&(t||s||(e.setAttribute("rows",va.expanded.toString()),n(!0),setTimeout(d,100)))},value:a,rows:t?va.expanded:va.normal,onChange:e=>o(e.target.value),placeholder:e.commentPlaceholderText??l(ya.textareaPlaceholder)}),(0,S.jsx)(Ia,{type:"button",variant:"transparent",squared:!0,onClick:function(){n(!t),i(!0),setTimeout((()=>{r.current&&(r.current.focus(),d())}),100)},children:t?(0,S.jsx)(bi,{icon:Rs}):(0,S.jsx)(bi,{icon:Vs})})]}),(0,S.jsx)(Ma,{children:(0,S.jsx)(Sa,{variant:"transparent",type:"submit",disabled:u,children:l(ya.saveCommentButtonTitle)})})]})}const ba=d.cp.form.withConfig({displayName:"CommentInput__Container",componentId:"sc-13qrqb-0"})(["border-radius:",";background:",";border:1px solid ",";box-sizing:border-box;position:relative;overflow:hidden;padding:",";",""],w("300"),(({$readonly:e})=>v(e?"neutral100":"neutral000")),v("neutral200"),b("300"),(({$readonly:e})=>e&&(0,d.gV)(["padding-top:0;"]))),wa=d.cp.div.withConfig({displayName:"CommentInput__TextareaContainer",componentId:"sc-13qrqb-1"})(["display:grid;grid-template-columns:1fr auto;grid-template-rows:auto;"]),Ca=d.cp.div.withConfig({displayName:"CommentInput__ReadonlyTextarea",componentId:"sc-13qrqb-2"})(["padding:",";width:100%;box-sizing:border-box;color:",";"],b("200"),v("textSecondary")),Ia=(0,d.cp)(Ti).withConfig({displayName:"CommentInput__TextareaSizeToggler",componentId:"sc-13qrqb-3"})(["color:",";align-self:start;cursor:pointer;position:relative;padding:",";border-radius:",";top:-",";right:-",";&:hover{background:",";}"],v("neutral700"),b("50"),w("100"),b("50"),b("50"),v("neutral100")),ja=(0,d.cp)(Ti).withConfig({displayName:"CommentInput__ActionButton",componentId:"sc-13qrqb-4"})(["color:",";padding:0;&:focus{outline:none;box-shadow:none;}"],v("textSecondary")),Sa=(0,d.cp)(ja).withConfig({displayName:"CommentInput__PrimaryButton",componentId:"sc-13qrqb-5"})(["color:",";"],v("textPrimary")),Ma=d.cp.div.withConfig({displayName:"CommentInput__ButtonsContainer",componentId:"sc-13qrqb-6"})(["display:flex;align-items:center;justify-content:flex-end;gap:",";margin-top:",";margin-bottom:-",";margin-right:-",";padding:",";"],b("300"),b("300"),b("300"),b("300"),b("300")),ka=d.cp.textarea.withConfig({displayName:"CommentInput__Textarea",componentId:"sc-13qrqb-7"})(["width:100%;resize:none;box-sizing:border-box;font-style:normal;font-family:",";font-weight:400;font-size:14px;line-height:145%;letter-spacing:0.0025em;border:none;color:",";&::placeholder{color:",";}&:focus{outline:none;}"],f.system,v("textPrimary"),v("textTertiary")),_a=[1,2,3,4,5],Ta=(0,Rn.Os)({csatScoreBad:{id:"UxWE/x",defaultMessage:[{type:0,value:"Bad"}]},csatScoreMeh:{id:"fwpZl3",defaultMessage:[{type:0,value:"Meh"}]},csatScoreOkay:{id:"WukzV7",defaultMessage:[{type:0,value:"Okay"}]},csatScoreGood:{id:"kXo6nw",defaultMessage:[{type:0,value:"Good"}]},csatScoreGreat:{id:"AHYVeC",defaultMessage:[{type:0,value:"Great"}]}}),Na={1:"😡",2:"🙄",3:"😐",4:"😄",5:"😍"},Aa={1:Ta.csatScoreBad,2:Ta.csatScoreMeh,3:Ta.csatScoreOkay,4:Ta.csatScoreGood,5:Ta.csatScoreGreat};function La({selectedScore:e,onSelect:t,disabled:n}){const{formatMessage:s}=(0,Ci.c)();return(0,S.jsx)(j.Fragment,{children:_a.map((i=>{const a=i===e,o=Boolean(e)&&!a,r=s(Aa[i]);return(0,S.jsxs)(Ea,{onClick:()=>t(i),$selected:a,disabled:n,$unselected:o,$green:i>2,children:[(0,S.jsx)(Ra,{$unselected:o,children:Na[i]}),(0,S.jsx)(ws,{$textStyle:"extraSmall",children:r}),(0,S.jsx)(qa,{$visible:a,$green:i>2,children:(0,S.jsx)(bi,{icon:$s})})]},i)}))})}const $a="0.3s",Ba="linear",Ea=d.cp.div.withConfig({displayName:"emojis__EmojiChoice",componentId:"sc-1g8bbl7-0"})(["user-select:none;position:relative;width:56px;height:72px;max-width:56px;max-height:72px;min-width:56px;min-height:72px;background:none;border:none;padding:0px;box-sizing:border-box;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:",";border-radius:",";transition:all "," ",";border:1px solid;border-color:transparent;cursor:pointer;background-color:transparent;opacity:",";pointer-events:",";"," &:hover{background-color:",";}"],b("50"),w("300"),$a,Ba,(({$unselected:e})=>e?"0.6":"1"),(({disabled:e})=>e?"none":"unset"),(({$selected:e,$green:t})=>e?(0,d.gV)(["border-color:",";background-color:",";z-index:10;"],v(t?"green500":"neutral500"),v(t?"green100":"neutral100")):(0,d.gV)(["border-color:transparent;background-color:",";"],v("neutral000"))),(({$selected:e,$green:t})=>v(e&&t?"green100":"neutral100"))),Ra=d.cp.span.withConfig({displayName:"emojis__Emoji",componentId:"sc-1g8bbl7-1"})(["box-sizing:border-box;font-size:24px;text-align:center;transform:scale(",");transform-origin:center;transition:all 0.1s ",";"],(({$unselected:e})=>e?"0.8":"1"),Ba),qa=(0,d.cp)(oi).withConfig({displayName:"emojis__SelectedBadge",componentId:"sc-1g8bbl7-2"})(["position:absolute;top:0;right:0;z-index:100;transform-origin:center;transform:translate(50%,-50%);transition:all "," ",";visibility:",";background-color:",";",""],$a,Ba,(({$visible:e})=>e?"visible":"hidden"),(({$green:e})=>v(e?"green600":"neutral900")),(({$visible:e})=>e?(0,d.gV)(["animation:"," "," ",";"],Oa,$a,Ba):(0,d.gV)(["animation:"," "," ease-in;"],za,$a))),Oa=(0,d.xZ)(["from{transform:translate(50%,-50%) scale(0);opacity:0.5;}50%{transform:translate(50%,-50%) scale(1.15);opacity:0.75;}to{transform:translate(50%,-50%) scale(1);opacity:1;}"]),za=(0,d.xZ)(["from{transform:translate(50%,-50%) scale(1);opacity:1;}to{transform:translate(50%,-50%) scale(0.4);opacity:0;}"]),Pa=e=>{switch(e.ratingStyle){case"numbers":case"stars":return(0,S.jsx)("div",{children:"Not supported"});case"emojis":return(0,S.jsx)(La,{...e})}};function Va(e){return(0,S.jsx)(Fa,{children:Pa(e)})}const Fa=d.cp.div.withConfig({displayName:"CsatRatingInput__Container",componentId:"sc-ocykmg-0"})(["display:flex;justify-content:center;flex-wrap:wrap;gap:2px;"]);function Ua(e){return(0,S.jsxs)(Ha,{children:[e.agent&&(0,S.jsx)(Da,{avatarUrl:e.agent.avatarUrl,name:e.agent.name,size:"large"}),(0,S.jsx)(Wa,{$textStyle:"bodyBold",children:e.ratingQuestion?(t=e.ratingQuestion,256,t.length>256?`${t.slice(0,256)}...`:t):(0,S.jsx)(ga.c,{id:"8Jj3NK",defaultMessage:[{type:0,value:"How was your experience?"}]})}),(0,S.jsx)(Va,{disabled:e.ratingDisabled,onSelect:e.onSaveRating,ratingStyle:e.ratingType,selectedScore:e.selectedScore}),(0,S.jsx)(xa,{loading:e.loading,onSave:e.onSaveComment,savedComment:e.savedComment,commentPlaceholderText:e.commentPlaceholderText,askForCommentQuestionText:e.askForCommentQuestion,allowSave:void 0!==e.selectedScore}),e.showSubmitSuccessfulMessage&&(0,S.jsx)(ma,{thankYouText:e.thankYouText})]});var t}const Ha=d.cp.div.withConfig({displayName:"CsatOfferView__Container",componentId:"sc-axfc4k-0"})(["position:relative;background-color:",";border:1px solid ",";box-sizing:border-box;box-shadow:",";border-radius:",";padding:",";padding-top:",";display:grid;grid-gap:",";grid-template-columns:1fr;grid-auto-flow:row;grid-template-rows:auto;"],v("neutral000"),v("neutral200"),C("large"),w("500"),b("300"),b("700"),b("300")),Da=(0,d.cp)(pi).withConfig({displayName:"CsatOfferView__StyledAvatar",componentId:"sc-axfc4k-1"})(["width:",";height:",";position:absolute;top:0;left:50%;transform:translate(-50%,-50%);z-index:10;border:2px solid ",";"],b("800"),b("800"),v("neutral000")),Wa=(0,d.cp)(ws).withConfig({displayName:"CsatOfferView__CenteredText",componentId:"sc-axfc4k-2"})(["text-align:center;"]),Qa=d.cp.div.withConfig({displayName:"Flexbox",componentId:"sc-18vogfo-0"})(["box-sizing:border-box;position:relative;user-select:none;display:flex;flex-direction:",";flex-wrap:",";justify-content:",";align-items:",";align-content:",";flex:",";order:",";gap:",";align-self:",";margin:",";padding:",";padding-block:",";padding-inline:",";background:",";border-radius:",";box-shadow:",";width:",";height:",";"],(({direction:e})=>e),(({flexWrap:e})=>e),(({justifyContent:e})=>e),(({alignItems:e})=>e),(({alignContent:e})=>e),(({flex:e})=>e),(({order:e})=>e),(({gap:e})=>e&&b(e)),(({alignSelf:e})=>e),(({margin:e})=>e&&b(e)),(({padding:e})=>e&&b(e)),(({paddingBlock:e})=>e&&b(e)),(({paddingInline:e})=>e&&b(e)),(({background:e})=>e?v(e):"initial"),(({borderRadius:e})=>e&&w(e)),(({boxShadow:e})=>e&&C(e)),(({width:e})=>e&&b(e)),(({height:e})=>e&&b(e)));var Ga=n(5120);function Za({status:e,errorMessage:t,clientSideId:n,onRemove:s,disabled:i,fileName:a,fileSize:o,fileFormat:r}){return(0,S.jsxs)(Qa,{gap:"100",paddingInline:"300",paddingBlock:"100",background:"neutral100",borderRadius:"300",children:[(0,S.jsx)(Qa,{width:"600",height:"600",padding:"100",borderRadius:"300",alignItems:"center",background:"neutral000",justifyContent:"center",children:(0,S.jsx)(Xa,{status:e})}),(0,S.jsxs)(Qa,{direction:"column",flex:"1",children:[(0,S.jsx)(Ya,{$textStyle:"informative",children:a}),(0,S.jsxs)(Ka,{$textStyle:"informative",children:[o," ",r]}),(0,S.jsx)(ws,{$textStyle:"informative",color:"textError",children:t})]}),(0,S.jsx)(Ja,{type:"button",variant:"neutral",squared:!0,onClick:()=>s(n),disabled:i,children:(0,S.jsx)(bi,{icon:ni,size:"300",color:"neutral700"})})]})}const Ya=(0,d.cp)(Cs).withConfig({displayName:"UploadableRow__FileNames",componentId:"sc-7flwtn-0"})(["max-width:150px;"]),Ka=(0,d.cp)(Cs).withConfig({displayName:"UploadableRow__FinePrint",componentId:"sc-7flwtn-1"})(["max-width:150px;font-size:10px;color:",";line-height:160%;font-weight:500;"],v("textTertiary")),Ja=(0,d.cp)(Ti).withConfig({displayName:"UploadableRow__RemoveButton",componentId:"sc-7flwtn-2"})(["width:",";height:",";padding:",";&:hover{box-shadow:",";}"],b("600"),b("600"),b("100"),C("small"));function Xa({status:e}){switch(e){case"fulfilled":return(0,S.jsx)(bi,{icon:ii,size:"300"});case"pending":return(0,S.jsx)(_i,{size:16,width:2});case"rejected":return(0,S.jsx)(bi,{icon:si,size:"300"});default:return null}}function eo({uploadables:e,onRemove:t,disabled:n=!1,appLocale:s}){return(0,S.jsx)(Qa,{direction:"column",gap:"100",children:e.map((({clientSideId:e,status:i,errorMessage:a,file:o,uploadResult:r},l)=>{const c=o?.name??r?.name??`File ${l+1}`,d=function(e,t="en"){try{return(0,Ga.c)(e,{locale:t})}catch(e){return console.error(e),""}}(o?.size??r?.size??0,s),u=o?function(e){return e.name.includes(".")&&e.name.split(".").pop()||""}(o).toUpperCase():"";return(0,S.jsx)(Za,{disabled:n,onRemove:t,clientSideId:e,status:i,errorMessage:a,fileName:c,fileFormat:u,fileSize:d},e)}))})}function to({label:e,required:t,fieldId:n,helpMessage:s,state:i,children:a,...o}){return(0,S.jsxs)(so,{...o,children:[!!e&&(0,S.jsxs)(no,{htmlFor:n,children:[e," ",t&&(0,S.jsx)(ga.c,{id:"my7Qsh",defaultMessage:[{type:0,value:"(Required)"}]})]}),a,s&&(0,S.jsxs)(ao,{$state:i??"normal",$textStyle:"informative",children:["error"===i&&(0,S.jsx)(bi,{size:"300",icon:Ps}),s]})]})}const no=d.cp.label.withConfig({displayName:"FieldWrapper__Label",componentId:"sc-ag2jox-0"})(["display:flex;align-items:center;gap:",";font-family:inherit;font-size:12px;line-height:146%;letter-spacing:0.0125em;color:",";"],b("50"),v("textSecondary")),so=d.cp.div.withConfig({displayName:"FieldWrapper__Container",componentId:"sc-ag2jox-1"})(["display:flex;flex-direction:column;gap:",";font-family:",";"," &:focus-within{","{color:",";}}"],b("50"),f.system,(({disabled:e})=>e&&(0,d.gV)(["pointer-event:none;"])),no,v("textPrimary")),io={normal:h.textSecondary,error:h.red500,valid:h.textSecondary},ao=(0,d.cp)(ws).withConfig({displayName:"FieldWrapper__HelpMessage",componentId:"sc-ag2jox-2"})(["display:flex;align-items:center;gap:",";color:",";min-height:",";"],b("100"),(({$state:e})=>io[e]),b("200")),oo=(e,t)=>{switch(t.type){case"addNewUploadable":return{...e,[t.payload.clientSideId]:t.payload};case"removeUploadable":{const n={...e};return delete n[t.payload.clientSideId],n}case"UploadableUploadFulfilled":return{...e,[t.payload.clientSideId]:{...e[t.payload.clientSideId],status:"fulfilled",uploadResult:t.payload.uploadResult}};case"UploadableUploadRejected":return{...e,[t.payload.clientSideId]:{...e[t.payload.clientSideId],status:"rejected",errorMessage:t.payload.errorMessage}};case"UploadableUploadPending":return{...e,[t.payload.clientSideId]:{...e[t.payload.clientSideId],status:"pending"}}}};function ro(e){if(!e)return[];const t=[];for(let n=0;n<e.length;n+=1)t.push(e[n]);return t}function lo({label:e,description:t}){return(0,S.jsxs)(uo,{children:[(0,S.jsx)(co,{$textStyle:"headingH6",color:"textLink",children:e}),(0,S.jsx)(ws,{$textStyle:"extraSmall",color:"textTertiary",children:t})]})}const co=(0,d.cp)(ws).withConfig({displayName:"Placeholder__Title",componentId:"sc-7kiusc-0"})(["font-size:14px;transition:0.3s all;"]),uo=d.cp.div.withConfig({displayName:"Placeholder__PlaceholderContainer",componentId:"sc-7kiusc-1"})(["display:grid;grid-template-columns:1fr;grid-template-rows:auto auto;"]),po={error:h.red500,normal:h.neutral200,valid:h.green600},go=(0,d.cp)(ws).withConfig({displayName:"components__Title",componentId:"sc-15283cn-0"})(["font-size:14px;transition:0.3s all;"]),mo=(0,d.cp)(Qa).withConfig({displayName:"components__IconContainer",componentId:"sc-15283cn-1"})(["width:fit-content;height:fit-content;"]),ho=d.cp.div.withConfig({displayName:"components__Container",componentId:"sc-15283cn-2"})(["position:relative;"]),fo=d.cp.label.withConfig({displayName:"components__Label",componentId:"sc-15283cn-3"})(["display:flex;gap:",";position:relative;border:1px dashed ",";border-radius:",";padding:"," ",";transition:0.3s all;cursor:pointer;",""],b("200"),v("neutral400"),w("300"),b("100"),b("300"),(({disabled:e})=>e&&(0,d.gV)(["border-color:",";cursor:not-allowed;","{color:",";}"],po.normal,go,v("neutral400")))),yo=d.cp.input.withConfig({displayName:"components__Input",componentId:"sc-15283cn-4"})(["position:absolute;visibility:hidden;width:0;height:0;min-width:0;min-height:0;max-width:0;max-height:0;outline:none;box-sizing:border-box;"]),vo=(0,j.forwardRef)((({disabled:e,onChange:t,onBlur:n,value:s,name:i,accept:a,placeholderLabel:o,placeholderDescription:r,dangerouslySetInnerHTML:l,...c},d)=>(0,S.jsx)(ho,{children:(0,S.jsxs)(fo,{disabled:e,children:[(0,S.jsx)(yo,{...c,disabled:e,type:"file",ref:d,onBlur:n,name:i,onChange:e=>{t?.(ro(e.target.files))},accept:a}),(0,S.jsx)(mo,{padding:"100",background:"neutral100",borderRadius:"100",children:(0,S.jsx)(bi,{icon:Gs,size:"500",color:"textPrimary"})}),(0,S.jsx)(lo,{label:o,description:r})]})})));vo.displayName="FileInput";const xo=j.forwardRef((({state:e,disabled:t,label:n,fieldId:s,required:i,helpMessage:a,appLocale:o,uploadables:r,placeholderLabel:l,placeholderDescription:c,onAddNewUploadable:d,onRemoveUploadable:u,...p},g)=>(0,S.jsxs)(to,{state:e,label:n,fieldId:s,required:i,disabled:t,helpMessage:a,children:[(0,S.jsx)(eo,{uploadables:r,onRemove:function(e){const t=r.filter((t=>e!==t.clientSideId)).map((({file:e})=>e)).filter((e=>!!e));p.onChange?.(t),u(e)},disabled:t,appLocale:o}),(0,S.jsx)(vo,{...p,id:s,ref:g,disabled:t,required:i,placeholderLabel:l,placeholderDescription:c,onChange:function(e){e?.forEach((e=>{d(e)})),p.onChange?.([...p.value||[],...e||[]])}})]})));xo.displayName="FileInputField";const bo=j.forwardRef((({state:e="normal",options:t,dangerouslySetInnerHTML:n,...s},i)=>(0,S.jsxs)(Co,{children:[(0,S.jsx)(Io,{dir:"auto",...s,ref:i,$state:e,children:t.map((({label:e,value:t},n)=>(0,S.jsx)(jo,{value:t,children:e},`${t}-${n}`)))}),"valid"===e&&(0,S.jsx)(wo,{})]})));bo.displayName="SelectInput";const wo=(0,d.cp)(oi).withConfig({displayName:"SelectInput__PositionedSuccessBadge",componentId:"sc-lwk3mf-0"})(["position:absolute;right:",";top:",";"],b("300"),b("200")),Co=d.cp.div.withConfig({displayName:"SelectInput__Container",componentId:"sc-lwk3mf-1"})(["position:relative;"]),Io=d.cp.select.withConfig({displayName:"SelectInput__Select",componentId:"sc-lwk3mf-2"})(["-webkit-appearance:none;direction:inherit;display:block;width:100%;height:100%;min-width:0;outline:none;box-sizing:border-box;border:1px solid ",";border-color:",";border-radius:",";color:",";padding:10px ",";font-family:",";font-size:14px;line-height:145%;letter-spacing:0.0025em;background-color:",";position:relative;&::placeholder{color:",";}&:disabled{background-color:",";border-color:",";}&:focus{border:1px solid ",";box-shadow:0px 0px 0px 3px ",";}"],v("neutral200"),(({$state:e})=>po[e]),w("300"),v("textPrimary"),b("300"),f.system,v("neutral000"),v("textTertiary"),v("neutral100"),po.normal,v("neutral900"),v("purple300")),jo=d.cp.option.withConfig({displayName:"SelectInput__Option",componentId:"sc-lwk3mf-3"})(["color:",";&:disabled{color:",";}&:hover{background-color:",";}&:active{background-color:",";}"],v("textPrimary"),v("textTertiary"),v("neutral100"),v("neutral200")),So=j.forwardRef((({state:e,disabled:t,label:n,fieldId:s,required:i,helpMessage:a,...o},r)=>(0,S.jsx)(to,{state:e,label:n,fieldId:s,required:i,disabled:t,helpMessage:a,children:(0,S.jsx)(bo,{...o,id:s,state:e,ref:r,disabled:t,required:i})})));So.displayName="SelectField";const Mo=j.forwardRef((({state:e="normal",isClearable:t=!1,onClearInput:n,dangerouslySetInnerHTML:s,...i},a)=>(0,S.jsxs)(_o,{children:[(0,S.jsx)(To,{type:"text",dir:"auto",...i,ref:a,$state:e,$isClearable:t}),"valid"===e&&(0,S.jsx)(ko,{}),t&&(0,S.jsx)(No,{variant:"transparent",type:"button",onClick:n,children:(0,S.jsx)(Ao,{icon:Es,size:"300",color:"neutral700"})})]})));Mo.displayName="TextInput";const ko=(0,d.cp)(oi).withConfig({displayName:"TextInput__PositionedSuccessBadge",componentId:"sc-1pmp2q6-0"})(["position:absolute;right:",";top:",";"],b("300"),b("200")),_o=d.cp.div.withConfig({displayName:"TextInput__Container",componentId:"sc-1pmp2q6-1"})(["position:relative;"]),To=d.cp.input.withConfig({displayName:"TextInput__Input",componentId:"sc-1pmp2q6-2"})(["direction:inherit;display:block;width:100%;height:100%;min-width:0;outline:none;box-sizing:border-box;border:1px solid ",";border-color:",";border-radius:",";color:",";padding:10px ",";font-family:",";font-size:14px;line-height:145%;letter-spacing:0.0025em;background-color:",";position:relative;&::placeholder{color:",";}&:disabled{background-color:",";border-color:",";}&:focus{border:1px solid ",";box-shadow:0px 0px 0px 3px ",";}",""],v("neutral200"),(({$state:e})=>po[e]),w("300"),v("textPrimary"),b("300"),f.system,v("neutral000"),v("textTertiary"),v("neutral100"),po.normal,v("neutral900"),v("purple300"),(({$isClearable:e})=>e&&(0,d.gV)(["padding-right:",";"],b("700")))),No=(0,d.cp)(Ti).withConfig({displayName:"TextInput__StyledCloseButton",componentId:"sc-1pmp2q6-3"})(["display:flex;position:absolute;top:0;right:0;height:100%;z-index:1;padding:",";&:focus{box-shadow:none;}&:hover{background:none;}"],b("200")),Ao=(0,d.cp)(bi).withConfig({displayName:"TextInput__StyledCloseIcon",componentId:"sc-1pmp2q6-4"})(["",":hover,",":focus &{fill:",";}"],No,No,v("neutral900")),Lo=j.forwardRef((({state:e,disabled:t,label:n,fieldId:s,required:i,helpMessage:a,...o},r)=>(0,S.jsx)(to,{state:e,label:n,fieldId:s,required:i,disabled:t,helpMessage:a,children:(0,S.jsx)(Mo,{...o,id:s,state:e,ref:r,disabled:t,required:i})})));Lo.displayName="TextField";const $o=j.forwardRef((({state:e,dangerouslySetInnerHTML:t,...n},s)=>(0,S.jsx)(Bo,{type:"text",dir:"auto",rows:5,...n,ref:s,$state:e??"normal"})));$o.displayName="Textarea";const Bo=d.cp.textarea.withConfig({displayName:"Textarea__TextareaElement",componentId:"sc-1o44vik-0"})(["direction:inherit;display:block;width:100%;height:100%;min-width:0;outline:none;box-sizing:border-box;border:1px solid ",";border-color:",";border-radius:",";color:",";padding:10px ",";font-family:",";font-size:14px;line-height:145%;letter-spacing:0.0125em;background-color:",";resize:vertical;max-height:50vh;min-height:100px;&::placeholder{color:",";}&:disabled{background-color:",";border-color:",";}&:focus{border:1px solid ",";box-shadow:0px 0px 0px 3px ",";}"],v("neutral200"),(({$state:e})=>po[e]),w("300"),v("textPrimary"),b("300"),f.system,v("neutral000"),v("textTertiary"),v("neutral100"),po.normal,v("neutral900"),v("purple300")),Eo=j.forwardRef((({state:e,disabled:t,label:n,fieldId:s,required:i,helpMessage:a,...o},r)=>(0,S.jsx)(to,{state:e,label:n,fieldId:s,required:i,disabled:t,helpMessage:a,children:(0,S.jsx)($o,{...o,id:s,state:e,ref:r,disabled:t,required:i})})));Eo.displayName="TextareaField";const Ro=d.cp.div.withConfig({displayName:"Overlay",componentId:"sc-exs9d9-0"})([""," position:absolute;bottom:0;left:0;right:0;top:0;transition-property:opacity;transition-duration:","ms;transition-timing-function:ease-in-out;transition-delay:0;opacity:0;pointer-events:none;",""],(({$isViewedOnSmallScreen:e})=>!e&&(0,d.gV)(["background-color:rgba(19,34,68,0.2);"])),200,(({$isOpen:e})=>e&&(0,d.gV)(["opacity:1;transition-delay:50ms;"]))),qo=d.cp.div.withConfig({displayName:"PopupSheet",componentId:"sc-151opir-0"})(["box-sizing:border-box;position:absolute;bottom:0;width:100%;",";background:",";border:1px solid ",";border-radius:"," "," 0 0;overflow:auto;will-change:transform;transition-property:transform;transition-timing-function:ease-in-out;transition-duration:","ms;transform:translate3d(0,100%,0);",""],(({height:e})=>"number"==typeof e?(0,d.gV)(["height:","px;"],e):(0,d.gV)(["height:calc(100% - ",");"],b("300"))),v("neutral000"),v("neutral200"),w("500"),w("500"),200,(({$isOpen:e})=>!0===e?(0,d.gV)(["transform:translate3d(0,0,0);"]):(0,d.gV)(["transform:translate3d(0,100%,0);"])));function Oo({children:e,isOpen:t,className:n,onModalTransitionEnd:s,size:i="fill-screen"}){const{isViewedOnSmallScreen:a}=(0,at.w1)(z.getUIState),{ref:o,dimensions:r}=function(...e){const[t,n]=(0,j.useState)({width:0,height:0}),s=(0,j.useRef)(null);return(0,j.useEffect)((()=>{if(s.current){const{width:e,height:t}=s.current.getBoundingClientRect();n({width:e,height:t})}}),[...e,t.width,t.height]),{ref:s,dimensions:t}}(t),l="fill-screen"===i?void 0:r.height;return(0,S.jsxs)(zo,{className:n,$isOpen:t,children:[(0,S.jsx)(Ro,{$isViewedOnSmallScreen:a,$isOpen:t}),(0,S.jsx)(qo,{$isOpen:t,onTransitionEnd:s,height:l,children:(0,S.jsx)("div",{ref:o,children:e})})]})}const zo=d.cp.div.withConfig({displayName:"Modal__Container",componentId:"sc-17muwp-0"})(["position:fixed;top:0;left:0;bottom:0;right:0;transform:scale(0);"," ","{z-index:1;}","{z-index:2;}"],(({$isOpen:e})=>e&&(0,d.gV)(["transform:scale(1);"])),Ro,qo);var Po=n(7216);const Vo=(0,j.createContext)({isOpen:!1,isAnimating:!1}),Fo=e=>{const{isAnimating:t}=(0,j.useContext)(Vo),n=(0,Po.c)(t);(0,j.useEffect)((()=>{n&&!t&&e()}),[n,t,e])},Uo=({isOpen:e,children:t})=>{const n=(0,Po.c)(e),[s,i]=(0,j.useState)(!1);(0,j.useEffect)((()=>{!n&&e&&i(!0)}),[n,e]);const a=(0,j.useCallback)((()=>i(!1)),[]);return(0,S.jsx)(Vo.Provider,{value:{isOpen:e,isAnimating:s},children:t({isOpen:e,isAnimating:s,onModalTransitionEnd:a})})};function Ho({title:e,onClose:t}){return(0,S.jsxs)(Do,{children:[(0,S.jsx)(ws,{$textStyle:"bodyBold",children:e}),(0,S.jsx)(Wo,{onClick:t,variant:"transparent",squared:!0,children:(0,S.jsx)(bi,{icon:Es,size:"500"})})]})}const Do=d.cp.div.withConfig({displayName:"PopupHeader__HeaderContainer",componentId:"sc-1203xvr-0"})(["display:flex;justify-content:space-between;align-items:center;padding-top:",";padding-bottom:",";padding-left:",";padding-right:",";"],b("50"),b("50"),b("400"),b("400")),Wo=(0,d.cp)(Ti).withConfig({displayName:"PopupHeader__StyledCloseButton",componentId:"sc-1203xvr-1"})(["color:",";padding:"," 0;&:focus{box-shadow:none;}"],v("textPrimary"),b("300"));function Qo({className:e,children:t}){const[n,s]=(0,j.useState)(!1),[i,a]=(0,j.useState)(!1),o=(0,j.useRef)(null);function r(){if(null==o.current)return;const{scrollHeight:e,scrollTop:t,offsetHeight:n}=o.current;s(t>0),a(t+n<e)}return(0,j.useEffect)((()=>{if(null!=o.current){const e=o.current;return e.addEventListener("scroll",r),r(),()=>{e.removeEventListener("scroll",r)}}}),[]),(0,S.jsx)(Go,{className:e,$showTopShadow:n,$showBottomShadow:i,children:(0,S.jsx)(Zo,{ref:o,children:t})})}const Go=d.cp.div.withConfig({displayName:"ScrollShadow__Container",componentId:"sc-1oi6egy-0"})(["position:relative;z-index:0;overflow-y:hidden;&::before,&::after{content:'';position:absolute;left:0;right:0;z-index:2;height:",";pointer-events:none;}"," ",""],b("200"),(({$showTopShadow:e})=>e&&(0,d.gV)(["&::before{top:0;background:linear-gradient(to bottom,rgba(19,34,68,0.08),transparent);}"])),(({$showBottomShadow:e})=>e&&(0,d.gV)(["&::after{bottom:0;background:linear-gradient(to top,rgba(19,34,68,0.08),transparent);}"]))),Zo=d.cp.div.withConfig({displayName:"ScrollShadow__ContentContainer",componentId:"sc-1oi6egy-1"})(["height:100%;overflow-y:auto;z-index:1;"]),Yo=(0,Rn.Os)({closeButtonTitle:{id:"rbrahO",defaultMessage:[{type:0,value:"Close"}]}});function Ko({onClick:e,...t}){const{formatMessage:n}=(0,Ci.c)();return(0,S.jsx)(Jo,{...t,variant:"transparent",onClick:e,title:n(Yo.closeButtonTitle),children:(0,S.jsx)(bi,{icon:Es,color:"primary"})})}const Jo=(0,d.cp)(Ti).withConfig({displayName:"CloseButton__Button",componentId:"sc-1paoyck-0"})(["width:",";height:",";padding:0;"],b("600"),b("600")),Xo=(0,d.cp)(ws).withConfig({displayName:"Message",componentId:"sc-1d0o99d-0"})(["color:",";"],v("neutral000")),er=d.cp.div.withConfig({displayName:"Root__Container",componentId:"sc-wbe1ip-0"})(["background-color:",";border-radius:",";padding:",";display:grid;grid-template:1fr / auto 1fr auto;grid-gap:",";align-items:start;user-select:none;"],v("neutral900"),w("300"),b("300"),b("300"));function tr({variant:e}){return"success"===e?(0,S.jsx)(sr,{icon:ii}):(0,S.jsx)(ir,{icon:si})}const nr=(0,d.gV)(["border-radius:50%;border:4px solid;"]),sr=(0,d.cp)(bi).withConfig({displayName:"Icon__StyledSuccessIcon",componentId:"sc-dyisd2-0"})([""," border-color:",";"],nr,v("green700")),ir=(0,d.cp)(bi).withConfig({displayName:"Icon__StyledErrorIcon",componentId:"sc-dyisd2-1"})([""," border-color:",";"],nr,v("red900"));function ar({variant:e,message:t,onClose:n}){return(0,S.jsxs)(er,{children:[(0,S.jsx)(tr,{variant:e}),(0,S.jsx)(Xo,{$textStyle:"body",children:t}),(0,S.jsx)(Ko,{onClick:n,variant:"neutral",children:null})]})}d.cp.span.withConfig({displayName:"visuallyHidden__VisuallyHidden",componentId:"sc-j5gcl0-0"})(["clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;"]);const or=(0,Rn.Os)({responseTime:{id:"M0bDUq",defaultMessage:[{type:8,value:"small",children:[{type:0,value:"We usually reply"}]},{type:0,value:" "},{type:8,value:"big",children:[{type:0,value:"within "},{type:6,value:"minutes",options:{one:{value:[{type:7},{type:0,value:" minute"}]},other:{value:[{type:7},{type:0,value:" minutes"}]}},offset:0,pluralType:"cardinal"}]}]}}),rr=({averageResponseMinutes:e,color:t,withIcon:n,compact:s=!1,center:i=!1,className:a})=>{if(void 0===e)return(0,S.jsx)("div",{});const o=s?"informative":"body";return(0,S.jsx)(lr,{className:a,compact:s,center:i,children:(0,S.jsx)(ga.c,{...or.responseTime,values:{small:e=>(0,S.jsx)(dr,{$textStyle:o,colorName:t,$center:i,children:e}),big:e=>(0,S.jsxs)(dr,{$textStyle:"body",colorName:t,$center:i,style:{marginTop:"4px"},children:[e,n&&(0,S.jsx)(cr,{icon:Bs})]}),minutes:e}})})},lr=d.cp.div.withConfig({displayName:"WaitingEstimation__Container",componentId:"sc-o25d29-0"})(["",";text-align:",";"],(({compact:e})=>e?(0,d.gV)(["display:flex;flex-direction:column;"]):(0,d.gV)(["display:block;"])),(({center:e})=>e?"center":"left")),cr=(0,d.cp)(bi).withConfig({displayName:"WaitingEstimation__StyledIcon",componentId:"sc-o25d29-1"})(["margin-left:",";"],b("100")),dr=(0,d.cp)(ws).withConfig({displayName:"WaitingEstimation__ColoredText",componentId:"sc-o25d29-2"})(["color:",";display:inline-flex;align-items:center;justify-content:",";"],(({colorName:e})=>v(e)),(({$center:e})=>e?"center":"flex-start"));var ur=n(4300),pr=n.n(ur);const gr={ALLOWED_TAGS:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr","img"],ALLOW_DATA_ATTR:!1,ALLOWED_ATTR:["href","name","target","src","srcset","alt","title","width","height","loading","rel"]},mr={ALLOWED_TAGS:[...gr.ALLOWED_TAGS,"iframe","video"],ALLOW_DATA_ATTR:!0,ALLOW_ARIA_ATTR:!0,ALLOWED_ATTR:["href","name","target","src","srcset","alt","title","width","height","loading","style","class","role","src","width","frameborder","allowfullscreen","autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload"]},hr=e=>pr().sanitize(e,mr),fr=e=>pr().sanitize(e,gr);function yr({content:e}){return(0,S.jsx)(vr,{dangerouslySetInnerHTML:{__html:fr(e)}})}const vr=d.cp.span.withConfig({displayName:"SafeInnerHTML__StyledContainer",componentId:"sc-1hd1zqy-0"})(["ol,ul{padding-left:",";}"],b("500")),xr=d.cp.div.withConfig({displayName:"Containers__CurrentPageWrapper",componentId:"sc-slkv6y-0"})(["height:100vh;width:100vw;overflow:auto;border-radius:",";background-color:transparent;transform-origin:50% 45%;transition-property:transform;transition-duration:","ms;transition-timing-function:ease-in-out;",""],(({$isViewedOnSmallScreen:e})=>e?"none":w("500")),200,(({$isViewedOnSmallScreen:e,$modalShowing:t})=>!e&&(0,d.gV)(["transform:",";transition-delay:",";"],t?"scale(0.97)":"scale(1)",t?"0ms":"50ms")));var br=n(3284);function wr(e,t){let n=e;for(const[e,s]of Object.entries(t))n=n.replace(`:${e}`,s);return n}function Cr(){return(0,br.W4)()}const Ir=(0,Rn.Os)({prompt:{id:"ivtSk0",defaultMessage:[{type:0,value:"Was this helpful?"}]},helpful:{id:"c8/lHP",defaultMessage:[{type:0,value:"Yes, thanks"}]},submittedPositiveFeedback:{id:"2xwXcq",defaultMessage:[{type:0,value:"Great. Want to leave a comment?"}]},addComment:{id:"vPCMyI",defaultMessage:[{type:0,value:"Add a comment"}]},addCommentInputPlaceholder:{id:"vbDFvq",defaultMessage:[{type:0,value:"Your comment"}]},submittedComment:{id:"F4DN1r",defaultMessage:[{type:0,value:"Thanks for your comment."}]},notHelpful:{id:"8TFDHQ",defaultMessage:[{type:0,value:"No, I need help"}]},submittedNegativeFeedback:{id:"W2oRJd",defaultMessage:[{type:0,value:"Please reach out for more help."}]},startConversation:{id:"kmXSuj",defaultMessage:[{type:0,value:"Start conversation"}]},error:{id:"2MjDIA",defaultMessage:[{type:0,value:"An error happened. Please try again."}]}}),jr=({articleId:e,articleTitle:t})=>{const n=(0,Ci.c)(),s=is(),[i,a]=(0,j.useState)(!1),o=(0,j.useRef)(null);(0,j.useEffect)((()=>{o.current?.scrollIntoView()}),[]);const r=(0,j.useCallback)((async({comment:i})=>{try{await s(Y.endpoints.articleComment.initiate({articleId:e,articleTitle:t,text:i},{forceRefetch:!0})),a(!0)}catch(e){s(vn({variant:"error",message:n.formatMessage(Ir.error)}))}}),[e,t,s,n]),{register:l,handleSubmit:c,formState:{errors:d,isSubmitting:u}}=(0,aa.aS)();return i?(0,S.jsx)(Sr,{children:(0,S.jsx)(Mr,{$textStyle:"bodyBold",children:(0,S.jsx)(ga.c,{...Ir.submittedComment})})}):(0,S.jsxs)(Sr,{children:[(0,S.jsx)(Mr,{$textStyle:"bodyBold",children:(0,S.jsx)(ga.c,{...Ir.submittedPositiveFeedback})}),(0,S.jsxs)(kr,{onSubmit:c(r),ref:o,children:[(0,S.jsx)(Eo,{...l("comment",{required:{value:!0,message:n.formatMessage(ra.required)}}),required:!0,fieldId:"comment",placeholder:n.formatMessage(Ir.addCommentInputPlaceholder),state:d.comment?"error":"normal",helpMessage:d.comment?.message}),(0,S.jsx)(Ti,{type:"submit",variant:"primary",disabled:u,children:u?(0,S.jsx)(_i,{}):n.formatMessage(Ir.addComment)})]})]})},Sr=d.cp.div.withConfig({displayName:"PositiveFeedback__Container",componentId:"sc-j1h3lk-0"})(["display:flex;flex-direction:column;row-gap:",";text-align:center;",";"],b("200"),ea()),Mr=(0,d.cp)(ws).withConfig({displayName:"PositiveFeedback__StyledText",componentId:"sc-j1h3lk-1"})(["color:",";"],v("neutral800")),kr=d.cp.form.withConfig({displayName:"PositiveFeedback__Form",componentId:"sc-j1h3lk-2"})(["display:flex;flex-direction:column;row-gap:",";"],b("200")),_r=()=>{const{navigateTo:e}=eh(),t=(0,at.w1)(Mt.getOpenConversationStatus),n=(0,j.useCallback)((()=>{t?e.conversation({conversationId:t.conversationId}):e.createNewConversation()}),[e,t]);return(0,S.jsxs)(Tr,{children:[(0,S.jsx)(Nr,{$textStyle:"bodyBold",children:(0,S.jsx)(ga.c,{...Ir.submittedNegativeFeedback})}),(0,S.jsx)(Ar,{variant:"secondary",onClick:n,children:(0,S.jsx)(ga.c,{...Ir.startConversation})})]})},Tr=d.cp.div.withConfig({displayName:"NegativeFeedback__Container",componentId:"sc-1frcspq-0"})(["display:flex;flex-direction:column;row-gap:",";text-align:center;",";"],b("300"),ea()),Nr=(0,d.cp)(ws).withConfig({displayName:"NegativeFeedback__StyledText",componentId:"sc-1frcspq-1"})(["color:",";"],v("neutral800")),Ar=(0,d.cp)(Ti).withConfig({displayName:"NegativeFeedback__BorderlessButton",componentId:"sc-1frcspq-2"})(["border:none;"]),Lr=({isSubmitting:e,submitFeedback:t})=>(0,S.jsxs)($r,{children:[(0,S.jsx)(Br,{$textStyle:"bodyBold",children:(0,S.jsx)(ga.c,{...Ir.prompt})}),(0,S.jsxs)(Er,{children:[(0,S.jsxs)(Rr,{variant:"secondary",onClick:()=>t("POSITIVE"),disabled:e,children:[(0,S.jsx)(bi,{icon:ei,color:"textSuccess"}),(0,S.jsx)(ws,{$textStyle:"buttonText",children:(0,S.jsx)(ga.c,{...Ir.helpful})})]}),(0,S.jsxs)(Rr,{variant:"secondary",onClick:()=>t("NEGATIVE"),disabled:e,children:[(0,S.jsx)(bi,{icon:Xs,color:"red700"}),(0,S.jsx)(ws,{$textStyle:"buttonText",children:(0,S.jsx)(ga.c,{...Ir.notHelpful})})]})]})]}),$r=d.cp.div.withConfig({displayName:"FeedbackPrompt__Container",componentId:"sc-1d8hzso-0"})(["display:flex;flex-direction:column;row-gap:",";text-align:center;",";"],b("500"),ea()),Br=(0,d.cp)(ws).withConfig({displayName:"FeedbackPrompt__StyledText",componentId:"sc-1d8hzso-1"})(["color:",";"],v("neutral800")),Er=d.cp.div.withConfig({displayName:"FeedbackPrompt__Actions",componentId:"sc-1d8hzso-2"})(["display:flex;grid-gap:",";"],b("100")),Rr=(0,d.cp)(Ti).withConfig({displayName:"FeedbackPrompt__Action",componentId:"sc-1d8hzso-3"})(["border:none;flex-grow:1;display:flex;align-items:center;grid-gap:",";padding:"," ",";&:hover{background-color:",";cursor:pointer;}&:focus{background-color:",";}"],b("100"),b("100"),b("200"),v("neutral200"),v("neutral200")),qr=({articleId:e,articleTitle:t})=>{const n=(0,Ci.c)(),s=is(),{isLoading:i,data:a}=Y.useGetArticleSettingsQuery(),[o,r]=(0,j.useState)(!1),[l,c]=(0,j.useState)(null),d=!1===a?.article_feedback_enabled,u=(0,j.useCallback)((async i=>{r(!0);try{await s(Y.endpoints.articleFeedback.initiate({articleId:e,articleTitle:t,reaction:i},{forceRefetch:!0})),c(i)}catch(e){s(vn({variant:"error",message:n.formatMessage(Ir.error)}))}finally{r(!1)}}),[e,t,s,n]);return d||i?null:"POSITIVE"===l?(0,S.jsx)(Or,{children:(0,S.jsx)(jr,{articleId:e,articleTitle:t})}):"NEGATIVE"===l?(0,S.jsx)(Or,{children:(0,S.jsx)(_r,{})}):(0,S.jsx)(Or,{children:(0,S.jsx)(Lr,{submitFeedback:u,isSubmitting:o})})},Or=(0,d.cp)(Oi).withConfig({displayName:"ArticleFeedback__StyledCard",componentId:"sc-1ix6fki-0"})(["padding:",";"],b("500"));var zr=n(8992);const Pr=e=>`<div class="article">${e}</div>`,Vr=e=>{const t=document.createElement("template");return t.innerHTML=e.trim(),t.content},Fr=["https://cdn.elev.io/article-styles/article-min.css"],Ur=(0,j.memo)((({articleId:e,articleTitle:t,articleBody:n,className:s})=>{const i=is(),{navigateTo:a}=eh();return(0,j.useEffect)((()=>{i(Y.endpoints.articleView.initiate({articleId:e,articleTitle:t},{forceRefetch:!0}))}),[e,t,i]),(0,S.jsx)(vs,{className:s,title:t,documentFragment:()=>{return e=n,t=e=>a.knowledgeBaseArticle(e),(0,zr.flow)(hr,Pr,Vr,(e=>t=>(t.querySelectorAll("[data-elevio-article],[data-elevio-inline]").forEach((t=>{t.addEventListener("click",(()=>{const n=t.getAttribute("data-elevio-article")||t.getAttribute("data-elevio-inline");n&&e(n)}))})),t))(t))(e);var e,t},headCss:"\n  /* Overwrite margin and padding from elevio's css article */\n  .article {\n    margin: 0 !important;\n    padding: 0 !important;\n  }\n",stylesheets:Fr})})),Hr=(0,Rn.Os)({loading:{id:"TTwT8p",defaultMessage:[{type:0,value:"Loading"}]},articleNotFound:{id:"eHjjB+",defaultMessage:[{type:0,value:"Article not found"}]}});function Dr({withCloseButton:e=!1}){const{formatMessage:t}=(0,Ci.c)(),{articleId:n}=Cr(),s=(0,at.w1)(z.getLanguage),{navigateTo:i}=eh(),a=Ep().general.integrations?.elevio?.companyId,[o]=(0,Ii.k5)(),r=o.get("companyId")??a??"",{data:l,isLoading:c,isFetching:d}=Y.useGetArticleQuery({articleId:n,companyId:r}),u=l?.data.article,p=((e,t)=>{const{data:n,isError:s}=Y.useGetAccountSettingsQuery(),i=n?.data.accountSettings?.kbLink;if(t&&!s)return function(e,t,n){if(e)return`${e.startsWith("http")?e:`https://${e}`}/${t}/articles/${n}`}(i,e,t.slug)})(s,u),g=(0,j.useMemo)((()=>u?.body?Wi(u.body,"text/html"):""),[u]);return c||d?(0,S.jsx)(Wr,{children:(0,S.jsx)(Qr,{"aria-label":t(Hr.loading)})}):u?(0,S.jsxs)(Wr,{children:[(0,S.jsxs)(Gr,{children:[(0,S.jsx)(ws,{$textStyle:"bodyBold",children:u.title}),(0,S.jsxs)(Xr,{children:[p&&(0,S.jsx)(Zr,{title:u.title,href:p,target:"_blank",rel:"noopener noreferrer",children:(0,S.jsx)(bi,{icon:Fs,size:"300"})}),e&&(0,S.jsx)(Jr,{variant:"transparent",onClick:i._back,children:(0,S.jsx)(bi,{icon:Es,size:"400"})})]})]}),(0,S.jsx)(Yr,{articleId:u.id,articleTitle:u.title,articleBody:g},u.id),(0,S.jsx)(Kr,{children:(0,S.jsx)(qr,{articleId:u.id,articleTitle:u.title})})]}):(0,S.jsx)(Wr,{children:(0,S.jsxs)(Gr,{children:[(0,S.jsx)(ws,{$textStyle:"bodyBold",children:(0,S.jsx)(ga.c,{...Hr.articleNotFound})}),(0,S.jsx)(Xr,{children:(0,S.jsx)(Jr,{variant:"transparent",onClick:i._back,children:(0,S.jsx)(bi,{icon:Es,size:"400"})})})]})})}const Wr=d.cp.div.withConfig({displayName:"KnowledgeBaseArticle__Container",componentId:"sc-1sfqiwu-0"})(["flex-grow:1;display:flex;flex-direction:column;min-height:100%;background:",";"],v("neutral000")),Qr=(0,d.cp)(_i).attrs({size:20,width:4}).withConfig({displayName:"KnowledgeBaseArticle__StyledSpinner",componentId:"sc-1sfqiwu-1"})(["align-self:center;margin:"," auto;color:",";"],b("300"),v("neutral900")),Gr=d.cp.div.withConfig({displayName:"KnowledgeBaseArticle__ArticleHeader",componentId:"sc-1sfqiwu-2"})(["display:flex;justify-content:space-between;align-items:center;padding:"," ",";"],b("500"),b("600")),Zr=d.cp.a.withConfig({displayName:"KnowledgeBaseArticle__ArticleLink",componentId:"sc-1sfqiwu-3"})(["display:flex;color:",";padding:",";"],v("neutral700"),b("100")),Yr=(0,d.cp)(Ur).withConfig({displayName:"KnowledgeBaseArticle__StyledElevioArticle",componentId:"sc-1sfqiwu-4"})(["border:none;flex-grow:1;box-sizing:content-box;padding:0 ",";"],b("600")),Kr=d.cp.div.withConfig({displayName:"KnowledgeBaseArticle__ArticleFeedbackContainer",componentId:"sc-1sfqiwu-5"})(["margin:"," 0;padding:0 ",";"],b("600"),b("300")),Jr=(0,d.cp)(Ti).withConfig({displayName:"KnowledgeBaseArticle__CloseButton",componentId:"sc-1sfqiwu-6"})(["color:",";padding:",";"],v("neutral700"),b("100")),Xr=(0,d.cp)(Qa).withConfig({displayName:"KnowledgeBaseArticle__ActionButtonsContainer",componentId:"sc-1sfqiwu-7"})(["position:relative;inset-inline-end:-",";align-items:center;"],b("100")),el=(0,d.gV)(["padding:"," "," "," ",";"],b("300"),b("400"),b("300"),b("500")),tl=d.cp.div.withConfig({displayName:"styled__CardHeader",componentId:"sc-m87ixo-0"})(["background:",";",";"],v("neutral000"),el),nl=(0,d.cp)(Ts).withConfig({displayName:"styled__StyledTextSkeleton",componentId:"sc-m87ixo-1"})(["border-radius:0;"]),sl=d.cp.button.withConfig({displayName:"styled__ArticleRowContainer",componentId:"sc-m87ixo-2"})(["",";display:grid;grid-template-columns:1fr max-content;column-gap:",";justify-content:space-between;align-items:center;text-align:start;border:none;outline:none;background:",";&:hover{cursor:pointer;background:",";}",""],el,b("200"),v("neutral000"),v("neutral100"),(({$isSkeleton:e})=>!e&&(0,d.gV)([":hover{cursor:pointer;background:",";}"],v("neutral100")))),il=(0,d.cp)(Oi).withConfig({displayName:"styled__ContainerCard",componentId:"sc-m87ixo-3"})(["display:flex;flex-direction:column;overflow:hidden;",",","{border-bottom:1px solid ",";}"],tl,sl,v("neutral200"));function al({articles:e,articlesCount:t,isLoading:n,onArticleClick:s}){return n?(0,S.jsx)(S.Fragment,{children:Array(t).fill(void 0).map(((e,t)=>(0,S.jsx)(ol,{},`skeleton-${t}`)))}):(0,S.jsx)(S.Fragment,{children:e.map((e=>(0,S.jsx)(rl,{articleId:e.id,articleTitle:e.title,onArticleClick:s},`article-${e.id}`)))})}function ol(){return(0,S.jsxs)(sl,{$isSkeleton:!0,children:[(0,S.jsx)(nl,{$textStyle:"body"}),(0,S.jsx)(wi,{lrtIcon:As,rtlIcon:Ns,size:"400"})]})}function rl({onArticleClick:e,articleTitle:t,articleId:n}){return(0,S.jsxs)(sl,{onClick:()=>e(n),"data-testid":"articleRow",children:[(0,S.jsx)(Cs,{$textStyle:"body",children:t}),(0,S.jsx)(wi,{lrtIcon:As,rtlIcon:Ns,size:"400"})]})}const ll=(0,Rn.Os)({suggestedArticles:{id:"H35Bs2",defaultMessage:[{type:0,value:"Suggested articles"}]},popularTopics:{id:"U+lQJC",defaultMessage:[{type:0,value:"Popular topics"}]},showMoreArticles:{id:"anFKdX",defaultMessage:[{type:0,value:"Show "},{type:6,value:"count",options:{one:{value:[{type:7},{type:0,value:" more article"}]},other:{value:[{type:7},{type:0,value:" more articles"}]}},offset:0,pluralType:"cardinal"}]}}),cl=({handleArticleClick:e})=>{const{data:t,isLoading:n,isSuccess:s,isError:i}=Y.useGetSuggestedArticlesQuery(),a=t?.data.suggestArticlesFromContext.results??[];return i||s&&0===a?.length?null:(0,S.jsxs)(il,{children:[(0,S.jsx)(tl,{children:(0,S.jsx)(ws,{$textStyle:"bodyBold",children:(0,S.jsx)(ga.c,{...ll.suggestedArticles})})}),(0,S.jsx)(al,{isLoading:n,articles:a,articlesCount:5,onArticleClick:e})]})},dl=({category:e,handleArticleClick:t,isSubCategory:n=!1})=>{const s="subCategories"in e?e.subCategories:null,i=e.articles,[a,{data:o,isLoading:r,isSuccess:l}]=Y.useLazyGetCategoryArticlesQuery(),c=(0,j.useCallback)((()=>{a({limit:i.pageInfo.totalCount,categoryId:e.id})}),[i.pageInfo.totalCount,e.id,a]),d=(0,j.useMemo)((()=>l?o?o.data.category.articles.results.map((e=>({id:e.id,title:e.title}))):[]:i.results.map((e=>({id:e.id,title:e.title})))),[l,i.results,o]),u=i.pageInfo.totalCount-5,p=u>0&&!l;return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(na,{toggler:({toggle:t,isExpanded:n})=>(0,S.jsxs)(sl,{onClick:t,children:[(0,S.jsx)(ws,{$textStyle:n?"bodyBold":"body",children:e.title}),(0,S.jsx)(bi,{icon:n?Qs:Zs,size:"300"})]}),content:({ref:e})=>(0,S.jsxs)(ul,{ref:e,$isSubCategory:n,children:[s?.map((e=>(0,S.jsx)(dl,{isSubCategory:!0,category:e,handleArticleClick:t},e.id))),d.map((e=>(0,S.jsxs)(sl,{onClick:()=>t(e.id),children:[e.title,(0,S.jsx)(wi,{lrtIcon:As,rtlIcon:Ns,size:"400"})]},`article-${e.id}`))),p&&(r?(0,S.jsx)(sl,{children:(0,S.jsx)(pl,{size:16})}):(0,S.jsx)(sl,{onClick:c,children:(0,S.jsx)(gl,{$textStyle:"bodyBold",children:(0,S.jsx)(ga.c,{values:{count:u},...ll.showMoreArticles})})}))]})})})},ul=d.cp.div.withConfig({displayName:"TopicWithArticles__ArticlesContainer",componentId:"sc-s7ofck-0"})(["display:flex;flex-direction:column;","{padding-left:",";}",";"],sl,b("600"),(({$isSubCategory:e})=>e&&(0,d.gV)(["","{padding-left:",";}"],sl,b("800")))),pl=(0,d.cp)(_i).withConfig({displayName:"TopicWithArticles__StyledSpinner",componentId:"sc-s7ofck-1"})(["justify-self:center;"]),gl=(0,d.cp)(ws).withConfig({displayName:"TopicWithArticles__ShowMoreText",componentId:"sc-s7ofck-2"})(["color:",";"],v("textLink")),ml=({handleArticleClick:e})=>{const{data:t,isLoading:n,isSuccess:s,isError:i}=Y.useGetCategoriesWithArticlesQuery(),a=t?.data.categoriesWithArticles;if(i||s&&0===a?.length)return null;const o=Array(5).fill(null),r=n?o:a??[];return(0,S.jsxs)(il,{children:[(0,S.jsx)(tl,{children:(0,S.jsx)(ws,{$textStyle:"bodyBold",children:(0,S.jsx)(ga.c,{...ll.popularTopics})})}),r.map(((t,n)=>null===t?(0,S.jsxs)(sl,{$isSkeleton:!0,children:[(0,S.jsx)(nl,{$textStyle:"body"}),(0,S.jsx)(bi,{icon:Zs,size:"300"})]},`skeleton-${n}`):(0,S.jsx)(dl,{category:t,handleArticleClick:e},`category-${t.id}`)))]})};function hl(){const{navigateTo:e}=eh(),t=(0,j.useCallback)((t=>e.knowledgeBaseArticle(t)),[e]);return(0,S.jsxs)(fl,{children:[(0,S.jsx)(cl,{handleArticleClick:t}),(0,S.jsx)(ml,{handleArticleClick:t})]})}const fl=d.cp.div.withConfig({displayName:"KnowledgeBaseHome__Container",componentId:"sc-us2yga-0"})(["display:flex;flex-direction:column;row-gap:",";min-height:100%;padding:",";"],b("300"),b("100")),yl="article/:articleId",vl=[{path:"",element:(0,S.jsx)(hl,{})},{path:yl,element:(0,S.jsx)(Dr,{})}];function xl(e){switch(e){case"ANONYMOUS":return"anonymous";case"CLAIMED":return"claim";case"VERIFIED":return"verified"}}const bl=(0,ye.M3)(Pe,z.getMinimumIdentityRequirement,((e,t)=>void 0===e?{passesMinimumRequirement:!1,needsToUpgradeTo:"anonymous"}:new Bn({minimumIdentificationLevel:t}).passesMinimumRequiredIdentificationLevel(e)?{passesMinimumRequirement:!0}:{passesMinimumRequirement:!1,needsToUpgradeTo:xl(t)}));function wl(){const e=(0,at.w1)(bl),t=is(),{navigateTo:n}=eh();return async function(s){if(e.passesMinimumRequirement)return{type:"alreadyIdentified",result:"success"};switch(e.needsToUpgradeTo){case"anonymous":try{return await t(Ze({type:"anonymous"})).unwrap(),{result:"success",type:"anonymous"}}catch(e){return{result:"failure",type:"anonymous"}}case"claim":return n.identityClaimModal(s.redirectAfterIdentityClaim),{result:"success",type:"claim"};case"verified":return n.identityClaimModal(s.redirectAfterIdentityClaim),{result:"success",type:"verified"}}}}function Cl(){const e=(0,at.w1)(Sn.getNotifications),t=(0,at.w1)(Sn.getVisibleNotifications),n=is();return{notify:function(e){const t=e.id??mn();return n(vn({...e,id:t})),t},queuedNotifications:e,visibleNotifications:t}}const Il=j.createContext(void 0);function jl(){const e=(0,j.useContext)(Il);if(!e)throw new Error("Can not access conversation context, make sure the provider is setting the right value");return e}const Sl=(0,Rn.Os)({emptyConversationStart:{id:"/KNYFx",defaultMessage:[{type:0,value:"Send a message to start a conversation"}]}});function Ml(){return(0,S.jsx)(kl,{children:(0,S.jsx)(ws,{$textStyle:"body",children:(0,S.jsx)(ga.c,{...Sl.emptyConversationStart})})})}const kl=d.cp.div.withConfig({displayName:"StartMessage__Container",componentId:"sc-1q8xr0g-0"})(["text-align:center;color:",";margin-top:",";"],v("textTertiary"),b("100"));function _l(){return(0,S.jsx)(Tl,{children:(0,S.jsx)(Ts,{$textStyle:"body",style:{width:"228px"}})})}const Tl=d.cp.div.withConfig({displayName:"StartMessageSkeleton__Container",componentId:"sc-1gte450-0"})(["display:flex;justify-content:center;"]),Nl={name:"Mim",avatarUrl:n.p+"b9c8ac4b27679cef5dca02ec0cedc282.svg"},Al=({avatarUrl:e,name:t,description:n,...s})=>(0,S.jsxs)(Ll,{...s,children:[(0,S.jsx)(pi,{avatarUrl:e,name:t,size:"medium",placeholderStyle:"transparent"}),(0,S.jsxs)($l,{children:[(0,S.jsx)(ws,{$textStyle:"bodyBold",children:t}),n&&(0,S.jsx)(ws,{$textStyle:"informative",children:n})]})]}),Ll=d.cp.div.withConfig({displayName:"AgentInfo__Container",componentId:"sc-1g024v1-0"})(["display:flex;align-items:center;gap:",";flex:1;"],b("200")),$l=d.cp.div.withConfig({displayName:"AgentInfo__InfoContainer",componentId:"sc-1g024v1-1"})(["display:flex;flex-direction:column;margin-left:",";color:",";"],b("200"),v("primary")),Bl=d.cp.div.withConfig({displayName:"Elements__Container",componentId:"sc-15oafs6-0"})(["display:flex;align-items:",";background:",";color:",";position:relative;gap:",";transition:all 0.3s linear;-webkit-transition:all 0.3s linear;padding:",";"],(({$compactView:e})=>e?"center":"flex-start"),x("mainGradient"),v("primary"),b("100"),b("100")),El=d.cp.div.withConfig({displayName:"Elements__NoAgentAssignedHeader",componentId:"sc-15oafs6-1"})(["width:100%;display:flex;gap:",";align-items:center;padding:"," 0;flex-direction:",";z-index:0;"],b("300"),(({$compact:e})=>b(e?"100":"300")),(({$compact:e})=>e?"row":"column")),Rl=(0,d.cp)(Li).withConfig({displayName:"Elements__StyledBackButton",componentId:"sc-15oafs6-2"})(["z-index:1;position:relative;"]),ql=(0,d.cp)(Bi).withConfig({displayName:"Elements__StyledBadge",componentId:"sc-15oafs6-3"})(["position:absolute;top:0;left:0;z-index:1;transform:translate3d(-25%,-25%,0);"]),Ol=(0,Rn.Os)({MimDescription:{id:"o0/SZQ",defaultMessage:[{type:0,value:"AI assistant"}]}});function zl({agentId:e,compactView:t,agentAssignmentStatus:n,chatbotId:s}){const{avatars:i}=Ep(),a=(0,at.w1)(Mt.getAgentById(e)),o=(0,at.w1)(Mt.getChatbotById(s));return"assigned"===n&&e&&a?(0,S.jsx)(Al,{name:a.name,avatarUrl:a.avatarUrl}):s&&o?(0,S.jsx)(Al,{name:o.name||Nl.name,avatarUrl:o.avatarUrl||Nl.avatarUrl,description:(0,S.jsx)(ga.c,{...Ol.MimDescription})}):"notAssigned"===n?(0,S.jsxs)(El,{$compact:t,children:[(0,S.jsx)(vi,{compact:t,avatarUrls:i}),(0,S.jsx)(rr,{compact:!0,withIcon:!0,center:!t,color:"primary",averageResponseMinutes:undefined})]}):(0,S.jsx)("div",{style:{flex:1}})}function Pl(e){const t=(0,at.w1)(Mt.getAllConversationsUnseenCount),n=ss((t=>null==e?0:Mt.getConversationUnseenMessagesCount(t,e)));return{unseenMessageCountToShow:t.count-n,thereIsMessageInConversation:(ss((t=>null==e?void 0:Mt.getConversationMessageCount(e)(t)))??0)>0}}function Vl(){const{resolveAppPath:e}=eh(),{conversationId:t}=jl(),{unseenMessageCountToShow:n}=Pl(t);return(0,S.jsx)(Rl,{to:e.mainView(),children:(0,S.jsx)(ql,{children:n})})}const Fl=(0,Rn.Os)({endConversation:{id:"aiFCG6",defaultMessage:[{type:0,value:"End conversation"}]}});function Ul({anchorMenuTo:e,children:t,menuChildren:n,className:s}){const[i,a]=(0,j.useState)(!1),o=(0,j.useRef)(null);(0,j.useEffect)((()=>(document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r))),[]);const r=e=>{o.current&&!o.current.contains(e.target)&&a(!1)};return(0,S.jsxs)(Hl,{className:s,ref:o,children:[(0,S.jsx)(Dl,{onClick:()=>{a((e=>!e))},children:t}),i?(0,S.jsx)(Wl,{$anchoredTo:e,onClick:()=>{a(!i)},children:n}):null]})}const Hl=d.cp.div.withConfig({displayName:"Dropdown__Container",componentId:"sc-hwvwz2-0"})(["position:relative;"]),Dl=d.cp.div.withConfig({displayName:"Dropdown__TriggerContainer",componentId:"sc-hwvwz2-1"})(["position:relative;"]),Wl=d.cp.div.withConfig({displayName:"Dropdown__MenuContainer",componentId:"sc-hwvwz2-2"})(["position:absolute;inset-block-start:calc(100% + ",");z-index:1;padding:",";background-color:white;box-shadow:",";border-radius:",";",";"],b("50"),b("50"),C("focus"),w("100"),(({$anchoredTo:e})=>"left"===e?(0,d.gV)(["inset-inline-start:0;"]):(0,d.gV)(["inset-inline-end:0;"]))),Ql=({items:e})=>(0,S.jsx)(Gl,{children:e}),Gl=d.cp.ul.withConfig({displayName:"List__StyledList",componentId:"sc-1ddxnkh-0"})(["list-style:none;padding:0;margin:0;"]),Zl=d.cp.li.withConfig({displayName:"List__StyledListItem",componentId:"sc-1ddxnkh-1"})(["padding-inline:",";padding-block:",";white-space:nowrap;user-select:none;color:",";cursor:pointer;&:not(:last-of-type){margin-block-end:",";}&:hover{background-color:",";}"],b("300"),b("200"),v("neutral800"),b("100"),v("neutral100"));function Yl({onEndConversationClick:e}){const{conversationId:t}=jl(),n=[!(0,at.w1)(Mt.getConversationHasEnded(t))&&(0,S.jsx)(Ql.Item,{onClick:e,children:(0,S.jsx)(ws,{$textStyle:"body",children:(0,S.jsx)(ga.c,{...Fl.endConversation})})},1)].filter(Boolean);return 0===n.length?(0,S.jsx)(Jl,{}):(0,S.jsx)(Ul,{anchorMenuTo:"right",menuChildren:(0,S.jsx)(Ql,{items:n}),children:(0,S.jsx)(Kl,{variant:"transparent",squared:!0,"data-testid":"dropdown-toggle",children:(0,S.jsx)(bi,{icon:Os})})})}Ql.Item=Zl;const Kl=(0,d.cp)(Ti).withConfig({displayName:"HeaderMenu__StyledButton",componentId:"sc-je4xr3-0"})(["display:flex;align-items:center;width:",";height:",";"],b("900"),b("900")),Jl=d.cp.div.withConfig({displayName:"HeaderMenu__DropdownPlaceholder",componentId:"sc-je4xr3-1"})(["width:",";height:",";"],b("900"),b("900")),Xl=()=>{const{conversationId:e}=jl(),{navigateTo:t}=eh(),{thereIsMessageInConversation:n}=Pl(e),s=ss(Mt.getAgentAssignmentStatus(e)),i=(0,at.w1)(Mt.getConversationHasAnAgentAssigned(e)),a=(0,at.w1)(Mt.getConversationChatbotId(e)),o=Boolean(a),r=(0,at.w1)(Mt.getConversationAgentId(e)),l=n||i||o;return(0,S.jsxs)(Bl,{$compactView:l,children:[(0,S.jsx)(Vl,{}),(0,S.jsx)(zl,{compactView:l,agentAssignmentStatus:s,agentId:r,chatbotId:a}),(0,S.jsx)(Yl,{onEndConversationClick:function(){t.endConversationModal({conversationId:e})}})]})},ec=n.p+"ef1d30f5190063365fc06298f0c8861c.png";function tc({children:e}){return(0,S.jsx)(nc,{children:(0,S.jsx)(sc,{children:e})})}const nc=d.cp.div.withConfig({displayName:"EntriesContainer__Container",componentId:"sc-1oxhijw-0"})(["overflow-y:hidden;display:flex;flex-direction:column;"]),sc=d.cp.div.withConfig({displayName:"EntriesContainer__Content",componentId:"sc-1oxhijw-1"})(["position:relative;display:flex;flex:1;flex-direction:column;background:",";z-index:0;height:100%;& > *{z-index:2;}&::before{content:'';background-color:",";background-image:url(",");background-size:40px 40px;background-repeat:repeat;opacity:0.25;position:absolute;top:0;right:0;left:0;bottom:0;z-index:1;}"],v("neutral000"),v("neutral000"),ec);function ic({isLoading:e}){const{conversationId:t}=Cr(),n=(0,j.useMemo)((()=>({conversationId:t})),[t]);return(0,S.jsx)(Il.Provider,{value:n,children:(0,S.jsxs)(ac,{children:[(0,S.jsx)(Xl,{}),(0,S.jsx)(tc,{children:e&&(0,S.jsx)(oc,{children:(0,S.jsx)(_l,{})})})]})})}const ac=d.cp.div.withConfig({displayName:"ConversationLoaderView__Container",componentId:"sc-kh17n3-0"})(["display:flex;flex-direction:column;height:100%;& > *{&:nth-child(2){flex:1;}}"]),oc=d.cp.div.withConfig({displayName:"ConversationLoaderView__SkeletonContainer",componentId:"sc-kh17n3-1"})(["padding:"," 0;"],b("500")),rc=(0,Rn.Os)({startFailed:{id:"tHWf5D",defaultMessage:[{type:0,value:"We’re having trouble creating new conversations. Try refreshing the page, or write us an email."}]}});function lc(){const[e,t]=(0,j.useState)(void 0),{notify:n,queuedNotifications:s,visibleNotifications:i}=Cl(),{formatMessage:a}=(0,Ci.c)(),o=(0,at.w1)(He),r=is(),{navigateTo:l,resolveAppPath:c}=eh(),d=wl(),u=(0,j.useRef)(!1),p=(0,j.useCallback)((e=>t(n({message:e,variant:"error",automaticallyDisappear:!1}))),[n]),g=(0,j.useCallback)((async e=>{const t=a(rc.startFailed);if(null===e)return p(t);if(fe.oP.is(e)||fe.Gk.is(e)){const{result:e,type:n}=await d({redirectAfterIdentityClaim:{redirect:c.newConversation()}});if("alreadyIdentified"===n)return console.error("User meets minimum identification requirement, but backend refuses to accept it"),p(a(rc.startFailed));if("failure"===e)return p(t);"anonymous"===n&&l.createNewConversation()}p(t)}),[a,d,p,l,c]);return(0,j.useEffect)((()=>{!async function(){if(!u.current&&"fulfilled"===o)try{u.current=!0;const e=await r(kt());if(kt.rejected.match(e))return void g(e.error);kt.fulfilled.match(e)&&l.conversation({conversationId:e.payload.conversationId},{replace:!0})}finally{u.current=!1}}()}),[o]),(0,j.useEffect)((()=>{(function(e,t,n){const s=t=>t.id===e;return null!=e&&null==t.find(s)&&null==n.find(s)})(e,s,i)&&l.mainView()}),[e,i,s,l]),(0,S.jsx)(ic,{isLoading:null==e})}const cc=(0,Rn.Os)({startNewConversation:{id:"9D458B",defaultMessage:[{type:0,value:"Start a new conversation"}]},conversationEndedMessage:{id:"LCRTHx",defaultMessage:[{type:0,value:"Your conversation has ended."}]}});function dc(){const e=(0,Ci.c)(),{conversationId:t}=jl(),{navigateTo:n}=eh();return"TERMINAL"===(0,at.w1)(Mt.getConversationClosedKind(t))?null:(0,S.jsxs)(uc,{children:[(0,S.jsx)(pc,{$textStyle:"body",children:e.formatMessage(cc.conversationEndedMessage)}),(0,S.jsx)(gc,{variant:"primary",onClick:()=>n.createNewConversation(),children:e.formatMessage(cc.startNewConversation)})]})}const uc=d.cp.div.withConfig({displayName:"ClosedConversationFooter__Container",componentId:"sc-jg70ko-0"})(["padding:",";display:flex;flex-direction:column;gap:",";background-color:",";"],b("300"),b("300"),v("neutral000")),pc=(0,d.cp)(ws).withConfig({displayName:"ClosedConversationFooter__StyledText",componentId:"sc-jg70ko-1"})(["color:",";text-align:center;"],v("textSecondary")),gc=(0,d.cp)(Ti).withConfig({displayName:"ClosedConversationFooter__StyledButton",componentId:"sc-jg70ko-2"})(["color:",";background-color:",";"],v("neutral000"),v("neutral900")),mc=d.cp.div.withConfig({displayName:"Container",componentId:"sc-1m2rdhw-0"})(["overflow-y:auto;padding:"," 0;height:100%;display:flex;flex-direction:column;overflow-x:hidden;direction:ltr;& > *:not(:last-child){margin-bottom:",";}"],b("300"),b("300"));function hc(e){return["agent-assignment-requested","assignment","agentLeft","agentTyping","chatbotTyping"].includes(e.type)}const fc=(0,d.cp)(Ii.cH).withConfig({displayName:"LinkPreview__Container",componentId:"sc-tj7tsc-0"})(["text-decoration:none;color:inherit;box-sizing:border-box;display:grid;grid-template-columns:1fr;grid-template-rows:1fr 1fr;align-items:center;position:relative;padding:",";padding-inline-start:calc("," + 4px);width:100%;height:70px;min-height:70px;max-height:70px;border:1px solid ",";background-color:",";border-radius:",";user-select:none;&:hover{background-color:",";}&::before{content:'';position:absolute;inset-block-start:-1px;inset-block-end:-1px;inset-inline-start:-1px;width:4px;background-color:",";border-start-start-radius:",";border-end-start-radius:",";}"],b("300"),b("300"),v("neutral300"),v("neutral000"),w("100"),v("neutral100"),v("purple500"),w("100"),w("100")),yc=(0,d.cp)(Cs).withConfig({displayName:"LinkPreview__Headline",componentId:"sc-tj7tsc-1"})(["align-self:end;"]),vc=(0,d.cp)(ws).withConfig({displayName:"LinkPreview__Description",componentId:"sc-tj7tsc-2"})(["align-self:start;"]);function xc({className:e,linkPreviews:t}){return(0,S.jsxs)(bc,{className:e,children:[(0,S.jsx)(Cc,{}),(0,S.jsx)(wc,{children:t.map((e=>(0,S.jsx)(Ic,{headline:e.headline,description:e.description,to:e.to},e.headline)))})]})}const bc=d.cp.div.withConfig({displayName:"LinkPreviewList__Container",componentId:"sc-1syer23-0"})(["display:flex;justify-content:stretch;align-items:stretch;width:100%;gap:",";"],(({theme:e})=>e.space[100])),wc=d.cp.div.withConfig({displayName:"LinkPreviewList__ListContainer",componentId:"sc-1syer23-1"})(["display:grid;grid-auto-flow:row;grid-auto-rows:min-content;box-shadow:",";flex:1;"],C("small")),Cc=d.cp.div.withConfig({displayName:"LinkPreviewList__LeftBar",componentId:"sc-1syer23-2"})(["width:3px;background-color:",";border-radius:1px;"],(({theme:e})=>e.colors.neutral200)),Ic=(0,d.cp)((function({headline:e,description:t,to:n,className:s}){return(0,S.jsxs)(fc,{className:s,to:n,children:[(0,S.jsx)(yc,{$textStyle:"bodyBold",color:"textSecondary",children:e}),(0,S.jsx)(vc,{$textStyle:"informative",color:"textSecondary",children:t})]})})).withConfig({displayName:"LinkPreviewList__StyledLinkPreview",componentId:"sc-1syer23-3"})(["&:not(:last-child){border-bottom:none;border-end-start-radius:0;border-end-end-radius:0;&::before{border-end-start-radius:0;}}&:not(:first-child){border-start-start-radius:0;border-start-end-radius:0;&::before{border-start-start-radius:0;}}"]),jc=(e,t,n)=>n.indexOf(e)===t,Sc=e=>e.startsWith("http")?e:`https://${e}`;function Mc(e){try{return new URL(e).pathname.match(/\/articles\/(\d+)/)?.at(1)??null}catch(e){return null}}const kc="elevio.help";function _c({message:e}){const{resolveAppPath:t}=eh(),n=Y.useGetAccountSettingsQuery().data?.data.accountSettings,s=(0,j.useMemo)((()=>{const t=n?.kbLink?function(e){try{return new URL(e).host}catch(e){return}}(n.kbLink)??kc:kc;return function(e){return"userSentMessage"!==e.type&&"text"===e.content.type&&"text/html"===e.content.contentType}(e)?function(e,t){try{const n=(new DOMParser).parseFromString(e,"text/html").querySelectorAll(`a[href*="${t}"]`);return Array.from(n).map((({href:e})=>Sc(e))).map(Mc).filter((e=>null!==e)).filter(jc)}catch(e){return[]}}(e.content.text,t):function(e){return"userSentMessage"!==e.type&&"text"===e.content.type&&"text/plain"===e.content.contentType}(e)?function(e,t){try{return Fi().getMatches(e).filter((e=>"url"===e.type)).map((e=>e.getUrl())).map(Sc).filter((e=>new URL(e).hostname.endsWith(t))).map(Mc).filter((e=>null!==e)).filter(jc)}catch(e){return[]}}(e.content.text,t):[]}),[e,n?.kbLink]),{articles:i,isLoading:a}=function(e){const{isFetching:t,isLoading:n,isSuccess:s,data:i}=Y.useGetArticlesQuery({articleIds:e});return{articles:s?i??null:null,isLoading:n||t}}(s);if(0===s.length||a)return null;const o=i?.map((({title:e,category:n,id:s})=>({description:n.title,headline:e,to:t.knowledgeBaseArticleModal(s)})))||[];return(0,S.jsx)(Tc,{children:(0,S.jsx)(xc,{linkPreviews:o})})}const Tc=d.cp.div.withConfig({displayName:"KnowledgeBaseLinkPreviews__Container",componentId:"sc-gjd513-0"})(["grid-column:2 / auto;margin-block-end:",";"],b("50"));function Nc(e){const{conversationId:t}=jl(),n=["systemRequest","chatbotMessage","agentMessage"].includes(e.type)?Mt.getSubmittedResponseToSystemRequest(e)(t):()=>{};return ss(n)}var Ac=n(4764),Lc=n.n(Ac);const $c={string:e=>0===e.trim().length,html(e){if(0===e.trim().length)return!0;const t=(new DOMParser).parseFromString(e,"text/html").body,n=0===t.textContent?.trim().length,s=0===t.getElementsByTagName("img").length,i=0===t.getElementsByTagName("a").length;return n&&s&&i},messageEntry(e){switch(e.content.type){case"text":return"text/plain"===e.content.contentType||"text/markdown"===e.content.contentType?$c.string(e.content.text)&&$c.string(e.content.title??""):$c.html(e.content.text)&&$c.html(e.content.title??"");case"attachment":return Lc()(e.content.url)||0===e.content.url.length;case"chat-input-response":return 0===e.content.answer?.trim().length;case"chat-menu-response":return Lc()(e.content.chosenOptionId)||0===e.content.chosenOptionId.length;case"csat-response":return Lc()(e.content.score)&&0===e.content.comment?.trim().length;case"contact-form-response":return 0===e.content.message?.trim().length;default:return!1}}};function Bc(e){return Ec[e]}const Ec={text:{isFullHeight:!1,isFullWidth:!1,withAvatar:!0},attachment:{isFullHeight:!1,isFullWidth:!1,withAvatar:!0},"csat-response":{isFullHeight:!1,isFullWidth:!0,withAvatar:!1},"chat-input-response":{isFullHeight:!1,isFullWidth:!1,withAvatar:!1},"chat-menu-response":{isFullHeight:!1,isFullWidth:!1,withAvatar:!1},"contact-form-response":{isFullHeight:!1,isFullWidth:!1,withAvatar:!1},"form-response":{isFullHeight:!1,isFullWidth:!0,withAvatar:!1},"chat-input-request":{isFullHeight:!0,isFullWidth:!0,withAvatar:!1},"form-request":{isFullHeight:!0,isFullWidth:!0,withAvatar:!1},"chat-menu-request":{isFullHeight:!0,isFullWidth:!0,withAvatar:!1},"csat-request":{isFullHeight:!0,isFullWidth:!0,withAvatar:!1},"contact-form-request":{isFullHeight:!0,isFullWidth:!0,withAvatar:!1}},Rc=(0,j.forwardRef)((({agentInfo:e,children:t,groupType:n,messageCount:s,className:i,entry:a,forceFullHeight:o},r)=>{const l=function(e){if(hc(e))return!0;if("userSentMessage"===e.type)return!0;if("chat-input-request"===e.content.type||"chat-menu-request"===e.content.type)return $c.messageEntry(e);const{withAvatar:t}=Bc(e.content.type);return!t}(a),c=e&&!l,d=!!Nc(a),u=!!o||!d&&function(e){return!hc(e)&&Bc(e.content.type).isFullHeight}(a),p=function(e){return!!hc(e)||Bc(e.content.type).isFullWidth}(a),g=!hc(a)&&"userSentMessage"!==a.type&&"text"===a.content.type;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(Oc,{ref:r,className:i,$messageType:n,$numMessages:s,$isFullHeightMessage:u,$isFullWidthMessage:p,$withNoAvatar:!c,children:[c&&(0,S.jsx)(zc,{$numMessages:s,$isFullHeightMessage:u,children:(0,S.jsx)(pi,{avatarUrl:e.avatarUrl,name:e.name,size:"small",placeholderStyle:"solid"})}),t]}),g&&(0,S.jsx)(qc,{children:(0,S.jsx)(_c,{message:a})})]})}));Rc.displayName="MessagesGroup";const qc=d.cp.div.withConfig({displayName:"MessagesGroup__KnowledgeBaseLinksContainer",componentId:"sc-1g4zptq-0"})(["margin-inline:",";margin-inline-start:",";position:relative;&:empty{margin:0;}"],b("300"),b("900")),Oc=d.cp.div.withConfig({displayName:"MessagesGroup__Container",componentId:"sc-1g4zptq-1"})(["z-index:0;display:flex;margin:0 ",";padding-inline-start:",";align-self:",";flex:",";"],b("300"),(({$messageType:e})=>"userSentMessage"===e?b("900"):"0"),(({$messageType:e,$isFullWidthMessage:t})=>t?"stretch":"userSentMessage"===e?"end":"start"),(({$isFullHeightMessage:e})=>e?"1":"0")),zc=d.cp.div.withConfig({displayName:"MessagesGroup__AvatarContainer",componentId:"sc-1g4zptq-2"})(["align-self:",";margin-inline-end:",";margin-block-start:",";margin-block-end:",";"],(({$isFullHeightMessage:e})=>e?"start":"center"),b("300"),(({$isFullHeightMessage:e})=>e?b("200"):"0"),b("50")),Pc=(0,d.cp)(_s).withConfig({displayName:"MessageSkeleton",componentId:"sc-1r6ody2-0"})(["height:60px;grid-column:2;width:","px;"],(()=>Math.floor(200*Math.random())+100));function Vc(){return(0,S.jsxs)(Oc,{$numMessages:1,$messageType:"agentMessage",$isFullHeightMessage:!1,$isFullWidthMessage:!1,$withNoAvatar:!1,children:[(0,S.jsx)(zc,{$numMessages:1,$isFullHeightMessage:!1,children:(0,S.jsx)(gi,{size:"medium"})}),(0,S.jsx)(Pc,{})]})}function Fc(){return(0,S.jsx)(Oc,{$numMessages:1,$messageType:"userSentMessage",$isFullHeightMessage:!1,$isFullWidthMessage:!1,$withNoAvatar:!1,children:(0,S.jsx)(Pc,{})})}function Uc(){return(0,S.jsxs)(mc,{children:[(0,S.jsx)(Vc,{}),(0,S.jsx)(Fc,{}),(0,S.jsx)(Fc,{}),(0,S.jsx)(Vc,{}),(0,S.jsx)(Vc,{}),(0,S.jsx)(Fc,{})]})}const Hc=({children:e,className:t})=>(0,S.jsxs)(Dc,{className:t,children:[(0,S.jsx)(Wc,{}),(0,S.jsx)(Qc,{children:e}),(0,S.jsx)(Wc,{})]}),Dc=d.cp.div.withConfig({displayName:"eventMessage__Container",componentId:"sc-1gq4b37-0"})(["display:flex;align-items:center;color:",";"," direction:",";"],v("textSecondary"),I("informative"),(({theme:e})=>e.direction)),Wc=d.cp.div.withConfig({displayName:"eventMessage__Line",componentId:"sc-1gq4b37-1"})(["position:relative;top:-1px;height:1px;border-bottom:1px solid ",";flex:1;"],v("neutral200")),Qc=d.cp.div.withConfig({displayName:"eventMessage__MessageContainer",componentId:"sc-1gq4b37-2"})(["margin:0 ",";"],b("100")),Gc=(0,Rn.Os)({agentAssigned:{id:"uTA2as",defaultMessage:[{type:0,value:"Waiting for an agent to join"}]}}),Zc=({className:e})=>(0,S.jsx)(Hc,{className:e,children:(0,S.jsx)(Yc,{children:(0,S.jsx)(ga.c,{...Gc.agentAssigned})})}),Yc=d.cp.div.withConfig({displayName:"AssignmentRequest__Container",componentId:"sc-jfn9u6-0"})(["display:flex;justify-content:center;align-items:center;"]);var Kc=n(7524);const Jc=(0,Rn.Os)({required:{id:"17jF3y",defaultMessage:[{type:0,value:"Please fill out this field to continue"}]},send:{id:"9WRlF4",defaultMessage:[{type:0,value:"Send"}]}}),Xc=({chatInputRequestContent:e,onAnswered:t,disabled:n})=>{const{register:s,handleSubmit:i,setValue:a,getValues:o,formState:{errors:r,isValid:l,isSubmitting:c}}=(0,aa.aS)({mode:"onChange",shouldFocusError:!0}),d=(0,Ci.c)(),{label:u,placeholder:p}=e;return(0,S.jsx)("form",{onSubmit:i(t),children:(0,S.jsxs)(ed,{children:[(0,S.jsx)(Lo,{...s("answer",{required:d.formatMessage(Jc.required)}),autoFocus:!0,label:u,placeholder:p,disabled:n,fieldId:"answer",state:r.answer?"error":"normal",helpMessage:r.answer?.message,isClearable:""!==o("answer"),onClearInput:()=>a("answer","")}),(0,S.jsx)(td,{variant:"primary",type:"submit",squared:!0,disabled:!l||n,title:d.formatMessage(Jc.send),children:c?(0,S.jsx)(_i,{size:16,width:4}):(0,S.jsx)(ga.c,{...Jc.send})})]})})},ed=d.cp.div.withConfig({displayName:"ChatInputQuestion__TextFieldContainer",componentId:"sc-1d32lxw-0"})(["display:flex;flex-direction:column;margin:",";margin-bottom:0;"],b("300")),td=(0,d.cp)(Ti).withConfig({displayName:"ChatInputQuestion__StyledButton",componentId:"sc-1d32lxw-1"})(["margin-top:",";"],b("500")),nd=(0,Rn.Os)({failedToSubmit:{id:"JqiqNj",defaultMessage:[{type:0,value:"Something went wrong"}]}}),sd=(0,j.forwardRef)((({replyToMessageId:e,createdAt:t,chatInputRequestContent:n,hasResponse:s,className:i},a)=>{const{conversationId:o}=jl(),r=ss((e=>"closed"===e.conversation.conversations[o].status)),l=is(),c=!s;return(0,S.jsxs)(id,{ref:a,className:i,children:[(0,S.jsx)(Nu,{entry:{id:e,type:"systemRequest",createdAt:t,content:{type:"text",contentType:"text/plain",title:void 0,text:n.message}},isLastMessage:!1}),c&&(0,S.jsx)(Xc,{chatInputRequestContent:n,onAnswered:async({answer:t})=>{try{await l(lt({conversationId:o,content:{type:"chat-input-response",replyToMessageId:e,answer:t}}))}catch(e){l(vn({variant:"error",message:nd.failedToSubmit})),console.error(e)}},disabled:r})]})}));sd.displayName="ChatInputRequest";const id=d.cp.div.withConfig({displayName:"ChatInputRequest__Container",componentId:"sc-u3z6nt-0"})(["display:flex;flex-direction:column;direction:",";width:100%;"],(({theme:e})=>e.direction));var ad=n(2488);const od=(0,Rn.Os)({failedToSubmit:{id:"JqiqNj",defaultMessage:[{type:0,value:"Something went wrong"}]}}),rd=(0,j.forwardRef)((({createdAt:e,content:t,replyToMessageId:n,submittedValues:s,className:i},a)=>{const{conversationId:o}=jl(),r=is(),l=(0,at.w1)(Mt.getConversationHasEnded(o)),[c,d]=(0,j.useState)(!1),u=l||c,p=(0,j.useCallback)((async e=>{if(!c)try{d(!0),await r(lt({conversationId:o,content:{type:"chat-menu-response",replyToMessageId:n,chosenOptionId:e}}))}catch(e){r(vn({variant:"error",message:od.failedToSubmit})),console.error(e)}finally{d(!1)}}),[o,n,r,d,c]),g=(m=t,ad.Mv.isChatMenuRequestMessageContent(m)?{text:m.message,title:m.title,options:m.options,horizontalActionButtons:m.horizontalActionButtons}:{text:"",options:[]});var m;const h=void 0===s?.chosenOptionId;return(0,S.jsxs)(ld,{ref:a,$optionsAreVisible:h,className:i,children:[(0,S.jsx)(Nu,{entry:{type:"systemRequest",id:n,createdAt:e,content:{type:"text",text:g.text,title:g.title}},isLastMessage:!1}),h&&(0,S.jsx)(cd,{options:g.options,onSelect:p,disabled:u,horizontalActionButtons:g.horizontalActionButtons})]})}));rd.displayName="ChatMenuEntry";const ld=d.cp.div.withConfig({displayName:"ChatMenuEntry__Container",componentId:"sc-17dy2wi-0"})(["will-change:flex;transition:all 0.3s ease-in-out;flex:",";opacity:1;display:flex;flex-direction:column;justify-content:space-between;flex:1;width:100%;min-height:",";"],(({$optionsAreVisible:e})=>e?1:0),(({$optionsAreVisible:e})=>e?"200px":"initial")),cd=(0,d.cp)(Gi).withConfig({displayName:"ChatMenuEntry__StyledChatMenuOptions",componentId:"sc-17dy2wi-1"})(["justify-self:right;"]),dd=(0,Rn.Os)({noEmailInContactForm:{id:"EAjKil",defaultMessage:[{type:0,value:"No email is specified, failed to submit the message"}]},noNameInContactFormValues:{id:"Dk/VnT",defaultMessage:[{type:0,value:"No name is specified, please enter your name."}]},failedToSubmit:{id:"JqiqNj",defaultMessage:[{type:0,value:"Something went wrong"}]},invalidEmailError:{id:"rLEQsN",defaultMessage:[{type:0,value:"The provided email address is invalid"}]}}),ud=(0,j.forwardRef)((({replyToId:e,submittedValues:t,className:n},s)=>{const{askForEmail:i,askForName:a,handleSubmit:o,showSubmitSuccessfulMessage:r}=function({replyToMessageId:e}){const{conversationId:t}=jl(),[n,s]=(0,j.useState)(!1),i=ss(Ve),a=ss(Fe),o=ss(Ue),r=is(),l=void 0===i,c=void 0===a;return{handleSubmit:(0,j.useCallback)((async({message:n,email:l=i,name:c=a})=>{try{if(!l)return void r(vn({variant:"error",message:dd.noEmailInContactForm}));if(!c)return void r(vn({variant:"error",message:dd.noNameInContactFormValues}));await r(lt({conversationId:t,content:{type:"contact-form-response",replyToMessageId:e,message:n,email:l,name:c}})),o&&await r(Ze({type:"claim",email:l,name:c})).unwrap(),s(!0);const i=setTimeout((()=>{s(!1)}),1e4);return()=>clearTimeout(i)}catch(e){if(fe.Ud.is(e))return vn({variant:"error",message:dd.invalidEmailError});r(vn({variant:"error",message:dd.failedToSubmit})),console.error(e)}}),[t,e,r,i,a,o]),askForEmail:l,askForName:c,showSubmitSuccessfulMessage:n}}({replyToMessageId:e});return(0,S.jsx)(pd,{ref:s,className:n,children:(0,S.jsx)(la,{onSubmit:o,showEmailInput:i,showNameInput:a,submittedValues:t,submitSuccessfulMessageIsVisible:r})})}));ud.displayName="ContactFormEntry";const pd=d.cp.div.withConfig({displayName:"ContactFormEntry__Container",componentId:"sc-10r4jpx-0"})(["direction:",";width:100%;"],(({theme:e})=>e.direction)),gd=(0,Rn.Os)({invalidComment:{id:"++yUM3",defaultMessage:[{type:0,value:"Please enter a valid comment"}]},failedToSubmit:{id:"QLpTTO",defaultMessage:[{type:0,value:"Failed to submit the response"}]}}),md=(0,j.forwardRef)((({csatRequest:e,replyToId:t,submittedValues:n,className:s},i)=>{const{conversationId:a}=jl(),[o,r]=(0,j.useState)(n?.comment),[l,c]=(0,j.useState)(n?.score),[d,u]=(0,j.useState)(!1),[p,g]=(0,j.useState)(!1),{notify:m}=Cl(),{ratingType:h,followupQuestion:f,followupQuestionPlaceholder:y,mainQuestion:v,thankYouMessage:x}=e,b=ss(Mt.getConversationAgent(a)),w=is(),C=(0,j.useCallback)((async e=>{try{g(!0),await w(lt({conversationId:a,content:{type:"csat-response",replyToMessageId:t,score:e}})),c(e)}catch(e){m({variant:"error",message:gd.failedToSubmit}),console.error(e)}finally{g(!1)}}),[w,a,t,m]),I=(0,j.useCallback)((async e=>{try{if(!l)return;if(0===e?.trim().length)return void m({variant:"error",message:gd.invalidComment});g(!0),await w(lt({conversationId:a,content:{type:"csat-response",replyToMessageId:t,score:l,comment:e}})),r(e),u(!0),setTimeout(u,5e3,!1)}catch(e){m({variant:"error",message:gd.failedToSubmit}),console.error(e)}finally{g(!1)}}),[w,a,t,l,m]);return(0,S.jsx)(hd,{ref:i,className:s,children:(0,S.jsx)(Ua,{agent:b,loading:p,onSaveComment:I,onSaveRating:C,ratingDisabled:!!o,ratingType:h,savedComment:o,selectedScore:l,ratingQuestion:v,thankYouText:x,askForCommentQuestion:f,commentPlaceholderText:y,showSubmitSuccessfulMessage:d})})}));md.displayName="CsatEntry";const hd=d.cp.div.withConfig({displayName:"CsatEntry__Container",componentId:"sc-1jeu08m-0"})(["padding-top:",";padding-bottom:0;direction:",";width:100%;"],b("500"),(({theme:e})=>e.direction));function fd({fields:e,formControl:t,disabled:n,uploadables:s,onAddNewUploadable:i,onRemoveUploadable:a}){const o=ss(z.getLanguage),r=(0,Ci.c)(),l=e.map(((e,l)=>{switch(e.type){case"textfield":return(0,S.jsx)(aa.Mc,{defaultValue:e.initialValue??"",name:e.key,control:t,rules:xd(e.validations,r),render:({field:t,fieldState:s})=>(0,S.jsx)(Lo,{...t,value:t.value,disabled:n,fieldId:e.key,label:e.label,placeholder:e.placeholder,helpMessage:s.error?.message,state:s.error?"error":"normal"})},`${e.key}-${l}`);case"email":return(0,S.jsx)(aa.Mc,{defaultValue:e.initialValue??"",control:t,name:e.key,rules:xd(e.validations,r),render:({field:t,fieldState:s})=>(0,S.jsx)(Lo,{...t,value:t.value,type:"email",disabled:n,fieldId:e.key,label:e.label,placeholder:e.placeholder,helpMessage:s.error?.message,state:s.error?"error":"normal"})},`${e.key}-${l}`);case"textarea":return(0,S.jsx)(aa.Mc,{defaultValue:e.initialValue??"",control:t,name:e.key,rules:xd(e.validations,r),render:({field:t,fieldState:s})=>(0,S.jsx)(Eo,{...t,value:t.value,disabled:n,fieldId:e.key,label:e.label,placeholder:e.placeholder,helpMessage:s.error?.message,state:s.error?"error":"normal"})},`${e.key}-${l}`);case"select":return(0,S.jsx)(aa.Mc,{defaultValue:e.initialValue??e.options[0],control:t,name:e.key,rules:xd(e.validations,r),render:({field:t,fieldState:s})=>(0,S.jsx)(So,{...t,value:t.value,disabled:n,fieldId:e.key,label:e.label,placeholder:e.placeholder,helpMessage:s.error?.message,state:s.error?"error":"normal",options:e.options.map((e=>({value:e,label:e})))})},`${e.key}-${l}`);case"file":{const{key:r,validations:c,label:d,placeholder:u,placeholderLabel:p,placeholderDescription:g}=e;return(0,S.jsx)(aa.Mc,{defaultValue:void 0,control:t,name:r,rules:vd(c),render:({field:e,fieldState:t})=>(0,S.jsx)(xo,{...e,appLocale:o,value:e.value,accept:yd(c),multiple:!0,disabled:n,fieldId:r,label:d,placeholder:u,helpMessage:t.error?.message,state:t.error?"error":"normal",placeholderLabel:p,placeholderDescription:g,uploadables:s,onAddNewUploadable:i,onRemoveUploadable:a})},`${r}-${l}`)}}}));return(0,S.jsx)(S.Fragment,{children:l})}function yd(e){const t=e.find((e=>"validMimeTypes"===e.type));return t&&"validMimeTypes"===t.type?t.value.join(","):"*"}function vd(e){const t={maxFileSize:e=>!0,maxTotalFileSize:e=>!0},n={};return e.forEach((e=>{switch(e.type){case"required":n.required=e.errorMessage??!0;break;case"maxFileSize":t.maxFileSize=t=>{if(!t)return!0;const n=e.value;return!ro(t).some((e=>e.size>n))||e.errorMessage};break;case"maxFileSizeTotal":t.maxTotalFileSize=t=>{if(!t)return!0;const n=e.value;return!(ro(t).reduce(((e,t)=>e+t.size),0)>n)||e.errorMessage}}})),n.validate=t,n}function xd(e,t){const n={};return e.forEach((e=>{switch(e.type){case"required":n.required=""===e.errorMessage?t.formatMessage(ra.required):e.errorMessage??!0;break;case"regex":n.pattern={value:new RegExp(e.value),message:e.errorMessage}}})),n}const bd=(0,Rn.Os)({files:{id:"m4vqJl",defaultMessage:[{type:0,value:"Files"}]},defaultSubmitButtonLabel:{id:"wSZR47",defaultMessage:[{type:0,value:"Submit"}]},formSubmitFailed:{id:"2tv+kQ",defaultMessage:[{type:0,value:"Sorry, we were unable to submit your form. Please try again."}]},formSubmitSucceeded:{id:"QHnr28",defaultMessage:[{type:0,value:"Your form has been successfully submitted."}]},defaultConfirmationModalMessage:{id:"bKCN4W",defaultMessage:[{type:0,value:"Are you sure you want to send these changes?"}]},defaultConfirmationModalConfirmButtonLabel:{id:"EEf6oV",defaultMessage:[{type:0,value:"Yes, send them"}]},defaultConfirmationModalCancelButtonLabel:{id:"7gRYuN",defaultMessage:[{type:0,value:"No, don't send them"}]}});function wd(e){const{fields:t,disabled:n,onSubmit:s,isSubmitted:i,formControl:a,body:o,isSubmitting:r,submitLabel:l,title:c,uploadables:d,onAddNewUploadable:u,onRemoveUploadable:p}=e;return(0,S.jsxs)(Cd,{onSubmit:s,$isSubmitted:i,children:[(0,S.jsx)(ws,{$textStyle:"bodyBold",children:(0,S.jsx)(yr,{content:c??""})}),(0,S.jsx)(ws,{$textStyle:"informative",children:(0,S.jsx)(yr,{content:o??""})}),(0,S.jsx)(fd,{formControl:a,fields:t,disabled:n,uploadables:d,onAddNewUploadable:u,onRemoveUploadable:p}),!i&&(0,S.jsx)(Ti,{variant:"primary",type:n?"button":"submit",loading:r,disabled:n||r,gap:"50",children:l||(0,S.jsx)(ga.c,{...bd.defaultSubmitButtonLabel})})]})}const Cd=(0,d.cp)((function({children:e,onSubmit:t,className:n}){return(0,S.jsx)("form",{onSubmit:t,className:n,children:(0,S.jsx)(Qa,{direction:"column",gap:"300",alignItems:"stretch",alignContent:"stretch",children:e})})})).withConfig({displayName:"FormEntryView__StyledForm",componentId:"sc-1kv0yo8-0"})(["width:100%;box-sizing:border-box;padding:",";margin-bottom:",";"],(({$isSubmitted:e})=>e?0:b("300")),(({$isSubmitted:e})=>e?"4px":0)),Id=function(e){return e.fields.reduce(((e,t)=>(t.initialValue&&(e[t.key]=t.initialValue),e)),{})},jd=function(e){return e?Object.entries(e).reduce(((e,[t,n])=>"type"in n&&"files"===n.type?e:"value"in n?{...e,[t]:n.value}:e),{}):void 0},Sd=function(e,t){const n={};return Object.entries(e).forEach((([e,s])=>{s&&(s instanceof FileList||s instanceof File||function(e){return Array.isArray(e)&&e.every((e=>e instanceof File))}(s)?n[e]=function(e){return Object.values(e).reduce(((e,{file:t,status:n,uploadResult:s})=>t&&s&&"fulfilled"===n?{...e,files:[...e.files,{url:s.url,name:s.name,content_type:t.type,size:s.size,checksum:s.checksum}]}:e),{type:"files",files:[]})}(t):n[e]={value:s})})),n},Md=(0,j.createContext)(null),kd={async upload(e,t){const n=await re.uploadFile({file:e,httpClient:s.ox,sessionToken:t});if(ee.is(n))throw new Error(n.message);return{checksum:n.sha256Checksum,url:n.url}}};const _d=(0,j.forwardRef)(Td);function Td(e,t){const{onConfirm:n,onCancel:s,message:i,title:a,confirmButtonText:o,cancelButtonText:r,className:l}=e,[c,d]=(0,j.useState)(null),{modalIsOpen:u,openModal:p,closeModal:g}=(({initiallyOpen:e=!1})=>{const[t,n]=(0,j.useState)(e);return{modalIsOpen:t,openModal:(0,j.useCallback)((()=>{n(!0)}),[]),closeModal:(0,j.useCallback)((()=>{n(!1)}),[])}})({initiallyOpen:!1}),m=()=>{g(),d(null)};return(0,j.useImperativeHandle)(t,(()=>({openModal(e){(e=>{p(),e&&d(e)})(e)},closeModal(){m()}}))),(0,S.jsx)(Nd,{isOpen:u,className:l,size:"fit-content",children:(0,S.jsxs)(Qa,{paddingBlock:"300",paddingInline:"600",direction:"column",gap:"200",children:[a&&(0,S.jsx)(Ld,{padding:"100",children:(0,S.jsx)(ws,{$textStyle:"bodyBold",children:a})}),i&&(0,S.jsx)(Ad,{padding:"100",children:(0,S.jsx)(ws,{$textStyle:"body",children:i})}),(0,S.jsxs)($d,{gap:"100",direction:"column",children:[(0,S.jsx)(Ti,{variant:"primary",onClick:()=>{n(c),m()},children:o}),(0,S.jsx)(Ti,{variant:"secondary",onClick:()=>{s?.(c),m()},children:r})]})]})})}Object.defineProperty(_d,"name",{value:"ConfirmationModal"});const Nd=(0,d.cp)(Oo).withConfig({displayName:"ConfirmationModal__StyledModal",componentId:"sc-36axwt-0"})(["z-index:1;"]),Ad=Qa,Ld=Qa,$d=Qa,Bd=(0,j.forwardRef)((({content:e,submittedValues:t,replyToId:n,className:s},i)=>{const{formManager:a,fileUploadContext:o,handleSubmitWithConfirmation:r,isFormDisabled:l,onSubmitHandler:c,confirmationModalRef:d}=function({formRequest:e,replyToId:t,submittedValues:n}){const s=is(),{notify:i}=Cl(),{conversationId:a}=jl(),o=(0,j.useRef)(null),r=(0,aa.aS)({mode:"onBlur",criteriaMode:"all",reValidateMode:"onChange",defaultValues:jd(n?.fields)??Id(e)}),l=Boolean(n),c=e.fields.find((e=>"type"in e&&"file"===e.type)),d=Object.values(n?.fields||{}).find((e=>"type"in e&&"files"===e.type)),u=function(){const e=(0,j.useContext)(Md);if(!e)throw new Error("useFileUploader must be used within a FileUploadContext");return e}(),{uploadableFilesRecord:p,...g}=function(e,t,n){const s=ss(Be),i={};t?.files.forEach((e=>{const t=(0,gn.c)(),n={clientSideId:t,file:void 0,status:"fulfilled",uploadResult:{...e,id:t,contentType:"*"},errorMessage:void 0};i[n.clientSideId]=n}));const[a,o]=(0,j.useReducer)(oo,i),r=(0,j.useCallback)((e=>{o({type:"removeUploadable",payload:{clientSideId:e}})}),[]),l=(0,j.useCallback)((async({file:t,clientSideId:n})=>{if(s&&t){o({type:"UploadableUploadPending",payload:{clientSideId:n}});try{const{checksum:i,url:a}=await e.upload(t,s);o({type:"UploadableUploadFulfilled",payload:{clientSideId:n,uploadResult:{contentType:t.type,size:t.size,url:a,name:t.name,id:i,checksum:i}}})}catch(e){const t="string"==typeof e?e:e.message;o({type:"UploadableUploadRejected",payload:{clientSideId:n,errorMessage:t}})}}}),[e,s]),c=(0,j.useCallback)((e=>{const t=n.find((e=>"maxFileSize"===e.type)),s=n.find((e=>"maxFileSizeTotal"===e.type)),i=n.find((e=>"validMimeTypes"===e.type));if(t&&e.size>t.value)throw new Error(t.errorMessage);if(s&&Object.values(a).reduce(((e,t)=>"fulfilled"===t.status?e+(t.uploadResult?.size??0):e),e.size)>s.value)throw new Error(s.errorMessage);if(!((e,t)=>{if(void 0===t||0===t.length||t.includes("*"))return!0;const[n,s]=e.split("/");for(const e of t){const[t,i]=e.split("/");if(t===n&&(i===s||"*"===i))return!0}return!1})(e.type,i?.value))throw new Error(i?.errorMessage);return!0}),[a,n]),d=(0,j.useCallback)((e=>{if(!e)return;const t=(0,gn.c)();try{c(e);const n={file:e,clientSideId:t,status:"initial",uploadResult:void 0,errorMessage:void 0};o({type:"addNewUploadable",payload:n}),l(n)}catch(e){const n="string"==typeof e?e:e.message;o({type:"UploadableUploadRejected",payload:{clientSideId:t,errorMessage:n}})}}),[l,c]);return{uploadableFilesRecord:a,addNewUploadable:d,removeUploadable:r,uploadedFiles:Object.values(a).filter((({status:e})=>"fulfilled"===e)),isUploading:Object.values(a).some((({status:e})=>"pending"===e))}}(u,d,c?.validations??[]),m=(0,j.useCallback)((async n=>{if(n)try{const o=Sd(n,p);await s(lt({conversationId:a,content:{type:"form-response",replyToMessageId:t,formId:e.id,fields:o,formVersion:e.formVersion}})),i({variant:"success",message:e.submitSuccessMessage||bd.formSubmitSucceeded})}catch(e){const t="string"==typeof e?e:e instanceof Error?e.message:bd.formSubmitFailed;i({message:t,variant:"error"})}}),[s,a,t,i,e.id,e.formVersion,p,e.submitSuccessMessage]),h=(0,j.useCallback)((t=>{void 0===e.preSubmitConfirmation?m(t):o.current?.openModal(t)}),[e,m]),f=Object.values(p);return(0,j.useMemo)((()=>({formManager:r,isFormDisabled:l,handleSubmitWithConfirmation:h,confirmationModalRef:o,onSubmitHandler:m,fileUploadContext:{uploadables:f,...g}})),[l,h,m,f,g,r])}({formRequest:e,replyToId:n,submittedValues:t}),{message:u,onConfirmLabel:p,onRejectLabel:g}=e.preSubmitConfirmation||{},m=u?(0,S.jsx)(yr,{content:u}):(0,S.jsx)(ga.c,{...bd.defaultConfirmationModalMessage}),h=g?(0,S.jsx)(yr,{content:g}):(0,S.jsx)(ga.c,{...bd.defaultConfirmationModalCancelButtonLabel}),f=p?(0,S.jsx)(yr,{content:p}):(0,S.jsx)(ga.c,{...bd.defaultConfirmationModalConfirmButtonLabel}),{addNewUploadable:y,removeUploadable:v,uploadables:x,isUploading:b}=o;return(0,S.jsxs)(Ed,{ref:i,className:s,children:[(0,S.jsx)(wd,{body:e.body,disabled:l||b,fields:e.fields,formControl:a.control,isSubmitting:a.formState.isSubmitting,onSubmit:a.handleSubmit(r),submitLabel:e.submitLabel,title:e.title,isSubmitted:Boolean(t),uploadables:x,onAddNewUploadable:y,onRemoveUploadable:v}),!l&&(0,S.jsx)(_d,{onConfirm:c,ref:d,message:m,cancelButtonText:h,confirmButtonText:f})]})}));Bd.displayName="FormEntry";const Ed=d.cp.div.withConfig({displayName:"FormEntry__Container",componentId:"sc-2ub8tc-0"})(["width:100%;position:relative;"]);function Rd(e){if(e)return"csat-response"===e.content.type?e.content:void 0}function qd(e){if(e)return"contact-form-response"===e.content.type?e.content:void 0}function Od(e){if(e)return"form-response"===e.content.type?e.content:void 0}const zd={"application/pdf":({dangerouslySetInnerHTML:e,...t})=>(0,S.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...t,children:(0,S.jsx)("path",{fillRule:"evenodd",d:"M4 3c0-.548.452-1 1-1h9.586L20 7.414V8a1 1 0 1 0 2 0V7a1 1 0 0 0-.293-.707l-6-6A1 1 0 0 0 15 0H5C3.348 0 2 1.348 2 3v5a1 1 0 0 0 2 0V3Zm7 8a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2c.527 0 1.044-.18 1.432-.568.388-.388.568-.905.568-1.432v-4c0-.527-.18-1.044-.568-1.432C14.044 11.18 13.527 11 13 11h-2Zm1 2h1v4h-1v-4Zm-8-1a1 1 0 0 1 1-1h2c.527 0 1.044.18 1.432.568.388.388.568.905.568 1.432v2c0 .527-.18 1.044-.568 1.432C8.044 16.82 7.527 17 7 17H6v1a1 1 0 1 1-2 0v-6Zm2 3h1v-2H6v2Zm11-4a1 1 0 0 0-1 1v6a1 1 0 1 0 2 0v-2h1a1 1 0 1 0 0-2h-1v-1h2a1 1 0 1 0 0-2h-3ZM4.194 21.553a1 1 0 0 0-1.788.894C2.892 23.421 3.962 24 5 24h14c1.038 0 2.108-.579 2.595-1.553a1 1 0 0 0-1.79-.894c-.113.226-.443.447-.805.447H5c-.362 0-.692-.221-.806-.447Z",clipRule:"evenodd"})})},Pd=d.cp.div.withConfig({displayName:"Attachment__IconContainer",componentId:"sc-12aqbh5-0"})(["display:flex;align-items:center;justify-content:center;"]),Vd=(0,j.forwardRef)((({attachment:e,className:t,onClick:n},s)=>{const{previewUrl:i}=function({url:e,contentType:t}){const[n,s]=(0,j.useState)(void 0),i=(0,at.w1)(Be);return(0,j.useEffect)((()=>{if(!e||!i||!t?.startsWith("image/"))return;const n=new AbortController;return async function(e,t,n){const s=await re.downloadFileByUrl({url:e,sessionToken:t,abortSignal:n});return ee.is(s)?Promise.reject(s):URL.createObjectURL(s)}(e,i,n.signal).then(s).catch((()=>s(void 0))),()=>n.abort()}),[e,t,i]),{previewUrl:n}}(e);if(i)return(0,S.jsx)(Ud,{ref:s,children:(0,S.jsx)(Fd,{src:i,className:t,onClick:n,alt:e.name})});const a=zd[e.contentType]??Us;return(0,S.jsx)("div",{ref:s,className:t,children:(0,S.jsx)(Pd,{className:t,onClick:n,children:(0,S.jsx)(bi,{icon:a,size:"500",color:"neutral500"})})})}));Vd.displayName="Attachment";const Fd=(0,d.cp)(xs).withConfig({displayName:"Attachment__Img",componentId:"sc-12aqbh5-1"})(["display:block;"]),Ud=d.cp.div.withConfig({displayName:"Attachment__ImageWrapper",componentId:"sc-12aqbh5-2"})(["position:relative;padding:",";height:95%;width:95%;"],b("50")),Hd=["B","KB","MB","GB"],Dd={"application/octet-stream":"file","text/x-nfo":"nfo","text/x-log":"log"};function Wd(e){return"isLoading"in e&&!0===e.isLoading}const Qd=d.cp.div.withConfig({displayName:"styledComponents__PreviewContainer",componentId:"sc-qusws6-0"})(["padding:",";display:grid;grid-template-columns:repeat(auto-fill,",");grid-template-rows:repeat(auto-fill,",");grid-gap:",";outline:none;position:relative;"],b("100"),b("900"),b("900"),b("100")),Gd=d.cp.button.withConfig({displayName:"styledComponents__CloseIconButton",componentId:"sc-qusws6-1"})(["position:absolute;z-index:10;top:0;right:0;margin:-",";padding:0;border-radius:50%;border:4px solid ",";box-sizing:content-box;width:",";height:",";background-color:",";cursor:pointer;visibility:hidden;display:flex;flex-direction:column;justify-content:center;&:hover{visibility:visible;background-color:",";}"],b("100"),v("primary"),b("400"),b("400"),v("neutral200"),v("neutral300")),Zd=(0,d.cp)(bi).withConfig({displayName:"styledComponents__StyledCloseIcon",componentId:"sc-qusws6-2"})(["margin:auto;"]),Yd=(0,d.cp)(Vd).withConfig({displayName:"styledComponents__AttachmentPreview",componentId:"sc-qusws6-3"})(["border-radius:",";width:100%;height:100%;object-fit:contain;"],w("400")),Kd=d.cp.div.withConfig({displayName:"styledComponents__SpinnerOverlay",componentId:"sc-qusws6-4"})(["position:absolute;background-color:rgba(0,0,0,0.3);display:flex;align-items:center;justify-content:center;width:100%;height:100%;border-radius:",";border:1px solid transparent;color:",";"],w("400"),v("neutral100")),Jd=d.cp.div.withConfig({displayName:"styledComponents__IconWrapper",componentId:"sc-qusws6-5"})(["position:relative;display:flex;align-items:center;justify-content:center;border:1px solid ",";border-radius:",";&:hover > ","{visibility:visible;}"],v("neutral200"),w("400"),Gd),Xd=({attachments:e,className:t,onDeleteAttachment:n,onKeyDown:s})=>{const i=function(){const e=(0,j.useRef)(null);return(0,j.useEffect)((()=>e.current?.focus())),e}(),{formatMessage:a}=(0,Ci.c)();return(0,S.jsx)(Qd,{className:t,tabIndex:1,ref:i,onKeyDown:s,children:e.map((e=>{const t=Wd(e);return(0,S.jsxs)(Jd,{children:[!t&&(0,S.jsx)(Yd,{attachment:e}),t?(0,S.jsx)(Kd,{children:(0,S.jsx)(_i,{size:20,width:4})}):(0,S.jsx)(Gd,{onClick:()=>n(e.id),title:a({id:"a8UeSd",defaultMessage:[{type:0,value:"Remove"}]}),children:(0,S.jsx)(Zd,{icon:Es})})]},e.id)}))})},eu=(0,Rn.Os)({downloadLabel:{id:"OX0YhE",defaultMessage:[{type:0,value:"Download the file"}]}}),tu=(0,j.forwardRef)((({attachment:e,className:t},n)=>{const[s,i]=(0,j.useState)(!1),{formatMessage:a}=(0,Ci.c)(),o=function(e){const t=e.toLowerCase(),n=Dd[t];return(n??e.split("/")[1])?.toUpperCase()??""}(e.contentType),r=function(e){if(!Number.isFinite(e)||e<=0)return console.warn(`Invalid or 0 size provided: ${e}`),`0 ${Hd[0]}`;const t=Math.floor(Math.log(e)/Math.log(1e3));return`${parseFloat((e/Math.pow(1e3,t)).toFixed(2))} ${Hd[t]}`}(e.size),l=(0,at.w1)(Be);return(0,S.jsxs)(su,{ref:n,className:t,isLoading:s,children:[(0,S.jsx)(iu,{attachment:e}),(0,S.jsxs)(au,{children:[(0,S.jsx)(ou,{$textStyle:"informative",children:e.name}),(0,S.jsxs)(ws,{$textStyle:"informative",children:[r," ",o]})]}),(0,S.jsx)(nu,{variant:"neutral",type:"button",squared:!0,onClick:()=>{l&&(i(!0),async function({name:e,sessionToken:t,url:n}){const s=await re.downloadFileByUrl({url:n,sessionToken:t});if(ee.is(s))return Promise.reject(s);const i=(a=s,window.URL.createObjectURL(a));var a;ce.href=i,ce.download=e,ce.target="_blank",ce.rel="noopener",ce.click(),le(i)}({url:e.url,name:e.name,sessionToken:l}).finally((()=>i(!1))))},disabled:s,title:a(eu.downloadLabel),children:s?(0,S.jsx)(_i,{}):(0,S.jsx)(bi,{icon:zs})})]})}));tu.displayName="AttachmentDownload";const nu=(0,d.cp)(Ti).withConfig({displayName:"AttachmentDownload__DownloadButton",componentId:"sc-1tf122k-0"})(["color:",";visibility:hidden;border:1px solid ",";&:hover{background-color:",";}"],v("neutral700"),v("neutral200"),v("neutral100")),su=d.cp.div.withConfig({displayName:"AttachmentDownload__Container",componentId:"sc-1tf122k-1"})(["display:flex;align-items:center;padding:",";background:",";border-radius:",";&:hover > ","{visibility:visible;}",""],b("300"),v("neutral000"),w("100"),nu,(({isLoading:e})=>e?(0,d.gV)(["& > ","{visibility:visible;background-color:",";}"],nu,v("neutral200")):"")),iu=(0,d.cp)(Vd).withConfig({displayName:"AttachmentDownload__AttachmentIcon",componentId:"sc-1tf122k-2"})(["width:",";height:",";background-color:",";border-radius:",";"],b("700"),b("700"),v("neutral100"),w("100")),au=d.cp.div.withConfig({displayName:"AttachmentDownload__AttachmentInfo",componentId:"sc-1tf122k-3"})(["display:flex;flex-direction:column;max-width:148px;width:148px;padding:0 ",";color:",";"],b("200"),v("textSecondary")),ou=(0,d.cp)(Cs).withConfig({displayName:"AttachmentDownload__AttachmentName",componentId:"sc-1tf122k-4"})(["color:",";"],v("textPrimary")),ru=(0,j.forwardRef)((({content:e},t)=>e.contentType.startsWith("image/")?(0,S.jsx)(lu,{attachment:e,ref:t}):(0,S.jsx)(tu,{attachment:e,ref:t})));ru.displayName="AttachmentContent";const lu=(0,d.cp)(Vd).withConfig({displayName:"AttachmentContent__StyledAttachment",componentId:"sc-109jacy-0"})(["max-height:150px;"]),cu=(0,Rn.Os)({sourceTitle:{id:"RTbFd1",defaultMessage:[{type:1,value:"title"}]}});function du({content:e,onClick:t}){const n="text"===e.type&&e.sources?e.sources?.[0]:null;if(!n)return null;const s=Boolean(n.articleId&&n.companyId);return(0,S.jsxs)(uu,{$isClickable:s,onClick:e=>{s&&(e.stopPropagation(),t(n))},children:[(0,S.jsx)(bi,{icon:Ds,size:"300",color:"purple600"}),(0,S.jsx)(gu,{children:(0,S.jsx)(ga.c,{...cu.sourceTitle,values:{title:n.title}})}),(0,S.jsx)(pu,{icon:Ws,size:"300",color:"purple600"})]})}const uu=d.cp.div.withConfig({displayName:"Sources__SourcesSection",componentId:"sc-nwz8fk-0"})(["position:absolute;bottom:0;left:0;right:0;display:flex;gap:",";padding:"," ",";background-color:",";border-top:1px solid ",";cursor:",";box-sizing:border-box;border-radius:0 0 "," ",";align-items:center;"],b("50"),b("50"),b("300"),v("neutral200"),v("neutral200"),(({$isClickable:e})=>e?"pointer":"initial"),b("50"),b("50")),pu=(0,d.cp)(bi).withConfig({displayName:"Sources__FlexEndPositionedIcon",componentId:"sc-nwz8fk-1"})(["margin-inline-start:auto;"]),gu=d.cp.div.withConfig({displayName:"Sources__ArticleTitle",componentId:"sc-nwz8fk-2"})(["flex:1 0 auto;min-width:0;color:",";font-size:10px;font-weight:500;line-height:16px;letter-spacing:0.2px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;user-select:none;max-width:220px;"],v("textSecondary")),mu=(0,j.forwardRef)((({className:e,senderType:t,content:n,onSourceClick:s=(()=>{})},i)=>{const{text:a,title:o,contentType:r="text/plain",subText:l,sources:c}=n,d=!!c&&c.length>0;return(0,S.jsxs)(hu,{className:e,$senderType:t,$hasSourceLink:d,ref:i,children:[o&&(0,S.jsx)(ws,{$textStyle:a?"bodyBold":"body",children:(0,S.jsx)(yr,{content:Wi(o,r)})}),(0,S.jsx)(yr,{content:Wi(a,r)}),l&&(0,S.jsx)(fu,{$textStyle:"extraSmall",children:l}),d&&(0,S.jsx)(du,{content:n,onClick:s})]})}));mu.displayName="TextContent";const hu=d.cp.div.withConfig({displayName:"TextContent__Container",componentId:"sc-kbneu6-0"})(["display:flex;flex-direction:column;padding:"," ",";padding-bottom:",";word-break:break-word;white-space:pre-line;position:relative;overflow:hidden;",""],b("200"),b("300"),(({$hasSourceLink:e})=>b(e?"600":"200")),_("$messageType",{userSentMessage:(0,d.gV)(["background:",";color:",";"],v("primaryBackground"),v("neutral000")),agentMessage:(0,d.gV)(["background:",";color:",";"],v("neutral000"),v("textPrimary")),chatbotMessage:(0,d.gV)(["background:",";color:",";"],v("neutral000"),v("textPrimary")),systemRequest:(0,d.gV)(["background:",";color:",";"],v("neutral000"),v("textPrimary"))})),fu=(0,d.cp)(ws).withConfig({displayName:"TextContent__SubText",componentId:"sc-kbneu6-1"})(["color:",";margin-top:",";font-weight:500;"],v("textTertiary"),b("50"));function yu({message:e}){const{conversationId:t}=jl(),n=ss(Mt.getSystemRequestEntryByResponse(t,e));if("chat-input-response"!==e.content.type)return null;const s="chat-input-request"===n?.content.type?n.content.label:void 0;return(0,S.jsx)(mu,{senderType:"userSentMessage",content:{text:e.content.answer,contentType:"text/plain",title:s,type:"text"}})}function vu(e){const{conversationId:t}=jl(),n=ss(Mt.getSystemRequestEntryByResponse(t,e));if(!n)return;const{content:s}=n,i="chat-menu-request"===s.type?s.options.find((({id:t})=>t===e.content.chosenOptionId)):void 0;return i?.label}function xu({message:e}){const t=vu(e);return t?(0,S.jsx)(mu,{senderType:"userSentMessage",content:{text:t,type:"text",contentType:"text/plain"}}):null}function bu({date:e,className:t}){const n=function(e){const[t,n]=(0,j.useState)(""),{formatMessage:s,formatRelativeTime:i,formatTime:a}=(0,Ci.c)();return(0,j.useEffect)((()=>{let t;return function o(){const{formattedMessage:r,timeoutMs:l}=function(e){const t=Date.now().valueOf()-e.valueOf();if(t<10*sh)return{formattedMessage:s(nh.justNow),timeoutMs:10*sh-t};if(t<ih)return{formattedMessage:s(nh.lessThanAMinuteAgo),timeoutMs:ih-t};if(t<ah){const e=Math.floor(t/ih);return{formattedMessage:i(-e,"minutes"),timeoutMs:(e+1)*ih-t}}if(t<24*ah){const e=Math.floor(t/ah);return{formattedMessage:i(-e,"hours"),timeoutMs:(e+1)*ah-t}}return{formattedMessage:a(e)}}(e);n(r),l&&(t=setTimeout((()=>{o()}),l))}(),()=>{t&&clearTimeout(t)}})),t}(e);return(0,S.jsx)(ws,{className:t,$textStyle:"extraSmall",children:n})}var wu=n(892);const Cu=(0,wu.Os)({sending:{id:"eFz4fc",defaultMessage:[{type:0,value:"Sending"}]},sent:{id:"4qegZZ",defaultMessage:[{type:0,value:"Sent"}]},delivered:{id:"dMYNCg",defaultMessage:[{type:0,value:"Delivered"}]},seen:{id:"P6rOg8",defaultMessage:[{type:0,value:"Seen"}]},error:{id:"SDBj+j",defaultMessage:[{type:0,value:"Failed to send"}]}});function Iu(e,t){return t(Cu[e])}function ju({status:e}){const{formatMessage:t}=(0,Ci.c)();return(0,S.jsx)(Mu,{children:(0,S.jsx)(ku,{$status:e,title:Iu(e,t),children:(0,S.jsx)(Su,{status:e})})})}function Su({status:e}){switch(e){case"sending":return(0,S.jsx)(_i,{size:8});case"error":return(0,S.jsx)(bi,{icon:Ps,size:"100"});default:return(0,S.jsx)(bi,{icon:ti,size:"100"})}}const Mu=d.cp.div.withConfig({displayName:"StatusIcon__Container",componentId:"sc-b44nms-0"})(["overflow:hidden;"]),ku=d.cp.div.withConfig({displayName:"StatusIcon__IconContainer",componentId:"sc-b44nms-1"})(["width:",";height:",";display:flex;justify-content:center;align-items:center;border-radius:50%;",";"],b("200"),b("200"),_("$status",{error:(0,d.gV)(["background:transparent;color:",";"],v("red600")),sent:(0,d.gV)(["background:transparent;border:1px solid ",";color:",";"],v("neutral500"),v("neutral500")),delivered:(0,d.gV)(["background:",";color:",";"],v("neutral500"),v("neutral200")),seen:(0,d.gV)(["background:",";color:",";"],v("purple500"),v("neutral000"))}));const _u=d.cp.div.withConfig({displayName:"useMessageStatusDetails__MessageDetailsContainer",componentId:"sc-1tefv95-0"})(["position:absolute;top:calc(100% + 1px);display:flex;gap:",";z-index:1;",";padding-inline-start:",";padding-inline-end:",";transition:all ",";white-space:nowrap;color:",";",";"],b("50"),(({$messageType:e})=>"userSentMessage"===e?"right: 0;":"left: 0;"),(({$messageType:e})=>"userSentMessage"===e?"0":b("100")),(({$messageType:e})=>"userSentMessage"===e?b("100"):"0"),"0.25s",v("textPrimary"),(({$isVisible:e})=>e?(0,d.gV)(["visibility:visible;opacity:1;"]):(0,d.gV)(["visibility:hidden;opacity:0;height:0;"]))),Tu=d.cp.div.withConfig({displayName:"ContentArea__Container",componentId:"sc-a12uzm-0"})(["border:1px solid ",";border-radius:",";position:relative;width:fit-content;",""],v("neutral200"),w("300"),(({$isUserSentMessage:e})=>e?(0,d.gV)(["background-color:",";color:",";"],v("primaryBackground"),v("neutral000")):(0,d.gV)(["background-color:",";color:",";"],v("neutral000"),v("textPrimary"))));function Nu({entry:e,isLastMessage:t}){return(0,S.jsx)(Au,{message:e,isLastMessage:t})}const Au=(0,d.cp)((function({message:e,className:t,isLastMessage:n}){const{content:s,type:i}=e,a=Nc(e),{detailsElement:o,toggleDetails:r}=function({message:e,isLastMessage:t}){const{conversationId:n}=jl(),s=function({delay:e,value:t,defaultValue:n}){const[s,i]=(0,j.useState)(n);return(0,j.useEffect)((()=>{const n=setTimeout((()=>{i(t)}),e);return()=>{clearTimeout(n)}}),[t]),s}({value:t,defaultValue:!1,delay:1500}),{detailsAlwaysVisible:i,detailsVisible:a,toggleDetails:o}=function({conversationId:e,entry:t,isLastMessage:n}){const[s,i]=(0,j.useState)(n),a=ss(Mt.hasEntryVisibleDetails(t.id)(e)),o=is();return(0,j.useEffect)((()=>{if(n)return void i(!0);const e=setTimeout((()=>{i(!1)}),500);return()=>{clearTimeout(e)}}),[n]),{detailsAlwaysVisible:s,detailsVisible:a,toggleDetails:function(){s||o(Yt({conversationId:e,messageId:t.id}))}}}({conversationId:n,entry:e,isLastMessage:s});return{detailsElement:(0,S.jsxs)(_u,{$isVisible:i||a,$messageType:e.type,children:["userSentMessage"===e.type&&(0,S.jsx)(ju,{status:e.status}),(0,S.jsx)(bu,{date:new Date(e.createdAt)})]}),toggleDetails:o}}({message:e,isLastMessage:n}),{navigateTo:l}=eh(),c=jl().conversationId,d=function(e,t){const{ref:n,inView:s}=(0,Kc.cD)({triggerOnce:!0}),i=is(),a=(0,at.w1)(ze),o=(0,at.w1)(Mt.isMessageUnseen(t,e));return(0,j.useEffect)((()=>{!document.hidden&&a&&s&&o&&i((({messageId:e,conversationId:t})=>(n,s,i)=>{const{conversationService:a}=i.services;a.reportMessageSeen(e,t),n(Qt({messageId:e,conversationId:t,timestamp:(new Date).toISOString()}))})({messageId:e,conversationId:t}))}),[i,e,t,s,a,o]),n}(e.id,c);if($c.messageEntry(e))return null;const u="userSentMessage"===i;switch(s.type){case"text":{function p(e){"elevio"===e.type&&l.knowledgeBaseArticleModal({articleId:e.articleId,companyId:e.companyId})}return(0,S.jsxs)(Tu,{className:t,onClick:r,$isUserSentMessage:u,ref:d,children:[(0,S.jsx)(mu,{content:s,senderType:i,onSourceClick:p}),o]})}case"attachment":return(0,S.jsxs)(Tu,{className:t,onClick:r,$isUserSentMessage:u,ref:d,children:[(0,S.jsx)(ru,{content:s}),o]});case"chat-menu-response":return"userSentMessage"===e.type?(0,S.jsxs)(Tu,{className:t,onClick:r,$isUserSentMessage:u,ref:d,children:[(0,S.jsx)(xu,{message:e}),o]}):null;case"chat-input-response":return"userSentMessage"===e.type?(0,S.jsxs)(Tu,{className:t,onClick:r,$isUserSentMessage:u,ref:d,children:[(0,S.jsx)(yu,{message:e}),o]}):null;case"csat-request":return(0,S.jsx)(md,{className:t,csatRequest:s,replyToId:e.id,submittedValues:Rd(a),ref:d});case"csat-response":case"contact-form-response":case"form-response":return null;case"chat-input-request":{const g=void 0!==a;return(0,S.jsx)(sd,{className:t,createdAt:e.createdAt,replyToMessageId:e.id,chatInputRequestContent:s,hasResponse:g,ref:d})}case"chat-menu-request":{const m=function(e){if(e)return"chat-menu-response"===e.content.type?e.content:void 0}(a);return(0,S.jsx)(rd,{className:t,content:e.content,createdAt:e.createdAt,replyToMessageId:e.id,submittedValues:m,ref:d})}case"contact-form-request":return(0,S.jsx)(ud,{className:t,content:s,replyToId:e.id,submittedValues:qd(a),ref:d});case"form-request":return(0,S.jsx)(Md.Provider,{value:kd,children:(0,S.jsx)(Bd,{className:t,content:s,replyToId:e.id,submittedValues:Od(a),ref:d})})}})).withConfig({displayName:"Message__StyledContentArea",componentId:"sc-1ff7a43-0"})(["z-index:2;cursor:pointer;&:not(:last-of-type){margin-bottom:5px;}",""],I("body")),Lu=[{id:"1",color:h.neutral900},{id:"2",color:h.neutral700},{id:"3",color:h.neutral500}];function $u(){return(0,S.jsx)(Bu,{className:"typing-indicator",children:Lu.map((({color:e,id:t},n)=>(0,S.jsx)(Eu,{color:e,$index:n},t)))})}const Bu=d.cp.div.withConfig({displayName:"Dots__Container",componentId:"sc-9jrvxs-0"})(["display:flex;align-items:center;gap:",";"],b("50")),Eu=d.cp.div.withConfig({displayName:"Dots__Dot",componentId:"sc-9jrvxs-1"})(["width:4px;height:4px;border-radius:50%;background-color:",";animation:"," ","s linear infinite;animation-delay:","s;"],(e=>e.color),(e=>{return t=e.color,(0,d.xZ)(["from{transform:scale(1)}25%{transform:scale(1.5);background-color:",";}35%{transform:scale(1);background-color:",";}to{transform:scale(1);background-color:",";}"],h.neutral900,t,t);var t}),1,(e=>.33*e.$index*1e3/1e3));function Ru({name:e,authorType:t,className:n}){return(0,S.jsxs)(qu,{className:n,children:["chatbot"===t?(0,S.jsx)(bi,{icon:Ws}):null,(0,S.jsx)($u,{}),e&&(0,S.jsx)(ws,{$textStyle:"informative",children:(0,S.jsx)(ga.c,{id:"TR1Pkt",defaultMessage:[{type:1,value:"name"},{type:0,value:" is typing"}],values:{name:e}})})]})}const qu=d.cp.div.withConfig({displayName:"TypingIndicator__Container",componentId:"sc-12nmf3c-0"})(["display:flex;align-items:center;gap:",";user-select:none;z-index:1;"],b("100"));function Ou(e){const t=(0,Ci.c)(),n=(0,at.w1)(Mt.getAgentById(e));return{name:n?.name||t.formatMessage({id:"QGVI63",defaultMessage:[{type:0,value:"Agent"}]}),avatarUrl:n?.avatarUrl??null}}const zu=(0,Rn.Os)({agentAssigned:{id:"ixrm5O",defaultMessage:[{type:8,value:"b",children:[{type:1,value:"name"}]},{type:0,value:" has joined the conversation"}]}}),Pu=({name:e,avatarUrl:t})=>(0,S.jsx)(Hc,{children:(0,S.jsxs)(Vu,{children:[(0,S.jsx)(Fu,{avatarUrl:t,name:e,size:"extraSmall"}),(0,S.jsx)("span",{children:(0,S.jsx)(ga.c,{...zu.agentAssigned,values:{name:e,b:e=>(0,S.jsx)("strong",{children:e})}})})]})}),Vu=d.cp.div.withConfig({displayName:"SenderJoinedConversation__Container",componentId:"sc-hnvc3o-0"})(["display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:",";"],b("100")),Fu=(0,d.cp)(pi).withConfig({displayName:"SenderJoinedConversation__StyledAvatar",componentId:"sc-hnvc3o-1"})(["display:inline-flex;margin-inline-end:",";"],b("200")),Uu=({agentId:e})=>{const{avatarUrl:t,name:n}=Ou(e);return(0,S.jsx)(Pu,{name:n,avatarUrl:t})},Hu=({agentId:e})=>{const{name:t}=Ou(e);return(0,S.jsx)(Hc,{children:(0,S.jsxs)(Du,{children:[(0,S.jsx)(Wu,{children:"👋"}),(0,S.jsx)("span",{children:(0,S.jsx)(ga.c,{id:"4p/JgX",defaultMessage:[{type:8,value:"b",children:[{type:1,value:"name"}]},{type:0,value:" left the conversation"}],values:{name:t,b:e=>(0,S.jsx)("strong",{children:e})}})})]})})},Du=d.cp.div.withConfig({displayName:"AgentLeft__Container",componentId:"sc-3g3lyl-0"})(["display:flex;justify-content:center;align-items:center;"]),Wu=d.cp.div.withConfig({displayName:"AgentLeft__EmojiContainer",componentId:"sc-3g3lyl-1"})(["display:inline-flex;margin-right:",";"],b("200")),Qu=({chatbot:e})=>{const t=e?.avatarUrl??Nl.avatarUrl,n=e?.name??Nl.name;return(0,S.jsx)(Pu,{name:n,avatarUrl:t})};function Gu({entries:e}){const{conversationId:t}=jl(),n=(0,at.w1)(Mt.getConversationOrgName(t)),s=(0,at.w1)(Mt.getAgents),i=(0,at.w1)(Mt.getChatbotSenders),a=(0,at.w1)(Mt.getSystemSender);function o(e){const t=s[e];if(t)return{name:t.name,avatarUrl:t.avatarUrl}}return(0,S.jsx)(S.Fragment,{children:e.map(((t,s)=>{const r=s===e.length-1;switch(t.type){case"systemRequest":{const e={name:a?.name??n??"Dixa",avatarUrl:a?.avatarUrl??null};return(0,S.jsx)(Rc,{messageCount:1,groupType:"systemRequest",entry:t,agentInfo:e,children:(0,S.jsx)(Nu,{entry:t,isLastMessage:r},t.id)},t.id)}case"agent-assignment-requested":return"agent-assignment-requested"===e[s-1]?.type?null:(0,S.jsx)(Zc,{},t.id);case"assignment":return(0,S.jsx)(Uu,{agentId:t.agentId},t.id);case"chatbotJoinedConversation":return(0,S.jsx)(Qu,{chatbot:i[t.chatbotId]},t.id);case"agentLeft":return(0,S.jsx)(Hu,{agentId:t.agentId},t.id);case"agentTyping":{if(s!==e.length-1)return null;const n=o(t.agentId)??{name:a?.name??"Dixa",avatarUrl:a?.avatarUrl??null};return(0,S.jsx)(Rc,{messageCount:1,groupType:"agentMessage",agentInfo:n,entry:t,forceFullHeight:!0,children:(0,S.jsx)(Qa,{alignItems:"end",children:(0,S.jsx)(Ru,{authorType:"agent"})})},t.id)}case"chatbotTyping":{if(s!==e.length-1)return null;const a=i[t.chatbotId],o=a?{name:a?.name??"",avatarUrl:a?.avatarUrl??null}:{name:n??"Dixa",avatarUrl:null};return(0,S.jsx)(Rc,{messageCount:1,groupType:"systemRequest",agentInfo:o,entry:t,forceFullHeight:!0,children:(0,S.jsx)(Qa,{alignItems:"end",children:(0,S.jsx)(Ru,{authorType:"chatbot"})})},t.id)}case"agentMessage":return(0,S.jsx)(Rc,{messageCount:1,groupType:"agentMessage",entry:t,agentInfo:o(t.agentId),children:(0,S.jsx)(Nu,{entry:t,isLastMessage:r},t.id)},t.id);case"chatbotMessage":{const e=i[t.chatbotId],n={avatarUrl:e?.avatarUrl??Nl.avatarUrl,name:e?.name??Nl.name};return(0,S.jsx)(Rc,{messageCount:1,groupType:"chatbotMessage",entry:t,agentInfo:n,children:(0,S.jsx)(Nu,{entry:t,isLastMessage:r},t.id)},t.id)}case"userSentMessage":return(0,S.jsx)(Rc,{groupType:"userSentMessage",messageCount:1,entry:t,children:(0,S.jsx)(Nu,{entry:t,isLastMessage:r},t.id)},t.id)}}))})}function Zu(){const{conversationId:e}=jl(),t=ss(Mt.getConversationEntries(e)),n=ss((t=>Mt.getConversationInitStatus(t,e))),s=ss(Mt.getConversationMessageCount(e)),i=is(),a=function(e){const t=(0,j.useRef)(null);return(0,j.useEffect)((()=>{let e;return t.current&&(e=setTimeout((()=>{t.current?.scrollTo({top:t.current.scrollHeight,behavior:"smooth",left:0})}),1e3)),()=>clearTimeout(e)}),[e]),t}(s);return(0,j.useEffect)((()=>{"uninitialized"===n?.status&&i(ot(e))}),[n,i,e]),(0,S.jsx)(mc,{ref:a,children:(0,S.jsx)(js,{ready:"initialized"===n?.status,customPlaceholder:(0,S.jsx)(Uc,{}),children:0===t.length?(0,S.jsx)(Ml,{}):(0,S.jsx)(Gu,{entries:t})})})}const Yu=(0,Rn.Os)({textInputPlaceholder:{id:"jlZIxb",defaultMessage:[{type:0,value:"Write your message"}]},sendButtonLabel:{id:"Xx0WZV",defaultMessage:[{type:0,value:"Send message"}]}}),Ku=(0,Rn.Os)({failedToSend:{id:"XafRk4",defaultMessage:[{type:0,value:"Failed to send the message"}]}}),Ju=({className:e,inputContent:t,onAttachmentDeleted:n,onKeyPress:s})=>"attachments"!==t.type?null:(0,S.jsx)(Xd,{className:e,attachments:t.attachments,onDeleteAttachment:n,onKeyDown:s}),Xu=d.cp.input.withConfig({displayName:"UploadButton__UploadInput",componentId:"sc-nywyy0-0"})(["display:none;"]),ep=({disabled:e,accept:t,multiple:n,onChange:s})=>{const i=(0,j.useRef)(null);return(0,S.jsxs)(Ti,{type:"button",variant:"neutral",squared:!0,disabled:e,onClick:()=>{i.current?.click()},children:[(0,S.jsx)(bi,{icon:Gs}),(0,S.jsx)(Xu,{type:"file",accept:t,multiple:n,ref:i,onClick:e=>e.currentTarget.value="",onChange:s})]})},tp=["image/jpg","image/jpeg","image/png","text/plain","text/x-nfo","text/x-log","application/pdf","text/xml","application/xml"].join(",");function np({inputContent:e,isExpanded:t,expandButtonEnabled:n,onSelectUpload:s,onExpandButtonClicked:i}){const{formatMessage:a}=(0,Ci.c)(),o="text"===e.type,r="attachments"===e.type,l=o||r,c="attachments"===e.type&&e.attachments.some(Wd);return(0,S.jsxs)(sp,{children:[n?(0,S.jsx)(ip,{type:"button",onClick:i,children:t?(0,S.jsx)(bi,{icon:Js}):(0,S.jsx)(bi,{icon:Vs})}):(0,S.jsx)("div",{}),(0,S.jsxs)(ap,{children:[(0,S.jsx)(ep,{accept:tp,multiple:!0,disabled:o,onChange:s}),(0,S.jsx)(Ti,{variant:"primary",type:"submit",squared:!0,disabled:!l||c,title:a(Yu.sendButtonLabel),children:(0,S.jsx)(bi,{icon:Ls})})]})]})}const sp=d.cp.div.withConfig({displayName:"ButtonContainer__Container",componentId:"sc-r75wfn-0"})(["display:flex;flex-direction:column;justify-content:space-between;padding:",";"],b("100")),ip=d.cp.button.withConfig({displayName:"ButtonContainer__ExpandButton",componentId:"sc-r75wfn-1"})(["align-self:flex-end;background-color:transparent;color:",";margin:"," "," 0 0;padding:0;border:none;cursor:pointer;"],v("neutral700"),b("300"),b("300")),ap=d.cp.div.withConfig({displayName:"ButtonContainer__BottomContainer",componentId:"sc-r75wfn-2"})(["display:flex;align-self:flex-end;overflow:hidden;gap:",";"],b("50"));var op=n(6572);const rp=5,lp=18;function cp({className:e,inputContent:t,messagingAllowed:n,isExpanded:s,textareaRef:i,onTextChanged:a,onKeyPress:o,onRowsChanged:r}){const{formatMessage:l}=(0,Ci.c)();if("empty"!==t.type&&"text"!==t.type)return null;const c="text"===t.type?t.content:"",d=s?void 0:rp;return(0,S.jsx)(dp,{ref:i,className:e,autoFocus:n,rows:1,maxRows:d,onKeyPress:o,placeholder:l(Yu.textInputPlaceholder),value:c,onChange:e=>a(e.target.value),onHeightChange:function(e,t){r((e-2*lp)/t.rowHeight)},$isExpanded:s})}const dp=(0,d.cp)(op.c).withConfig({displayName:"TextContent__Textarea",componentId:"sc-1c0j7zg-0"})(["box-sizing:border-box;resize:none;border:none;outline:none;padding-top:","px;padding-bottom:","px;padding-inline-start:",";padding-inline-end:",";",";font-size:16px;&::placeholder{color:",";}",""],lp,lp,b("500"),b("100"),I("body"),v("textTertiary"),(({$isExpanded:e})=>e&&(0,d.gV)(["min-height:100%;max-height:100%;"])));function up(e){return!("isLoading"in e)||!e.isLoading}function pp({inputContent:e,messagingAllowed:t,onAttachmentsSelected:n,onAttachmentDeleted:s,onSendMessage:i,onTextChanged:a,isViewedOnSmallScreen:o,className:r}){const{isExpanded:l,expandButtonEnabled:c,textareaRef:d,toggleExpand:u,handleTextareaRowsChanged:p}=function(){const[e,t]=(0,j.useState)(!1),[n,s]=(0,j.useState)(!1),[i,a]=(0,j.useState)(0),o=(0,j.useRef)(null);return(0,j.useEffect)((()=>{s(e||i>=4)}),[e,i]),{isExpanded:e,expandButtonEnabled:n,textareaRef:o,toggleExpand:function(){t((e=>!e)),o.current?.focus()},handleTextareaRowsChanged:function(e){a(e)}}}(),g=t=>{switch(t.preventDefault(),e.type){case"attachments":e.attachments.filter(up).forEach((e=>i({type:"attachment",...e})));break;case"text":i({type:"text",text:(n=e.content,(0,Z.pipe)(n,Pi(),Ui,Hi)),contentType:"text/html"})}var n},m=e=>{e.shiftKey||"Enter"!==e.key||g(e)};return(0,S.jsx)(gp,{className:r,$isViewedOnSmallScreen:o,$isExpanded:l,children:(0,S.jsxs)(mp,{onSubmit:g,children:[(0,S.jsx)(cp,{inputContent:e,messagingAllowed:t,isExpanded:l,textareaRef:d,onTextChanged:a,onKeyPress:m,onRowsChanged:p}),(0,S.jsx)(Ju,{inputContent:e,onAttachmentDeleted:s,onKeyPress:m}),(0,S.jsx)(np,{inputContent:e,isExpanded:l,expandButtonEnabled:c,onSelectUpload:e=>{const t=Array.from(e.currentTarget.files||[]).map((e=>({id:(0,gn.c)(),file:e})));n(t)},onExpandButtonClicked:u})]})})}const gp=d.cp.div.withConfig({displayName:"Input__Container",componentId:"sc-byiera-0"})(["box-sizing:border-box;position:relative;border-top:1px solid ",";box-shadow:",";background:",";border-radius:",";&::before{content:'';width:100%;position:absolute;top:-1px;left:0;transform-origin:left center;height:1px;background:",";transition:transform 0.15s ease-in;transform:scaleX(0);}",""],v("neutral200"),C("negative"),v("neutral000"),(({$isViewedOnSmallScreen:e})=>e?"none":`0 0 ${w("400")} ${w("400")}`),x("mainGradient"),(({$isExpanded:e})=>e?(0,d.gV)(["position:fixed;top:0;left:0;width:100vw;height:100vh;"]):(0,d.gV)(["&:focus-within::before{transform:scaleX(1);}"]))),mp=d.cp.form.withConfig({displayName:"Input__Form",componentId:"sc-byiera-1"})(["position:relative;display:flex;padding:0;margin:0;height:100%;& > *{&:first-child{flex:1;}}"]);function hp(){const{conversationId:e}=Cr(),t=(0,j.useMemo)((()=>({conversationId:e})),[e]);return(0,S.jsx)(Il.Provider,{value:t,children:(0,S.jsx)(fp,{})})}function fp(){const{conversationId:e}=jl(),t=ss(Mt.getConversationHasEnded(e));return(0,S.jsxs)(yp,{children:[(0,S.jsx)(Xl,{}),(0,S.jsx)(tc,{children:(0,S.jsx)(Zu,{})}),t?(0,S.jsx)(dc,{}):(0,S.jsx)(vp,{})]})}const yp=d.cp.div.withConfig({displayName:"ConversationPage__Container",componentId:"sc-rj3u2i-0"})(["display:flex;flex-direction:column;height:100%;z-index:0;& > *{&:nth-child(2){flex:1;}}"]),vp=(0,d.cp)((({className:e})=>{const t=is(),{conversationId:n}=jl(),s=(0,at.w1)(Mt.getConversationMessagingAllowed(n)),i=(0,at.w1)(Mt.getConversationInputContent(n)),{isViewedOnSmallScreen:a}=(0,at.w1)(z.getUIState),o=(0,j.useCallback)((e=>{try{t((s={conversationId:n,content:e},(e,t,n)=>{const{conversationService:i}=n.services,a=i.sendMessage(s),o={from:"user",conversationId:s.conversationId,messageId:a.messageId,content:s.content,timestamp:(new Date).toISOString()};e(Ht(o))}))}catch(e){t(vn({variant:"error",message:Ku.failedToSend})),console.warn("Caught error: sending the message failed",e)}var s}),[t,n]),r=(0,j.useCallback)((e=>{t(Vt({conversationId:n,text:e}))}),[t,n]);return s?(0,S.jsx)(pp,{className:e,inputContent:i,messagingAllowed:s,onAttachmentsSelected:e=>t(rt({attachments:e,conversationId:n})),onAttachmentDeleted:e=>t(Pt({attachmentId:e,conversationId:n})),onTextChanged:r,onSendMessage:o,isViewedOnSmallScreen:a}):null})).withConfig({displayName:"ConversationPage__StyledInput",componentId:"sc-rj3u2i-1"})(["z-index:1;"]),xp="newConversation",bp="conversation/:conversationId",wp=[{path:xp,element:(0,S.jsx)(lc,{})},{path:bp,element:(0,S.jsx)(hp,{})}],Cp=()=>(0,S.jsxs)(Np,{children:[(0,S.jsx)(Ip,{children:(0,S.jsx)(jp,{$textStyle:"body"})}),Array(Lp).fill(null).map(((e,t)=>(0,S.jsx)(Ip,{children:(0,S.jsx)(Sp,{$textStyle:"body"})},t)))]}),Ip=d.cp.div.withConfig({displayName:"LoadingCard__LoadingRow",componentId:"sc-1rz90ye-0"})(["padding:"," ",";"],b("300"),b("500")),jp=(0,d.cp)(Ts).withConfig({displayName:"LoadingCard__ShortTextSkeleton",componentId:"sc-1rz90ye-1"})(["width:112px;"]),Sp=(0,d.cp)(Ts).withConfig({displayName:"LoadingCard__LongTextSkeleton",componentId:"sc-1rz90ye-2"})(["width:180px;"]),Mp=({bulletin:e,index:t})=>{const{navigateTo:n}=eh();return"link"===e.contentType?(0,S.jsxs)(kp,{href:e.content,target:"_blank",rel:"noopener",children:[(0,S.jsx)(_p,{$textStyle:"body",children:e.title}),(0,S.jsx)(Tp,{icon:Fs})]}):(0,S.jsxs)(kp,{as:"button",onClick:()=>n.bulletinItemModal({index:t.toString()}),children:[(0,S.jsx)(_p,{$textStyle:"body",children:e.title}),(0,S.jsx)(Tp,{icon:Zs})]})},kp=d.cp.a.withConfig({displayName:"BulletinLink__Anchor",componentId:"sc-hpxyg5-0"})(["display:flex;align-items:center;justify-content:space-between;padding:"," ",";background-color:",";color:",";text-decoration:none;cursor:pointer;text-align:start;&:hover{background-color:",";}&:hover > *{&:last-child{color:",";}}& > *{&:last-child{color:",";}}"],b("300"),b("500"),v("neutral000"),v("textPrimary"),v("neutral100"),v("neutral900"),v("textSecondary")),_p=(0,d.cp)(ws).withConfig({displayName:"BulletinLink__Title",componentId:"sc-hpxyg5-1"})(["flex:1;"]),Tp=(0,d.cp)(bi).withConfig({displayName:"BulletinLink__StyledIcon",componentId:"sc-hpxyg5-2"})(["margin-left:",";"],b("100")),Np=(0,d.cp)(Oi).withConfig({displayName:"Container",componentId:"sc-1znm35-0"})(["display:flex;flex-direction:column;overflow:hidden;margin-top:",";padding:"," 0;& > *{border:none;border-bottom:1px solid ",";&:last-child{border-bottom:none;}}"],b("100"),b("50"),v("neutral200")),Ap=()=>{const e=is(),t=ss(Yn),n=ss(Kn),s=ss(Jn);return 0===n.length||"error"===t?null:"loading"===t?(0,S.jsx)(Cp,{}):(0,S.jsx)($p,{bulletins:n,showAll:s,onClickViewMore:()=>e(Qn())})},Lp=5,$p=({bulletins:e,onClickViewMore:t,showAll:n})=>{const s=n?e:e.slice(0,Lp),i=!n&&s.length<e.length;return(0,S.jsxs)(Np,{children:[s.map(((e,t)=>(0,S.jsx)(Mp,{bulletin:e,index:t},t))),i&&(0,S.jsx)(Bp,{onClick:t,children:(0,S.jsx)(ws,{$textStyle:"body",color:"textLink",children:(0,S.jsx)(ga.c,{id:"ODCiUB",defaultMessage:[{type:0,value:"Show "},{type:1,value:"more"},{type:0,value:" more"}],values:{more:e.length-s.length}})})})]})},Bp=d.cp.div.withConfig({displayName:"BulletinsCard__MoreLink",componentId:"sc-13tvuhp-0"})(["padding:"," ",";color:",";cursor:pointer;"],b("300"),b("500"),v("textSecondary"));function Ep(){return(0,at.w1)(z.getSettings)}const Rp=(0,Rn.Os)({greetingTitle:{id:"MYCyVr",defaultMessage:[{type:0,value:"Hi there 👋"}]},greetingMessage:{id:"lNokd9",defaultMessage:[{type:0,value:"Feel free to reach out. We’re ready to help."}]},findArticlesButtonText:{id:"1LeIud",defaultMessage:[{type:0,value:"Find articles"}]},start:{id:"w2Ij0M",defaultMessage:[{type:0,value:"Start a conversation"}]},knowledgeBaseSearchInputPlaceholder:{id:"ILYY+2",defaultMessage:[{type:0,value:"Search for help"}]}}),qp=e=>{switch(e){case"title":return Rp.greetingTitle;case"description":return Rp.greetingMessage;case"startConversation":return Rp.start;case"findArticles":return Rp.findArticlesButtonText;case"knowledgeBaseSearchInputPlaceholder":return Rp.knowledgeBaseSearchInputPlaceholder}};function Op(e){const{general:t}=Ep(),n="knowledgeBaseSearchInputPlaceholder"===e?t.integrations?.elevio?.searchBarPlaceholder:t[e];return function(e,t){const n=ss(z.getLanguage),s=(0,Ci.c)();return t?.[n]||s.formatMessage(e)}(qp(e),n)}const zp=["1","2","3"].map((e=>({id:e,title:`Article ${e}`,lastPublishedAt:0,pinned:!1,slug:`article-${e}`,category:{id:e,title:`Category ${e}`}})));function Pp({numberOfArticles:e,knowledgeBaseApi:t,showMockedElevioArticles:n,onArticleClick:s,onSearchInputClick:i}){const a=Op("knowledgeBaseSearchInputPlaceholder"),{data:o,isLoading:r,isSuccess:l,isError:c}=t.useGetSuggestedArticlesQuery(),d=o?.data.suggestArticlesFromContext.results??[];if(c)return null;const u=(0,S.jsxs)(Hp,{children:[(0,S.jsx)(Fp,{icon:Ks,size:"300",color:"neutral700"}),(0,S.jsx)(Up,{placeholder:a,disabled:r,onFocus:i})]});if(l&&0===d?.length&&!0!==n)return u;const p=n?zp:d.slice(0,e);return(0,S.jsxs)(Vp,{children:[u,(0,S.jsx)(Dp,{children:(0,S.jsx)(al,{articles:p,articlesCount:e,isLoading:r,onArticleClick:s})})]})}const Vp=d.cp.div.withConfig({displayName:"knowledgeBaseWidget__Container",componentId:"sc-1hv6t56-0"})(["position:relative;margin-block-end:",";"],b("100")),Fp=(0,d.cp)(bi).withConfig({displayName:"knowledgeBaseWidget__StyledIcon",componentId:"sc-1hv6t56-1"})(["position:absolute;inset-block-start:50%;transform:translateY(-50%);inset-inline-start:",";z-index:1;"],b("600")),Up=(0,d.cp)(Mo).withConfig({displayName:"knowledgeBaseWidget__StyledTextInput",componentId:"sc-1hv6t56-2"})(["padding-inline-start:",";"],b("800")),Hp=d.cp.div.withConfig({displayName:"knowledgeBaseWidget__Header",componentId:"sc-1hv6t56-3"})(["position:relative;background-color:white;padding:",";background-color:rgba(255,255,255,0.1);border-radius:"," "," 0 0;"],b("300"),w("400"),w("400")),Dp=(0,d.cp)(il).withConfig({displayName:"knowledgeBaseWidget__StyledContainerCard",componentId:"sc-1hv6t56-4"})(["border-start-start-radius:0;border-start-end-radius:0;"]);var Wp=n(2648),Qp=n.n(Wp);const Gp=d.cp.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-1nsjw5i-0"})(["display:flex;flex-direction:column;gap:",";"],b("100")),Zp=d.cp.div.withConfig({displayName:"Container",componentId:"sc-8cr35c-0"})(["display:flex;flex-direction:column;align-items:stretch;"]);function Yp(){return(0,S.jsx)(Zp,{children:(0,S.jsx)(Gp,{children:(0,S.jsx)(_s,{style:{height:"46px"}})})})}const Kp=(0,Rn.Os)({viewPrevious:{id:"WNSVtg",defaultMessage:[{type:0,value:"View previous conversations"}]},continueConversation:{id:"rTmgXP",defaultMessage:[{type:0,value:"Continue your conversation"}]}});function Jp({className:e,showPrevious:t,closedConversationsUnseenCount:n,openConversation:s,disallowStartNewConversation:i,showLoadingIndicator:a=!1,localizedStartConversation:o,onStartNewConversation:r,onViewPreviousConversation:l,onNavigateToOpenConversation:c}){return(0,S.jsx)(Zp,{className:e,children:(0,S.jsxs)(Gp,{children:[s?(0,S.jsxs)(Ti,{variant:"neutral",onClick:()=>c(s.conversationId),style:{gap:4},children:[(0,S.jsx)(ga.c,{...Kp.continueConversation}),s.unseenCount>0&&(0,S.jsx)(qi,{count:s.unseenCount})]}):(0,S.jsx)(Ti,{variant:"neutral",onClick:()=>r(),disabled:i,loading:a,children:o}),t&&(0,S.jsxs)(Ti,{variant:"transparent",onClick:()=>l(),style:{gap:4},children:[(0,S.jsx)(ga.c,{...Kp.viewPrevious}),n>0&&(0,S.jsx)(qi,{count:n})]})]})})}const Xp=({className:e,isInitializedWithData:t})=>{const n=ss(Mt.getClosedConversations),s=ss(Mt.getClosedConversationsUnseenCount),i=ss(Mt.getOpenConversationStatus),a="pending"===ss(He),{navigateTo:o}=eh(),r=Op("startConversation"),l=a?Qp():o.createNewConversation,c=Object.values(n).length>0;return(0,S.jsx)(js,{ready:t,customPlaceholder:(0,S.jsx)(Yp,{}),className:e,children:(0,S.jsx)(Jp,{className:e,openConversation:i,disallowStartNewConversation:a,showLoadingIndicator:a,showPrevious:c,closedConversationsUnseenCount:s.count,localizedStartConversation:r,onViewPreviousConversation:o.previousConversations,onStartNewConversation:l,onNavigateToOpenConversation:e=>o.conversation({conversationId:e})})})},eg=d.cp.div.withConfig({displayName:"Container",componentId:"sc-1e554sr-0"})(["display:grid;grid-template-columns:1fr;grid-template-rows:72px auto min-content min-content;& > :nth-child(4){margin-top:",";}justify-items:center;align-items:start;text-align:center;color:",";"],b("50"),v("primary"));function tg(){return(0,S.jsxs)(eg,{children:[(0,S.jsx)(xi,{}),(0,S.jsx)(ng,{$textStyle:"bodyBold"}),(0,S.jsx)(sg,{$textStyle:"body"}),(0,S.jsx)(sg,{$textStyle:"body"})]})}const ng=(0,d.cp)(Ts).withConfig({displayName:"GreetingSkeleton__ShortTextSkeleton",componentId:"sc-vtm2c0-0"})(["width:90px;margin-bottom:",";"],b("100")),sg=(0,d.cp)(Ts).withConfig({displayName:"GreetingSkeleton__LongTextSkeleton",componentId:"sc-vtm2c0-1"})(["margin-bottom:1px;"]);function ig({avatarUrls:e}){return 1===e.length?(0,S.jsx)(ag,{avatarUrl:e[0],size:"large",placeholderStyle:"transparent"}):2===e.length?(0,S.jsxs)(og,{children:[(0,S.jsx)(ag,{avatarUrl:e[0],size:"large",placeholderStyle:"transparent"}),(0,S.jsx)(ag,{avatarUrl:e[1],size:"large",placeholderStyle:"transparent"})]}):(0,S.jsx)(hi,{$border:"gradient",children:e.slice(0,3).map(((e,t)=>(0,S.jsx)(pi,{avatarUrl:e,size:1===t?"large":"medium",placeholderStyle:"transparent"},t)))})}const ag=(0,d.cp)(pi).withConfig({displayName:"Avatars__StyledAvatar",componentId:"sc-1g57xn2-0"})(["padding:2px;background:",";img{border-radius:18px;}"],x("mainGradient")),og=d.cp.div.withConfig({displayName:"Avatars__CustomAvatarContainer",componentId:"sc-1g57xn2-1"})(["display:flex;& > *:nth-child(1){z-index:1;}& > *:nth-child(2){z-index:0;margin-left:-12px;}"]),rg=({title:e,description:t,avatars:n,className:s})=>(0,S.jsxs)(eg,{className:s,children:[(0,S.jsx)(ig,{avatarUrls:n}),(0,S.jsx)(lg,{$textStyle:"bodyBold",children:e}),(0,S.jsx)(ws,{$textStyle:"body",children:t}),null]}),lg=(0,d.cp)(ws).withConfig({displayName:"GreetingView__Title",componentId:"sc-8u1zx8-0"})(["margin-bottom:",";"],b("100")),cg=((0,d.cp)(rr).withConfig({displayName:"GreetingView__StyledWaitingEstimation",componentId:"sc-8u1zx8-1"})(["margin-top:",";"],b("50")),()=>{const{navigateTo:e}=eh(),{general:t}=Ep(),n=Op("findArticles"),s=t.integrations?.elevio?.companyId;return s?(0,S.jsxs)(dg,{variant:"transparent",onClick:()=>e.knowledgeBaseHome(),children:[(0,S.jsx)(bi,{icon:Ks}),n]}):null}),dg=(0,d.cp)(Ti).withConfig({displayName:"KnowledgeBaseButton__FindArticlesButton",componentId:"sc-6f9msw-0"})(["background-color:",";margin-top:",";gap:",";"],T("neutral000",.1),b("100"),b("100"));function ug({displayBrand:e,...t}){return(0,S.jsx)(pg,{...t,children:e&&(0,S.jsxs)(gg,{href:"https://www.dixa.com/",target:"_blank",rel:"noopener",children:[(0,S.jsx)(bi,{icon:qs}),(0,S.jsx)(ws,{$textStyle:"informative",children:(0,S.jsx)(ga.c,{id:"RhJIvt",defaultMessage:[{type:0,value:"We’re using Dixa"}]})})]})})}const pg=d.cp.div.withConfig({displayName:"Watermark__Container",componentId:"sc-1h6v9s5-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:",";padding-bottom:",";"],b("300"),b("300")),gg=d.cp.a.withConfig({displayName:"Watermark__DixaLink",componentId:"sc-1h6v9s5-1"})(["display:flex;align-items:center;justify-content:center;gap:",";color:",";padding:"," ",";text-decoration:none;border-radius:",";&:hover{background-color:",";}"],b("100"),v("neutral000"),b("100"),b("200"),w("200"),T("neutral000",.15));function mg({className:e,displayBrand:t,showMockedElevioArticles:n}){const s=(()=>{const e=(0,at.w1)(Re),t=(0,at.w1)(Ee);return e&&null!=t})(),i=(0,at.w1)(Zn),a=Ep().general.integrations?.elevio?.displayType,{navigateTo:o}=eh(),r=(0,j.useCallback)((()=>o.knowledgeBaseHome()),[o]),l=(0,j.useCallback)((e=>o.knowledgeBaseArticle(e)),[o]),c=void 0===a||"display-button-for-access-to-articles"===a,d="display-related-articles-on-the-home-page"===a;return(0,S.jsxs)(hg,{className:e,children:[(0,S.jsx)(oh,{}),(0,S.jsxs)(yg,{children:[(0,S.jsx)(wg,{}),(0,S.jsxs)(xg,{children:[(0,S.jsx)(Xp,{isInitializedWithData:s}),s&&c&&(0,S.jsx)(cg,{})]}),d&&(0,S.jsx)(ms.Ou,{children:(0,S.jsx)(Pp,{knowledgeBaseApi:Y,numberOfArticles:3,showMockedElevioArticles:n,onArticleClick:l,onSearchInputClick:r})}),(0,S.jsx)(ms.Ou,{children:i?(0,S.jsx)(Ap,{}):(0,S.jsx)(vg,{})})]}),(0,S.jsx)(bg,{displayBrand:t})]})}const hg=d.cp.div.withConfig({displayName:"LandingPage__Container",componentId:"sc-1vlac4t-0"})(["position:relative;box-sizing:border-box;min-height:100%;width:100%;background:",";padding:",";padding-top:",";display:flex;flex-direction:column;justify-content:space-between;border-radius:",";"],x("mainGradient"),b("300"),b("800"),w("500")),fg=(0,d.gV)(["padding-right:",";padding-left:",";"],b("300"),b("300")),yg=d.cp.div.withConfig({displayName:"LandingPage__CenterContainer",componentId:"sc-1vlac4t-1"})(["display:flex;flex-direction:column;"]),vg=d.cp.div.withConfig({displayName:"LandingPage__Placeholder",componentId:"sc-1vlac4t-2"})([""]),xg=d.cp.div.withConfig({displayName:"LandingPage__ConversationStartContainer",componentId:"sc-1vlac4t-3"})(["box-sizing:border-box;display:flex;flex-direction:column;margin-bottom:",";",""],b("500"),fg),bg=(0,d.cp)(ug).withConfig({displayName:"LandingPage__StyledWatermark",componentId:"sc-1vlac4t-4"})(["margin-top:",";box-sizing:border-box;align-self:center;"],b("700")),wg=(0,d.cp)((({className:e})=>{const t=ss(Re),{avatars:n}=Ep(),s=Op("title"),i=Op("description");return(0,S.jsx)("div",{className:e,children:(0,S.jsx)(js,{ready:t,customPlaceholder:(0,S.jsx)(tg,{}),children:(0,S.jsx)(rg,{title:s,description:i,avatars:n})})})})).withConfig({displayName:"LandingPage__StyledGreeting",componentId:"sc-1vlac4t-5"})(["margin-bottom:",";",""],b("500"),fg),Cg=(0,Rn.Os)({endConversation:{id:"aiFCG6",defaultMessage:[{type:0,value:"End conversation"}]},endConversationWarning:{id:"ZEXios",defaultMessage:[{type:0,value:"By clicking the button below you will end your current conversation."}]},cancelButtonText:{id:"47FYwb",defaultMessage:[{type:0,value:"Cancel"}]},generalFailureMessage:{id:"JqiqNj",defaultMessage:[{type:0,value:"Something went wrong"}]}});function Ig({onCancel:e,onEndConversation:t,isSubmitting:n}){return(0,S.jsxs)(jg,{children:[(0,S.jsxs)(Sg,{children:[(0,S.jsxs)(ws,{$textStyle:"headingH6Bold",children:[(0,S.jsx)(ga.c,{...Cg.endConversation})," "]}),(0,S.jsx)(Ti,{squared:!0,variant:"transparent",onClick:e,children:(0,S.jsx)(bi,{icon:Es,color:"neutral900",size:"400"})})]}),(0,S.jsxs)(Mg,{children:[(0,S.jsx)(_g,{$textStyle:"body",color:"textSecondary",children:(0,S.jsx)(ga.c,{...Cg.endConversationWarning})}),(0,S.jsx)(kg,{variant:"primary",onClick:t,disabled:n,loading:n,children:(0,S.jsx)(ga.c,{...Cg.endConversation})}),(0,S.jsx)(kg,{variant:"secondary",onClick:e,disabled:n,children:(0,S.jsx)(ga.c,{...Cg.cancelButtonText})})]})]})}const jg=d.cp.div.withConfig({displayName:"EndConversationModalView__Container",componentId:"sc-vcmeee-0"})(["display:flex;flex-direction:column;height:100%;"]),Sg=d.cp.div.withConfig({displayName:"EndConversationModalView__HeaderContainer",componentId:"sc-vcmeee-1"})(["display:flex;align-items:center;justify-content:space-between;padding-inline:",";padding-block-start:",";"],b("500"),b("500")),Mg=d.cp.div.withConfig({displayName:"EndConversationModalView__BodyContainer",componentId:"sc-vcmeee-2"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:",";flex:1;padding-inline:",";padding-block-end:",";"],b("100"),b("600"),b("600")),kg=(0,d.cp)(Ti).withConfig({displayName:"EndConversationModalView__StyledButton",componentId:"sc-vcmeee-3"})(["width:100%;"]),_g=(0,d.cp)(ws).withConfig({displayName:"EndConversationModalView__WarningText",componentId:"sc-vcmeee-4"})(["text-align:center;margin-block-end:",";"],b("100"));function Tg(){const e=(0,Ci.c)(),t=is(),{navigateTo:n}=eh(),{notify:s}=Cl(),[i,a]=(0,j.useState)(!1),{conversationId:o}=Cr(),r=ss(Mt.doesConversationExist(o));function l(){r?n.conversation({conversationId:o}):n.mainView()}return(0,S.jsx)(Ig,{isSubmitting:i,onCancel:function(){l()},onEndConversation:async function(){o&&(a(!0),t(_t({conversationId:o})).then(l).catch((()=>{s({variant:"error",message:e.formatMessage(Cg.generalFailureMessage)}),a(!1)})))}})}const Ng=(0,wu.Os)({nameFieldTitle:{id:"vlKhIl",defaultMessage:[{type:0,value:"Your name"}]},nameFieldPlaceholder:{id:"DI2X4m",defaultMessage:[{type:0,value:"What is your name?"}]},emailFieldTitle:{id:"mSobaU",defaultMessage:[{type:0,value:"Your e-mail"}]},emailFieldPlaceholder:{id:"ejW9wk",defaultMessage:[{type:0,value:"For example name@email.com"}]},actionButton:{id:"acrOoz",defaultMessage:[{type:0,value:"Continue"}]},required:{id:"Seanpx",defaultMessage:[{type:0,value:"Required"}]},invalidEmail:{id:"vxct/W",defaultMessage:[{type:0,value:"Invalid email. Try again."}]}});function Ag({onSubmit:e}){const t=(0,Ci.c)(),{register:n,handleSubmit:s,formState:{errors:i,isSubmitting:a}}=(0,aa.aS)({mode:"onBlur",shouldFocusError:!0}),o=(0,j.useRef)(null),r=(0,j.useCallback)((()=>o.current?.focus()),[]),{ref:l,...c}=n("name",{required:{value:!0,message:t.formatMessage(Ng.required)}});return Fo(r),(0,S.jsxs)(Lg,{onSubmit:s(e),children:[(0,S.jsx)($g,{children:(0,S.jsx)(Lo,{label:t.formatMessage(Ng.nameFieldTitle),placeholder:t.formatMessage(Ng.nameFieldPlaceholder),...c,ref:e=>{l(e),o.current=e},fieldId:"name",state:i?.name?.message?"error":"normal",helpMessage:i?.name?.message})}),(0,S.jsx)($g,{children:(0,S.jsx)(Lo,{label:t.formatMessage(Ng.emailFieldTitle),placeholder:t.formatMessage(Ng.emailFieldPlaceholder),...n("email",{required:{value:!0,message:t.formatMessage(Ng.required)},pattern:{value:ia,message:t.formatMessage(Ng.invalidEmail)}}),fieldId:"email",state:i?.email?.message?"error":"normal",helpMessage:i?.email?.message})}),(0,S.jsx)(Bg,{children:(0,S.jsx)(Eg,{type:"submit",variant:"primary","data-testid":"submit-button",disabled:a,children:a?(0,S.jsx)(_i,{}):t.formatMessage(Ng.actionButton)})})]})}const Lg=d.cp.form.withConfig({displayName:"IdentityClaimForm__Form",componentId:"sc-13m2bn9-0"})(["width:100%;height:100%;min-width:275px;display:flex;flex-direction:column;"]),$g=d.cp.div.withConfig({displayName:"IdentityClaimForm__TextFieldContainer",componentId:"sc-13m2bn9-1"})(["margin-bottom:",";"],b("300")),Bg=d.cp.div.withConfig({displayName:"IdentityClaimForm__StyledButtonContainer",componentId:"sc-13m2bn9-2"})(["flex:1;display:flex;flex-direction:column;justify-content:flex-end;"]),Eg=(0,d.cp)(Ti).withConfig({displayName:"IdentityClaimForm__StyledButton",componentId:"sc-13m2bn9-3"})(["width:100%;"]),Rg=(0,Rn.Os)({getStarted:{id:"DCcmfy",defaultMessage:[{type:0,value:"Let’s get started with your information"}]},failedToIdentifyUser:{id:"CKD5nZ",defaultMessage:[{type:0,value:"You are already logged in with another name and email"}]},invalidEmailError:{id:"rLEQsN",defaultMessage:[{type:0,value:"The provided email address is invalid"}]},unexpectedError:{id:"aqa+ad",defaultMessage:[{type:0,value:"An unexpected error happened"}]}});function qg(){const{navigateTo:e}=eh(),[t]=(0,Ii.k5)(),n=is(),s=(0,Ci.c)();function i(){e.mainView()}function o(e){return fe.Su.is(e)?l(s.formatMessage(Rg.failedToIdentifyUser)):fe.Ud.is(e)?l(s.formatMessage(Rg.invalidEmailError)):void l(s.formatMessage(Rg.unexpectedError))}function r(){const n=t.get("redirect");n?e.customPath(n):i()}function l(e){n(vn({variant:"error",message:e}))}return(0,S.jsxs)(Og,{children:[(0,S.jsx)(Pg,{variant:"neutral",onClick:i,children:(0,S.jsx)(bi,{icon:Es,size:"500"})}),(0,S.jsx)(zg,{children:(0,S.jsx)(ws,{$textStyle:"bodyBold",children:(0,S.jsx)(ga.c,{...Rg.getStarted})})}),(0,S.jsx)(Ag,{onSubmit:async function(e){return n(Ze({type:"claim",...e})).then(a.yI).then(r).catch(o)}})]})}const Og=d.cp.div.withConfig({displayName:"IdentityClaim__Container",componentId:"sc-1yimhgo-0"})(["display:flex;flex-direction:column;box-sizing:border-box;height:100%;padding:",";"],b("300")),zg=d.cp.div.withConfig({displayName:"IdentityClaim__Header",componentId:"sc-1yimhgo-1"})(["margin-bottom:",";"],b("300")),Pg=(0,d.cp)(Ti).withConfig({displayName:"IdentityClaim__StyledButton",componentId:"sc-1yimhgo-2"})(["width:",";height:",";padding:0;align-self:flex-end;transition:0.2s all;&:hover{background:",";}"],b("800"),b("800"),v("neutral100"));function Vg(){const{navigateTo:e}=eh(),{index:t}=Cr(),n=ss((e=>((e,t)=>{const n=e.bulletin.bulletins[t];return(0,U.G)(n,{customMessage:`Unable to find bulletin at index: ${t}`}),n})(e,parseInt(t,10))));return(0,S.jsxs)(Fg,{children:[(0,S.jsx)(Ho,{onClose:e.mainView,title:n.title}),(0,S.jsx)(Ug,{children:(0,S.jsx)(Hg,{dangerouslySetInnerHTML:{__html:n.content}})})]})}const Fg=d.cp.div.withConfig({displayName:"BulletinPage__BulletinContainer",componentId:"sc-hi6a1y-0"})(["display:flex;flex-direction:column;background:",";height:100%;"],v("neutral000")),Ug=(0,d.cp)(Qo).withConfig({displayName:"BulletinPage__StyledScrollShadow",componentId:"sc-hi6a1y-1"})(["flex:1;"]),Hg=d.cp.div.withConfig({displayName:"BulletinPage__BulletinContent",componentId:"sc-hi6a1y-2"})(["padding-left:",";padding-right:",";& h1,h2,h3{"," color:",";padding-bottom:",";}& p{"," color:",";padding-bottom:",";}& img{max-width:100%;}& figure{padding-bottom:",";}& figcaption{text-align:center;"," color:",";}"],b("400"),b("400"),I("bodyBold"),v("textSecondary"),b("100"),I("body"),v("textPrimary"),b("400"),b("400"),I("informative"),v("textSecondary")),Dg={isSearchOpen:!1,setIsSearchOpen:()=>null},Wg=(0,j.createContext)(Dg),Qg=({children:e})=>{const[t,n]=(0,Ii.k5)(),s=(0,br.i6)(),i="open"===t.get("search"),a=(0,j.useCallback)((e=>{e&&!i&&n({search:"open"}),!e&&i&&s(-1)}),[i,n,s]);return(0,S.jsx)(Wg.Provider,{value:{isSearchOpen:i,setIsSearchOpen:a},children:e})},Gg=(0,Rn.Os)({searchFailed:{id:"mUocSC",defaultMessage:[{type:0,value:"Search failed. Try again."}]}});var Zg=n(7104),Yg=n(1036),Kg=n(2544);const Jg=(0,Rn.Os)({searchInputPlaceholder:{id:"M60KJv",defaultMessage:[{type:0,value:"Search keywords"}]},clearSearchButton:{id:"4YJHut",defaultMessage:[{type:0,value:"Clear search"}]}}),Xg=(0,j.forwardRef)((({initialSearchQuery:e,onSearchQueryChange:t,className:n},s)=>{const[i,a]=(0,j.useState)(e??""),o=(0,Ci.c)(),r=(0,j.useCallback)((({target:e})=>{a(e.value)}),[]),l=(0,j.useCallback)((()=>{a("")}),[]),c=(0,j.useCallback)((e=>{e.stopPropagation()}),[]);return(0,Kg.c)((()=>{t?.(i)}),[i]),(0,S.jsx)(em,{className:n,children:(0,S.jsxs)(tm,{children:[(0,S.jsx)(sm,{icon:Ks,size:"300",color:"neutral700"}),(0,S.jsx)(nm,{placeholder:o.formatMessage(Jg.searchInputPlaceholder),value:i,role:"searchbox",onChange:r,ref:s}),(0,S.jsx)(im,{variant:"transparent",onClick:l,onFocus:c,$isShown:i.length>0,"aria-label":o.formatMessage(Jg.clearSearchButton),children:(0,S.jsx)(am,{icon:Es,size:"300",color:"neutral700"})})]})})}));Xg.displayName="SearchInput";const em=d.cp.div.withConfig({displayName:"SearchInput__Container",componentId:"sc-bt8sg4-0"})(["display:flex;flex-direction:column;padding:0 ",";"],b("100")),tm=d.cp.div.withConfig({displayName:"SearchInput__InputContainer",componentId:"sc-bt8sg4-1"})(["position:relative;"]),nm=d.cp.input.withConfig({displayName:"SearchInput__StyledInput",componentId:"sc-bt8sg4-2"})(["box-sizing:border-box;width:100%;height:",";outline:none;border:1px solid ",";border-radius:",";color:",";font-family:",";top:0;left:0;padding:"," ",";&::placeholder{color:",";}&:focus{border:1px solid ",";}"],b("700"),v("neutral200"),w("300"),v("textPrimary"),f.system,b("100"),b("700"),v("textTertiary"),v("neutral900")),sm=(0,d.cp)(bi).withConfig({displayName:"SearchInput__StyledSearchIcon",componentId:"sc-bt8sg4-3"})(["position:absolute;padding:",";pointer-events:none;"],b("200")),im=(0,d.cp)(Ti).withConfig({displayName:"SearchInput__StyledCloseButton",componentId:"sc-bt8sg4-4"})(["display:",";position:absolute;top:0;"," padding:",";&:focus{box-shadow:none;}&:hover{background:none;}"],(({$isShown:e})=>e?"flex":"none"),(({theme:e})=>"rtl"===e.direction?(0,d.gV)(["left:0;"]):(0,d.gV)(["right:0;"])),b("200")),am=(0,d.cp)(bi).withConfig({displayName:"SearchInput__StyledCloseIcon",componentId:"sc-bt8sg4-5"})(["",":focus &{opacity:0;}",":hover,",":focus &{fill:",";}"],nm,im,im,v("neutral900")),om=(0,Rn.Os)({typeKeyword:{id:"H8v8aY",defaultMessage:[{type:0,value:"Type any keyword or sentence to find related articles"}]},noResultsHeader:{id:"QA9jn9",defaultMessage:[{type:0,value:"No results found for "},{type:8,value:"bold",children:[{type:0,value:'"'},{type:1,value:"keyword"},{type:0,value:'"'}]}]},noResultsSubheader:{id:"kMgAm/",defaultMessage:[{type:0,value:"Please try another keyword"}]},viewAllResultsButton:{id:"AvNPA/",defaultMessage:[{type:0,value:"View all results"}]}}),rm=(0,Rn.Os)({loading:{id:"IfOkbh",defaultMessage:[{type:0,value:"Searching"}]}}),lm=d.cp.div.withConfig({displayName:"SuggestionList__Container",componentId:"sc-rf81gl-0"})(["display:flex;flex-direction:column;background:",";"],v("neutral100")),cm=(0,d.cp)(_i).attrs({size:20,width:4}).withConfig({displayName:"SuggestionList__StyledSpinner",componentId:"sc-rf81gl-1"})(["margin:"," auto;color:",";"],b("300"),v("neutral900")),dm=(0,d.gV)(["cursor:pointer;visibility:visible;background-color:",";"],v("neutral200")),um=d.cp.button.withConfig({displayName:"SuggestionList__Article",componentId:"sc-rf81gl-2"})(["display:flex;align-items:center;justify-content:space-between;padding:"," "," "," ",";background:none;border:none;outline:none;text-align:start;border-top:1px solid ",";"," &:hover,:focus,&[aria-selected='true']{","}"],b("300"),b("300"),b("300"),b("500"),v("neutral200"),(({$isLastArticle:e})=>e&&(0,d.gV)(["border-bottom:1px solid ",";"],v("neutral200"))),dm),pm=d.cp.div.withConfig({displayName:"SuggestionList__SpinnerContainer",componentId:"sc-rf81gl-3"})(["display:flex;"]),gm=(0,d.cp)(Cs).withConfig({displayName:"SuggestionList__StyledText",componentId:"sc-rf81gl-4"})(["flex:1;color:",";"],v("textSecondary")),mm=d.cp.div.withConfig({displayName:"SuggestionList__CenteredColumn",componentId:"sc-rf81gl-5"})(["display:flex;flex-direction:column;row-gap:",";padding:"," ",";align-items:center;text-align:center;color:",";"],b("100"),b("500"),b("200"),v("neutral600"));var hm=n(5624);const fm=({isOnSearchPage:e,className:t})=>{const n=(0,j.useRef)(null),[s,i]=(0,j.useState)(!1),[a,o]=(0,j.useState)(""),{search:r,isLoading:l,suggestedArticles:c,loadMoreResults:d,hasMoreResults:u}=(()=>{const e=(0,Ci.c)(),[t,n]=(0,j.useState)({page:0,text:""}),s=is(),[i,a]=(0,j.useState)(void 0),[o,r]=(0,j.useState)(!1),[l,c]=(0,j.useState)(!1);return(0,j.useEffect)((()=>{s(Y.endpoints.searchArticles.initiate({text:t.text,paging:{limit:12,offset:12*t.page}})).then((e=>{a((t=>[...t??[],...e.data?.data.searchArticles.results??[]])),c((e=>{const t=e?.data.searchArticles.pageInfo;return!!t&&t.totalPages>t.currentPage})(e.data))})).catch((()=>{s(vn({variant:"error",message:e.formatMessage(Gg.searchFailed)}))})).finally((()=>{r(!1)}))}),[t,s,e]),{suggestedArticles:i,isLoading:o,hasMoreResults:l,search:(0,j.useCallback)((e=>{a(void 0),r(!0),n({page:0,text:e})}),[]),loadMoreResults:(0,j.useCallback)((()=>{n((({page:e,text:t})=>({text:t,page:e+1})))}),[])}})(),{navigateTo:p}=eh(),g=(0,j.useCallback)((e=>{p.knowledgeBaseArticle(e.id)}),[p]);(0,Yg.c)((()=>{(0,Zg.flushSync)((()=>{i(!1),r(a)}))}),500,[a]);const m=(0,j.useCallback)((e=>{c?.[e]&&g(c[e])}),[c,g]),{inputRef:h,containerRef:f,isListOpen:y,highlightedIndex:v,setHighlightedIndex:x}=(({suggestedArticles:e,hasMoreResults:t,onHighlightedItemClick:n})=>{const s=(0,j.useRef)(null),i=(0,j.useRef)(null),{isSearchOpen:a,setIsSearchOpen:o}=(0,j.useContext)(Wg),[r,l]=(0,j.useState)(0);(0,j.useEffect)((()=>{const e=i.current,t=()=>o(!0);if(e)return e.addEventListener("focus",t),()=>e.removeEventListener("focus",t)}),[o]);const c=(0,Po.c)(e);(0,j.useEffect)((()=>{void 0===c&&void 0!==e&&l(0)}),[c,e]);const d=(0,j.useCallback)((n=>{a&&e?.length&&l("previous"===n?t=>0===t?e.length-1:t-1:n=>{const s=n===e.length-1;return s&&t?n:s?0:n+1})}),[t,a,e]),u=(0,j.useCallback)((e=>{switch(e.key){case"ArrowUp":e.preventDefault(),d("previous");break;case"ArrowDown":e.preventDefault(),d("next");break;case"Enter":n(r);break;case"Escape":i.current?.blur(),o(!1)}}),[d,n,r,o]);return(0,hm.c)("keydown",u,i.current),{containerRef:s,inputRef:i,isListOpen:a,highlightedIndex:r,setHighlightedIndex:l}})({suggestedArticles:c,hasMoreResults:u,onHighlightedItemClick:m});return(0,S.jsxs)(ym,{$isShown:e,className:t,ref:f,children:[(0,S.jsx)(xm,{initialSearchQuery:a,onSearchQueryChange:e=>{i(!0),o(e)},ref:h,$isListOpen:y}),(0,S.jsx)(vm,{children:(0,S.jsx)(bm,{ref:n,$isOpen:y,children:(0,S.jsx)(wm,{$isOpen:y,highlightedIndex:v,setHighlightedIndex:x,searchText:a,isLoading:s||l,suggestedArticles:c,hasMoreSuggestions:u,onSuggestedArticleClick:g,fetchMoreArticles:d,listContainerRef:n})})})]})},ym=d.cp.div.withConfig({displayName:"QuickSearch__Container",componentId:"sc-ho1aj3-0"})(["display:",";position:relative;text-align:center;color:",";font:",";font-size:10px;font-weight:500;line-height:16px;letter-spacing:-0.02em;border-radius:100px;min-width:",";box-sizing:border-box;"],(({$isShown:e})=>e?"block":"none"),v("neutral000"),f.system,b("300")),vm=d.cp.div.withConfig({displayName:"QuickSearch__RelativeContainer",componentId:"sc-ho1aj3-1"})(["position:relative;"]),xm=(0,d.cp)(Xg).withConfig({displayName:"QuickSearch__StyledSearchInput",componentId:"sc-ho1aj3-2"})(["position:relative;padding:",";transition:background-color ","ms ",";background-color:",";"],b("100"),Ki.fast,Ji.easeOut,(({$isListOpen:e})=>e?v("neutral100"):"none")),bm=d.cp.div.withConfig({displayName:"QuickSearch__SuggestionListContainer",componentId:"sc-ho1aj3-3"})(["position:absolute;width:100%;top:0;height:calc(100vh - "," - "," - ",");background:",";overflow:scroll;pointer-events:",";transition:opacity ","ms ",";opacity:",";"],b("900"),b("100"),b("900"),v("neutral100"),(({$isOpen:e})=>e?"visible":"none"),Ki.fast,Ji.easeOut,(({$isOpen:e})=>e?"1":"0")),wm=(0,d.cp)((function({searchText:e,highlightedIndex:t,isLoading:n,suggestedArticles:s,hasMoreSuggestions:i,className:a,setHighlightedIndex:o,onSuggestedArticleClick:r,fetchMoreArticles:l,listContainerRef:c}){const{formatMessage:d}=(0,Ci.c)(),u=(0,j.useRef)(new Map);(0,Kg.c)((()=>{const[,e]=Array.from(u.current)[t]??[],n=c.current;if(!n)return;const s=((e,t)=>{if(!e||!t)return null;const{bottom:n,top:s}=t.getBoundingClientRect(),{top:i,bottom:a,height:o}=e.getBoundingClientRect();return i<s?i-s:a>n?a-n+o:null})(e,n);s&&n.scrollBy({top:s})}),[t]);const{ref:p}=(0,Kc.cD)({onChange:e=>{e&&l()}});return e.length<3?(0,S.jsx)(lm,{className:a,children:(0,S.jsxs)(mm,{children:[(0,S.jsx)(bi,{icon:Ys,size:"600",color:"neutral700"}),(0,S.jsx)(ws,{$textStyle:"body",children:(0,S.jsx)(ga.c,{...om.typeKeyword})})]})}):void 0===s||n?(0,S.jsx)(lm,{className:a,children:(0,S.jsx)(cm,{"aria-label":d(rm.loading)})}):0===s.length?(0,S.jsx)(lm,{className:a,children:(0,S.jsxs)(mm,{children:[(0,S.jsx)(ws,{$textStyle:"body",children:(0,S.jsx)(ga.c,{...om.noResultsHeader,values:{keyword:e,bold:e=>(0,S.jsx)("strong",{children:e})}})}),(0,S.jsx)(ws,{$textStyle:"body",children:(0,S.jsx)(ga.c,{...om.noResultsSubheader})})]})}):(0,S.jsxs)(lm,{role:"list",className:a,children:[s.map(((n,i)=>{return(0,S.jsxs)(um,{ref:e=>{e?u.current.set(n.id,e):u.current.delete(n.id)},$isLastArticle:i===s.length-1,role:"option",onClick:()=>{o(i),r(n)},tabIndex:-1,"aria-selected":t===i,children:[(0,S.jsx)(gm,{$textStyle:"body",children:(a=n.title,l=e,a.split(new RegExp(`(${l})`,"gi")).map(((e,t)=>{const n=e.trim().toLowerCase()===l.trim().toLowerCase();return(0,S.jsx)("span",{children:n?(0,S.jsx)("b",{children:e}):e},t)})))}),(0,S.jsx)(wi,{lrtIcon:As,rtlIcon:Ns,size:"400"})]},n.id);var a,l})),i&&(0,S.jsx)(pm,{ref:p,children:(0,S.jsx)(cm,{"aria-label":d(rm.loading)})})]})})).withConfig({displayName:"QuickSearch__StyledSuggestionList",componentId:"sc-ho1aj3-4"})(["position:absolute;width:100%;top:0;transition:transform ","ms ",";transform:",";"],Ki.fast,Ji.easeOut,(({$isOpen:e})=>e?"translateY(0) scale(1)":"translateY(50px) scale(1.05)")),Cm=(0,Rn.Os)({searchAnswersInputText:{id:"M6PcEI",defaultMessage:[{type:0,value:"How can we help you?"}]}}),Im=d.cp.div.withConfig({displayName:"SearchHeader__Header",componentId:"sc-1q9ylhq-0"})(["display:flex;flex-direction:column;"]),jm=d.cp.div.withConfig({displayName:"SearchHeader__Row",componentId:"sc-1q9ylhq-1"})(["display:grid;grid-template-columns:"," auto ",";align-items:center;grid-gap:",";margin:0 ",";height:",";padding-top:",";"],b("800"),b("800"),b("100"),b("100"),b("900"),b("100")),Sm=(0,d.cp)(ws).withConfig({displayName:"SearchHeader__HeaderText",componentId:"sc-1q9ylhq-2"})(["display:flex;justify-content:center;align-items:center;color:",";"],v("primary")),Mm=d.cp.div.withConfig({displayName:"SearchHeader__Gradient",componentId:"sc-1q9ylhq-3"})(["z-index:-1;position:absolute;top:0;left:0;"," width:100%;background:",";"],(({$isExpanded:e})=>e?(0,d.gV)(["height:33vh;"]):(0,d.gV)(["height:",";padding-top:",";"],b("900"),b("200"))),x("mainGradient")),km=()=>{const e=(0,br.wh)(vl);return(0,S.jsx)(Qg,{children:(0,S.jsxs)(_m,{children:[(0,S.jsx)(Nm,{}),(0,S.jsx)(Am,{children:e})]})})},_m=({children:e})=>{const{isSearchOpen:t}=(0,j.useContext)(Wg);return(0,S.jsx)(Tm,{$bodyLock:t,children:e})},Tm=d.cp.div.withConfig({displayName:"KnowledgeBaseIndex__Container",componentId:"sc-blrzz-0"})(["position:relative;box-sizing:border-box;display:flex;flex-direction:column;min-height:100%;background:",";z-index:0;",""],v("neutral000"),(({$bodyLock:e})=>e&&(0,d.gV)(["height:100vh;overflow:hidden;"]))),Nm=(0,d.cp)((({className:e})=>{const{resolveAppPath:t,navigateTo:n}=eh(),s=null!==(0,br.SC)({path:t.knowledgeBaseHome()});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(Im,{className:e,children:[(0,S.jsxs)(jm,{children:[(0,S.jsx)(Li,{size:"compact",onClick:()=>n._back()}),s&&(0,S.jsx)(Sm,{$textStyle:"body",children:(0,S.jsx)(ga.c,{...Cm.searchAnswersInputText})})]}),(0,S.jsx)(fm,{isOnSearchPage:s})]}),(0,S.jsx)(Mm,{$isExpanded:s})]})})).withConfig({displayName:"KnowledgeBaseIndex__StyledSearchHeader",componentId:"sc-blrzz-1"})(["z-index:2;"]),Am=d.cp.div.withConfig({displayName:"KnowledgeBaseIndex__Content",componentId:"sc-blrzz-2"})(["z-index:1;"]);var Lm=n(8916);const $m=(0,Rn.Os)({noMessagesSent:{id:"zisRqr",defaultMessage:[{type:0,value:"No messages sent"}]},conversationLinkLabel:{id:"Z2y8qO",defaultMessage:[{type:0,value:"Go to the conversation"}]},userSentMessageLabel:{id:"j1HPGI",defaultMessage:[{type:0,value:"You"}]}});function Bm({messageEntry:e,sender:t}){const{formatMessage:n}=(0,Ci.c)();return(0,S.jsx)(Em,{$textStyle:"informative",children:e?function(e){const s="userSentMessage"===e.type?n($m.userSentMessageLabel):t?.name;return(0,S.jsxs)(S.Fragment,{children:[s,": ",(0,S.jsx)(Rm,{message:e})]})}(e):n($m.noMessagesSent)})}const Em=(0,d.cp)(Cs).withConfig({displayName:"LastMessage__Content",componentId:"sc-1rgnuhh-0"})(["color:",";"],v("textSecondary"));function Rm({message:e}){const{content:t}=e;switch(t.type){case"text":return(0,S.jsx)("span",{children:(n=t.text,(new DOMParser).parseFromString(n,"text/html").body.textContent??"")});case"attachment":return(0,S.jsx)("span",{children:t.name});case"csat-response":return t.comment?(0,S.jsx)("span",{children:t.comment}):(0,S.jsx)(ga.c,{id:"XOTLs2",defaultMessage:[{type:1,value:"score"},{type:0,value:"/5 score"}],values:{score:t.score.toString()}});case"contact-form-response":return(0,S.jsx)("span",{children:t.message});case"chat-input-response":return(0,S.jsx)("span",{children:t.answer});case"chat-menu-response":return(0,S.jsx)(qm,{message:e});case"form-response":return(0,S.jsx)("span",{children:(0,S.jsx)(ga.c,{id:"ilWK0y",defaultMessage:[{type:0,value:"Form submitted"}]})});case"chat-input-request":return(0,S.jsx)("span",{children:t.label??t.message});case"chat-menu-request":return(0,S.jsx)("span",{children:t.title??t.message??(0,S.jsx)(ga.c,{id:"Akv69T",defaultMessage:[{type:0,value:"Chose an option from the menu"}]})});case"form-request":return(0,S.jsx)("span",{children:t.title??t.body});case"contact-form-request":return(0,S.jsx)("span",{children:(0,S.jsx)(ga.c,{id:"N3Ewtg",defaultMessage:[{type:0,value:"Contact form"}]})});case"csat-request":return(0,S.jsx)("span",{children:t.mainQuestion})}var n}function qm({message:e}){const t=vu(e);return"chat-menu-response"===e.content.type?(0,S.jsx)("span",{children:(0,S.jsx)(ga.c,{id:"Akv69T",defaultMessage:[{type:0,value:"Chose an option from the menu"}]})}):(0,S.jsx)("span",{children:t})}const Om=d.cp.button.withConfig({displayName:"ConversationOverview__ConversationLink",componentId:"sc-zw64x4-0"})(["width:100%;background:",";border:0;display:flex;align-items:center;padding:"," ",";cursor:pointer;text-align:start;box-sizing:border-box;min-height:70px;&:hover{background:",";}"],(({$hasUnseenMessages:e})=>v(e?"neutral100":"neutral000")),b("200"),b("300"),v("neutral100")),zm=d.cp.div.withConfig({displayName:"ConversationOverview__Content",componentId:"sc-zw64x4-1"})(["flex:1;min-width:0;display:flex;flex-direction:column;margin-inline-start:",";"],b("300")),Pm=(0,d.cp)(ws).withConfig({displayName:"ConversationOverview__AgentName",componentId:"sc-zw64x4-2"})(["color:",";display:flex;align-items:center;gap:",";",""],v("textPrimary"),b("100"),(({$bold:e})=>e&&(0,d.gV)(["font-weight:600;"]))),Vm=(0,d.cp)(pi).withConfig({displayName:"ConversationOverview__StyledAvatar",componentId:"sc-zw64x4-3"})(["border:2px solid ",";"],v("neutral000"));function Fm(){const e=ss(Mt.getClosedConversations),{navigateTo:t}=eh(),{formatMessage:n}=(0,Ci.c)();return(0,S.jsxs)(Um,{"data-testid":"previous-conversations-container",children:[(0,S.jsx)(Ho,{title:n({id:"khigiR",defaultMessage:[{type:0,value:"Previous conversations"}]}),onClose:t.mainView}),(0,S.jsx)(Hm,{children:Object.entries(e).map((([e,t])=>(0,S.jsx)(Il.Provider,{value:{conversationId:e},children:(0,S.jsx)(Dm,{conversationId:e,conversation:t})},e)))})]})}const Um=d.cp.div.withConfig({displayName:"PreviousConversations__Container",componentId:"sc-1np3fgj-0"})(["display:flex;flex-direction:column;height:100%;"]),Hm=(0,d.cp)(Qo).withConfig({displayName:"PreviousConversations__Content",componentId:"sc-1np3fgj-1"})(["flex:1;border-top:1px solid ",";"],v("neutral200")),Dm=(0,d.cp)((function({conversationId:e,conversation:t,className:n}){const{navigateTo:s}=eh(),{formatMessage:i}=(0,Ci.c)(),a=Ep(),o=function(e){const{entries:t}=e;for(const e of(0,Lm.uG)(t.ids)){const n=t.entities[e];if("userSentMessage"===n?.type||"agentMessage"===n?.type||"chatbotMessage"===n?.type)return n}}(t),r=ss(Mt.getAgentByIdIfExists(t.agentId)),l=ss((t=>Mt.getConversationUnseenMessagesCount(t,e))),c=l>0,d=r?.name??"";return(0,S.jsxs)(Om,{className:n,onClick:()=>s.conversation({conversationId:e}),$hasUnseenMessages:c,"aria-label":i($m.conversationLinkLabel),children:[r?(0,S.jsx)(Vm,{avatarUrl:r.avatarUrl,name:d,size:"medium"}):a.general.logo?(0,S.jsx)(Vm,{avatarUrl:a.general.logo,name:d,size:"medium"}):(0,S.jsx)("div",{}),(0,S.jsxs)(zm,{children:[(0,S.jsxs)(Pm,{$textStyle:"body",$bold:c,children:[d," ",c&&(0,S.jsx)(qi,{count:l})]}),(0,S.jsx)(Bm,{messageEntry:o,sender:{name:d}})]})]})})).withConfig({displayName:"PreviousConversations__StyledOverview",componentId:"sc-1np3fgj-2"})(["border-bottom:1px solid ",";"],v("neutral200")),Wm=()=>(0,br.wh)(wp),Qm="messaging",Gm="knowledgeBase",Zm=[{path:"/",element:(0,S.jsx)(mg,{})},{path:`${Qm}/*`,element:(0,S.jsx)(Wm,{})},{path:`${Gm}/*`,element:(0,S.jsx)(km,{})}],Ym={previousConversations:"/previousConversations",bulletinItem:"/bulletin/:index",identityClaim:"/identityClaim",endConversation:"/endConversationModal/:conversationId",knowledgeBaseArticle:"/knowledgeBaseArticleModal/:articleId"},Km=[{path:Ym.bulletinItem,element:(0,S.jsx)(Vg,{})},{path:Ym.previousConversations,element:(0,S.jsx)(Fm,{})},{path:Ym.identityClaim,element:(0,S.jsx)(qg,{})},{path:Ym.endConversation,element:(0,S.jsx)(Tg,{})},{path:Ym.knowledgeBaseArticle,element:(0,S.jsx)(Dr,{withCloseButton:!0})}];function Jm(e,t,n,s){const{passesMinimumRequirement:a}=t,o="needsToUpgradeTo"in t?t.needsToUpgradeTo:void 0;if(a)e((0,i.qY)(n,s));else switch(o){case"anonymous":e(Ze({type:"anonymous"})).then((()=>{e((0,i.qY)(n,s))}));break;case"claim":e((0,i.qY)(`${Ym.identityClaim}/?redirect=${n}`,s));break;case"verified":console.error("User identity verification is needed but currently the identity is anonymous. Manual identity verification is not supported yet.")}}const Xm={mainView:()=>"/",newConversation:()=>`/${Qm}/${xp}`,previousConversations:()=>Ym.previousConversations,conversation:e=>`/${Qm}/${wr(bp,{conversationId:e})}`,bulletinItemModal:e=>wr(Ym.bulletinItem,{index:e}),knowledgeBaseHome:()=>`/${Gm}/`,knowledgeBaseArticle:e=>`/${Gm}/${wr(yl,{articleId:e})}`,knowledgeBaseArticleModal:(e,t)=>{let n=`${wr(Ym.knowledgeBaseArticle,{articleId:e})}`;return t&&(n=`${n}?companyId=${t}`),n},identityClaimModal:e=>`${Ym.identityClaim}/?redirect=${e}`,endConversationModal:e=>wr(Ym.endConversation,{conversationId:e})};function eh(){const e=(0,br.i6)(),t=function(){const e=(0,at.w1)(bl),t=is();return(0,j.useCallback)(((n,s)=>{Jm(t,e,n,s)}),[t,e])}(),n=(0,j.useContext)(gs),s=(0,j.useCallback)((e=>{setTimeout((()=>n?.send("view-changed",e)))}),[n]),i=(0,j.useMemo)((()=>{const n={mainView(t){e(Xm.mainView(),t),s(th.MainView)},createNewConversation(e){t(Xm.newConversation(),e),s(th.CreateNewConversation)},conversation({conversationId:e},n){t(Xm.conversation(e),n),s(th.Conversation)},previousConversations(e){t(Xm.previousConversations(),e),s(th.PreviousConversations)},bulletinItemModal({index:t},n){e(Xm.bulletinItemModal(t),n),s(th.BulletinItemModal)},knowledgeBaseHome(t){e(Xm.knowledgeBaseHome(),t),s(th.KnowledgeBase)},knowledgeBaseArticle(t,n){e(Xm.knowledgeBaseArticle(t),n),s(th.KnowledgeBaseArticle)},knowledgeBaseArticleModal({articleId:t,companyId:n},i){e(Xm.knowledgeBaseArticleModal(t,n),i),s(th.KnowledgeBaseArticle)},identityClaimModal(t,n){e(Xm.identityClaimModal(t?.redirect),n),s(th.IdentityClaimModal)},endConversationModal({conversationId:t},n){e(Xm.endConversationModal(t),n),s(th.EndConversationModal)},customPath(t,n){e(t,n)},_back:()=>{Xn.index>1?e(-1):n.mainView()}};return n}),[e,t,s]);return(0,j.useMemo)((()=>({navigateTo:i,resolveAppPath:Xm})),[i])}let th=function(e){return e.MainView="MainView",e.CreateNewConversation="CreateNewConversation",e.Conversation="Conversation",e.PreviousConversations="PreviousConversations",e.BulletinItemModal="BulletinItemModal",e.KnowledgeBase="KnowledgeBase",e.KnowledgeBaseArticle="KnowledgeBaseArticle",e.IdentityClaimModal="IdentityClaimModal",e.EndConversationModal="EndConversationModal",e}({});const nh=(0,Rn.Os)({justNow:{id:"bxv59V",defaultMessage:[{type:0,value:"Just now"}]},lessThanAMinuteAgo:{id:"4L2IJa",defaultMessage:[{type:0,value:"Less than a minute ago"}]}}),sh=1e3,ih=6e4,ah=36e5,oh=({className:e})=>{const{closeButtonIsVisible:t}=(0,at.w1)(z.getUIState),{general:{logo:n}}=Ep(),s=(0,j.useContext)(gs);return(0,S.jsxs)(rh,{className:e,$withCloseButton:t,children:[n?(0,S.jsx)(ch,{logo:n,$withCloseButton:t}):(0,S.jsx)(bi,{icon:qs,size:"400"}),t&&(0,S.jsx)(lh,{variant:"transparent",onClick:()=>s?.send("widget-open-changed",!1),children:(0,S.jsx)(bi,{icon:Hs})})]})},rh=d.cp.div.withConfig({displayName:"TopBrand__Container",componentId:"sc-115gwcm-0"})(["color:",";margin-bottom:",";display:flex;align-items:center;justify-content:",";gap:",";padding-right:",";padding-left:",";"],v("primary"),b("600"),(({$withCloseButton:e})=>e?"space-between":"center"),(({$withCloseButton:e})=>e?b("500"):0),b("300"),b("300")),lh=(0,d.cp)(Ti).withConfig({displayName:"TopBrand__CloseWidgetButton",componentId:"sc-115gwcm-1"})(["padding:0;width:",";height:",";&:hover{background-color:transparent;}"],b("700"),b("700")),ch=d.cp.div.withConfig({displayName:"TopBrand__Logo",componentId:"sc-115gwcm-2"})(["background-image:",";background-repeat:no-repeat;background-size:contain;background-position:"," center;height:40px;width:100%;margin-right:",";"],(({logo:e})=>`url(${e})`),(({$withCloseButton:e})=>e?"left":"center"),(({$withCloseButton:e})=>e?b("500"):0)),dh=(0,Rn.Os)({heading:{id:"hk8Yqt",defaultMessage:[{type:0,value:"Sorry,"}]},subHeading:{id:"YPZY2j",defaultMessage:[{type:0,value:"messenger is unavailable."}]}});function uh(){return(0,S.jsxs)(ph,{children:[(0,S.jsx)(oh,{}),(0,S.jsxs)(Qa,{direction:"column",alignItems:"center",justifyContent:"start",flex:1,children:[(0,S.jsx)(ws,{$textStyle:"headingH6",color:"neutral000",children:(0,S.jsx)(ga.c,{...dh.heading})}),(0,S.jsx)(ws,{$textStyle:"body",color:"neutral000",children:(0,S.jsx)(ga.c,{...dh.subHeading})})]}),(0,S.jsx)(ug,{displayBrand:!0})]})}const ph=d.cp.div.withConfig({displayName:"BannedScreen__Container",componentId:"sc-1xnjm2k-0"})(["position:relative;box-sizing:border-box;min-height:100%;width:100%;background:",";padding:",";padding-top:",";display:flex;flex-direction:column;justify-content:start;border-radius:",";"],x("mainGradient"),b("600"),b("700"),w("500")),gh=()=>{const{baseView:e,modalView:t}=function(){const e=(0,br.IT)(),t=(0,j.useRef)(),n=(0,br.wh)(Km,e);(0,j.useEffect)((()=>{null==n&&(t.current=e)}));const s=null==n?e:t.current,i=(0,br.wh)(Zm,s);return(0,j.useMemo)((()=>({baseView:i,modalView:n})),[i,n])}(),{isViewedOnSmallScreen:n}=ss(z.getUIState),s=ss(We),i=function(){const e=(0,j.useRef)(null),t=is(),n=(0,j.useCallback)((()=>{t(je(!0))}),[t]),s=(0,j.useCallback)((()=>{t(je(!1))}),[t]);return(0,j.useEffect)((()=>(window.addEventListener("focus",n),()=>window.removeEventListener("focus",n))),[n]),(0,j.useEffect)((()=>(window.addEventListener("blur",s),()=>window.removeEventListener("blur",s))),[s]),e}();return(0,S.jsxs)(fh,{ref:i,children:[(0,S.jsx)(hh,{}),(0,S.jsx)(xr,{$modalShowing:null!=t,$isViewedOnSmallScreen:n,children:s?(0,S.jsx)(uh,{}):e}),!s&&(0,S.jsx)(mh,{children:t})]})},mh=(0,d.cp)((function({children:e,className:t}){return(0,S.jsx)(Uo,{isOpen:null!=e,children:({isOpen:n,onModalTransitionEnd:s})=>(0,S.jsx)(Oo,{className:t,isOpen:n,onModalTransitionEnd:s,children:e})})})).withConfig({displayName:"Widget__StyledModal",componentId:"sc-1qjg2tj-0"})([""]),hh=(0,d.cp)((function({className:e}){const t=is(),n=(0,at.w1)(Sn.getVisibleNotifications),s=(0,Ci.c)();return(0,S.jsx)(ys,{className:e,children:n.map((e=>(0,S.jsx)(ar,{message:"string"==typeof e.message?e.message:s.formatMessage(e.message),onClose:()=>t(Cn(e)),variant:e.variant},e.id)))})})).withConfig({displayName:"Widget__StyledNotifications",componentId:"sc-1qjg2tj-1"})([""]),fh=d.cp.div.withConfig({displayName:"Widget__WidgetWrapper",componentId:"sc-1qjg2tj-2"})(["width:100vw;height:100vh;background-color:transparent;overflow:hidden;z-index:0;& > ","{z-index:1;}& > ","{z-index:2;}& > ","{z-index:3;}"],xr,mh,hh);var yh=n(652);const vh=({children:e})=>{const t=ss(z.getTheme),n=ss(z.getIsAppRTL)?[yh.c]:[];return(0,S.jsx)(d.Mp,{theme:t,children:(0,S.jsx)(d.Ko,{stylisPlugins:n,children:e})})};var xh=n(5076);const bh={locale:"en",messages:{}},wh=({children:e})=>{const t=(0,at.w1)(z.getLanguage),[s,i]=(0,j.useState)(bh);return(0,j.useEffect)((()=>{var e;"en"===t?i(bh):(e=t,n(6276)(`./${e}.json`)).then((e=>i({locale:t,messages:e}))).catch(console.error)}),[t]),(0,S.jsx)(xh.c,{locale:s.locale,messages:s.messages,children:e})},Ch=(0,hs.c4)((()=>(0,S.jsx)(j.StrictMode,{children:(0,S.jsx)(ms.Ou,{showDialog:!0,fallback:(0,S.jsx)(ua,{}),children:(0,S.jsx)(wh,{children:(0,S.jsx)(vh,{children:(0,S.jsxs)(i.ol,{history:Xn,children:[(0,S.jsx)(M,{}),(0,S.jsx)(gh,{})]})})})})})));var Ih=n(8352);const jh=({channelToShim:e,store:t})=>{let n;return{"widget-mount":({messengerToken:s,storedSessionToken:i,settings:a,userIdentity:o,showWidgetCloseButton:r,isViewedOnSmallScreen:l,resolvedLocale:c,originalInitData:d})=>{n=function({store:e,channelToShim:t,onDone:n}){function s(){return(0,j.useEffect)(n),(0,S.jsx)(at.C_,{store:e,children:(0,S.jsx)(gs.Provider,{value:t,children:(0,S.jsx)(Ch,{})})})}const i=document.getElementById("root");if(i){const e=(0,Ih.C)(i);return e.render((0,S.jsx)(s,{})),e}console.error("Element 'root' for the Dixa Messenger's Widget is not defined")}({store:t,channelToShim:e,onDone:function(){(t.dispatch(xe(d)),t.dispatch(be({messengerToken:s,storedSessionToken:i})),t.dispatch(we(o)),a&&t.dispatch(B(a)),t.dispatch(L(c)),(r||l)&&t.dispatch(E(!0)),t.dispatch(R(l)),a?.general.bulletinBoardEnabled&&a?.general.bulletinBoardId&&t.dispatch(Hn(a?.general.bulletinBoardId)),function(){const e=a.general.integrations?.elevio?.companyId;e&&t.dispatch(us(e))}(),(i?t.dispatch(Ge(i)).then((()=>{})):Promise.resolve()).then((()=>{}))).then((()=>{e.send("mount-completed")})),function(){const e=t.getState();qe(e)&&(t.dispatch(Me(!1)),t.dispatch(Qe({discardStoredSessionToken:!1})))}(),t.dispatch(ke())}})},"widget-shutdown":()=>{n&&(n.unmount(),n=void 0),e.send("shutdown-completed")},"set-widget-open":e=>{const n=t.getState(),s=ze(n);!Re(n)&&e&&(Oe(n)?t.dispatch(Qe({discardStoredSessionToken:!1})):t.dispatch(Me(!0))),e&&s||t.dispatch(Ce(e))},"set-theme":e=>{t.dispatch($(e))},"purge-user-identity":()=>{t.dispatch(we({type:"anonymous"}))},"set-view"(e){const n=function({dispatch:e,getState:t}){return{bulletinItemModal({params:n}){const{bulletins:s}=t().bulletin,a=s.findIndex((({id:e})=>e===n.bulletinId));-1!==a&&e((0,i.qY)(Xm.bulletinItemModal(`${a}`)))},conversation({params:n}){const s=n?.conversationId??Mt.getLatestOpenConversationId(t());s&&Mt.doesConversationExist(s)(t())&&e((0,i.qY)(Xm.conversation(s)))},createNewConversation:()=>{const n=t();if(Mt.hasOpenConversations(n)){const t=Mt.getLatestOpenConversationId(n);t&&Jm(e,bl(n),Xm.conversation(t))}else Jm(e,bl(n),Xm.newConversation())},mainView:()=>{e((0,i.qY)(Xm.mainView()))},previousConversations:()=>{e((0,i.qY)(Xm.previousConversations()))},knowledgeBaseHome:()=>{e((0,i.qY)(Xm.knowledgeBaseHome()))},knowledgeBaseArticle:({params:{articleId:t}})=>{e((0,i.qY)(Xm.knowledgeBaseArticle(t)))}}}(t);switch(e.view){case"conversation":return n.conversation(e);case"bulletin":return n.bulletinItemModal(e);case"newConversation":return n.createNewConversation();case"knowledgeBaseHome":return n.knowledgeBaseHome();case"knowledgeBaseArticle":return n.knowledgeBaseArticle(e);case"mainView":return n.mainView();case"previousConversations":return n.previousConversations()}},"end-conversation":e=>{e?.conversationId?t.dispatch(_t({conversationId:e.conversationId})):t.dispatch(ps())},"set-user-identity":async n=>{const s=t.getState();if("initial"===He(s))return void t.dispatch(we(n));if("anonymous"===n.type)return t.dispatch(we(n));const i=Oe(s)&&!Re(s);try{i?(await t.dispatch(Qe({discardStoredSessionToken:!0})),await t.dispatch(Ze(n)).unwrap()):await t.dispatch(Ye(n)).unwrap()}catch(t){fe.Ud.is(t)?(console.error("The provided email address is invalid"),e.send("backend-error",{type:"invalid-email-address",email:t.payload.email})):console.error("An unexpected error happened",t)}}}},Sh=e=>{const t={...jh(e)};let n;for(n in t){const s=t[n];e.channelToShim.addListener(n,s)}};var Mh=n(9904),kh=n(9776),_h=n(2752),Th=n(860);const Nh=function(e){const t=new URLSearchParams(e);return{nonce:t.get("nonce")||void 0,isSentryIntegrationDisabled:()=>function(e,t){const n=t.get(e);return null===n?void 0:"true"===n}("disableSentryIntegration",t)}}(window.location.search);n.nc=Nh.nonce,(({disableIntegration:e}={})=>{var t;e?console.info("Sentry integration disabled!"):o._c&&(t={dsn:"https://9d77c47ae1974e008e31d65d59313686@o46187.ingest.sentry.io/5561318",release:"prod:2024-03-14T09:25:04.332Z"},_h._({dsn:t.dsn,release:t.release,normalizeDepth:10,tracesSampleRate:1e-4,autoSessionTracking:!0,ignoreErrors:["Non-Error promise rejection captured","undefined is not an object (evaluating 'window.webkit.messageHandlers')"],integrations:[new Th.CC,new Mh.U({levels:["error"]}),new kh.U({depth:4})]}))})({disableIntegration:Nh.isSentryIntegrationDisabled()});const Ah=function(){const e=new ls("*");return e.setTargetWindow(window.parent),e}(),Lh=function(e,t){return function({preloadedState:e,dependencies:t}){return(0,a.eS)({reducer:es,preloadedState:e,middleware:e=>{const n=e({thunk:{extraArgument:t}}).concat(Y.middleware,(0,i.CO)(Xn));return n.push((e=>{const t=((e,t,n=2e3)=>{let s="",i=setTimeout((()=>{}),0);return a=>{const o=e(a);o!==s&&(clearTimeout(i),i=setTimeout((()=>t(a)),n),s=o)}})(Ln,(t=>{const n=(e=>({count:e.reduce(((e,t)=>e+t.unseenMessageIds.length),0),senders:[...new Set(e.map((e=>e.agent)).filter((e=>void 0!==e)))]}))(t);e.send("unseen-message-count-changed",n)}));return e=>n=>s=>{const i=n(s);return(0,Z.pipe)(e.getState(),An,t),i}})(t.channelToShim)),n.push(Mn),n.push(Vn),n.push((s=t.channelToShim,({dispatch:e,getState:t})=>n=>async i=>{if(!Ie.match(i))return n(i);if("connected"!==i.payload.status)return n(i);const a=t();if(!De(a))return console.info("Automatic user identification is not allowed, skipping."),n(i);const o=z.getMinimumIdentityRequirement(a),r=Pe(a);if(void 0===r){if("ANONYMOUS"===o)try{return await e(Ze({type:"anonymous"})).unwrap(),n(i)}catch(t){En(t,e)}return n(i)}if(new Bn({minimumIdentificationLevel:o}).passesMinimumRequiredIdentificationLevel(r))try{return await e(Ze(r)).unwrap(),n(i)}catch(n){e(Ne(!1)),En(n,e),await async function(e,{dispatch:t,getState:n}){if(fe.Su.is(e)){const e=n(),s=Pe(e),i=z.getMinimumIdentityRequirement(e);"claim"===s?.type&&"CLAIMED"===i?(console.error("This session has been associated with a different email address"),t(Ke(s))):console.error("Failed to set the identity. This could be caused by trying to downgrade the identity or providing an invalid identity.")}}(n,{dispatch:e,getState:t,widgetToShimChannel:s})}return n(i)})),n.push((e=>t=>n=>async s=>{if(!(0,kn.Eh)(s))return n(s);if(we.match(s)&&(i=e,a=s.payload,i.send("user-identity-changed",a)),je.match(s)&&((e,t)=>{e.send("widget-focus-changed",t)})(e,s.payload?"focused":"blurred"),Rt.match(s)&&((e,t)=>{e.send("agent-assigned",t)})(e,s.payload.agent),qt.match(s)){const n=Mt.getAgentById(s.payload.agent_id)(t.getState());n&&((e,t)=>{e.send("agent-unassigned",t)})(e,n)}var i,a;if(Zt.match(s)&&"user"===s.payload.from)switch(s.payload.content.type){case"text":_n(e,Tn(s.payload.content,"user"));break;case"attachment":_n(e,Nn(s.payload.content,"user"))}if(Ft.match(s)&&"agent"===s.payload.from)switch(s.payload.content.type){case"text":_n(e,Tn(s.payload.content,"agent"));break;case"attachment":_n(e,Nn(s.payload.content,"agent"))}if(kt.fulfilled.match(s)){const n=Mt.getClosedConversations(t.getState());s.payload.conversationId in n||((e,t)=>{e.send("conversation-started",t)})(e,{conversationId:s.payload.conversationId})}return Ut.match(s)&&((e,t)=>{e.send("conversation-ended",t)})(e,{conversationId:s.payload.conversationId}),Ae.match(s)&&(e=>{e.send("user-banned")})(e),Le.match(s)&&(e=>{e.send("user-unbanned")})(e),n(s)})(t.channelToShim)),n.push(P),n.push(pn),n.push(cn),(0,o.sP)()&&n.push((0,ns.createLogger)({collapsed:!0,duration:!0})),n;var s},enhancers:e=>e().concat(ts)})}({dependencies:{services:e,channelToShim:t}})}(s.sH,Ah);var $h;$h={channelToShim:Ah,store:Lh,services:s.sH},[st,Sh,ds,cs].forEach((e=>e($h))),Ah.send("bootstrap-completed")},6276:(e,t,n)=>{var s={"./ar.json":[4312,576],"./da.json":[5516,296],"./de.json":[1184,316],"./en.json":[3676,328],"./es.json":[6536,688],"./et.json":[9664,70],"./fi.json":[2780,240],"./fr.json":[1716,332],"./hu.json":[8467,928],"./is.json":[8623,300],"./it.json":[7866,320],"./ja.json":[8112,680],"./ko.json":[3772,916],"./lt.json":[5570,235],"./lv.json":[2432,832],"./nl.json":[3944,760],"./no.json":[4904,752],"./pl.json":[1256,11],"./pt.json":[4348,416],"./ru.json":[8624,812],"./sv.json":[2836,544],"./th.json":[6662,930],"./tr.json":[164,456],"./zh.json":[5672,80]};function i(e){if(!n.o(s,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],i=t[0];return n.e(t[1]).then((()=>n.t(i,19)))}i.keys=()=>Object.keys(s),i.id=6276,e.exports=i}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return a[e].call(n.exports,n,n.exports,r),n.exports}r.m=a,e=[],r.O=(t,n,s,i)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,s,i]=e[d],o=!0,l=0;l<n.length;l++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[l])))?n.splice(l--,1):(o=!1,i<a&&(a=i));if(o){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[n,s,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,r.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var i=Object.create(null);r.r(i);var a={};t=t||[null,n({}),n([]),n(n)];for(var o=2&s&&e;"object"==typeof o&&!~t.indexOf(o);o=n(o))Object.getOwnPropertyNames(o).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,r.d(i,a),i},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>""+{11:"lang-pl-json",70:"lang-et-json",80:"lang-zh-json",235:"lang-lt-json",240:"lang-fi-json",296:"lang-da-json",300:"lang-is-json",316:"lang-de-json",320:"lang-it-json",328:"lang-en-json",332:"lang-fr-json",416:"lang-pt-json",456:"lang-tr-json",544:"lang-sv-json",576:"lang-ar-json",680:"lang-ja-json",688:"lang-es-json",752:"lang-no-json",760:"lang-nl-json",812:"lang-ru-json",832:"lang-lv-json",916:"lang-ko-json",928:"lang-hu-json",930:"lang-th-json"}[e]+{11:"e0bb149f9a3d1b857e60",70:"20b0a5e1e0459caf6e4a",80:"71cd877127176176fc98",235:"26af6f0a9ca48dc57df1",240:"33fc8231f4aab71f96f9",296:"c29d20886c7587f1fb9e",300:"1117ba85b8869b933332",316:"84b38be5c54c056ba2e7",320:"f211cb65cb8920dc83df",328:"d533241d7ac494a506cf",332:"6b5247d7320206abe778",416:"992d7cb83ef3ae5038fe",456:"3fa8c581de5b892f88d9",544:"ca50501d9ccc02e798a3",576:"814b756685ac5f9e8068",680:"d1d45ea937fd1c815c44",688:"9accd68005afebcb1bb9",752:"30e8bea34e10216bf354",760:"1809ea3feccdf154d3ec",812:"67b933d881d6f28ebbac",832:"2e8e0f779118ac2c4fad",916:"7294748a90660469fa2e",928:"f2c4a18715bc2702e052",930:"e1aac0c7e3700f264f2e"}[e]+".js",r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s={},i="messenger-widget:",r.l=(e,t,n,a)=>{if(s[e])s[e].push(t);else{var o,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==i+n){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",i+n),o.src=e),s[e]=[t];var p=(t,n)=>{o.onerror=o.onload=null,clearTimeout(g);var i=s[e];if(delete s[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},g=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),l&&document.head.appendChild(o)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=128,r.p="/",(()=>{if(void 0!==r){var e=r.u,t=r.e,n={},s={};r.u=function(t){return e(t)+(n.hasOwnProperty(t)?"?"+n[t]:"")},r.e=function(i){return t(i).catch((function(t){var a=s.hasOwnProperty(i)?s[i]:3;if(a<1){var o=e(i);throw t.message="Loading chunk "+i+" failed after 3 retries.\n("+o+")",t.request=o,t}return new Promise((function(e){var t=3-a+1;setTimeout((function(){var o="cache-bust=true&retry-attempt="+t;n[i]=o,s[i]=a-1,e(r.e(i))}),0)}))}))}}})(),(()=>{var e={128:0,572:0};r.f.j=(t,n)=>{var s=r.o(e,t)?e[t]:void 0;if(0!==s)if(s)n.push(s[2]);else{var i=new Promise(((n,i)=>s=e[t]=[n,i]));n.push(s[2]=i);var a=r.p+r.u(t),o=new Error;r.l(a,(n=>{if(r.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,s[1](o)}}),"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,n)=>{var s,i,[a,o,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(s in o)r.o(o,s)&&(r.m[s]=o[s]);if(l)var d=l(r)}for(t&&t(n);c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(d)},n=globalThis.webpackChunkmessenger_widget=globalThis.webpackChunkmessenger_widget||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.nc=void 0;var l=r.O(void 0,[968],(()=>r(4700)));l=r.O(l)})();